#!/bin/bash

# Script per aprire il browser in modalit√† sviluppo pulita
# Uso: ./scripts/open-clean-browser

echo "üßπ Apertura browser in modalit√† sviluppo pulita..."

# Verifica se Chrome √® disponibile
if command -v "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome" &> /dev/null; then
    echo "üì± Apertura Chrome in modalit√† incognito senza estensioni..."
    "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome" \
        --incognito \
        --disable-extensions \
        --disable-plugins \
        --disable-default-apps \
        --user-data-dir=/tmp/chrome-clean-dev \
        "http://localhost:3000" &
    echo "‚úÖ Chrome aperto senza estensioni"
    
# Fallback per altri browser
elif command -v open &> /dev/null; then
    echo "üì± Apertura browser di default..."
    open "http://localhost:3000"
    echo "‚ö†Ô∏è  Ricorda di disabilitare manualmente le estensioni"
    
else
    echo "‚ùå Browser non trovato. Apri manualmente:"
    echo "   URL: http://localhost:3000"
    echo "   Modalit√†: Incognito/Privata senza estensioni"
fi

echo ""
echo "üéØ Per eliminare completamente gli errori console:"
echo "   1. Usa la finestra appena aperta (senza estensioni)"
echo "   2. Oppure disabilita manualmente le estensioni in chrome://extensions/"
echo "   3. Oppure usa un profilo browser dedicato allo sviluppo"

