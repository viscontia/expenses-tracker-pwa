const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-CIBaqmlP.js","assets/index-DRQOx_Xf.js","assets/index-Wc4HU6Xo.css","assets/formatters-BSk7yeV2.js","assets/trending-up-BLktqF8c.js","assets/createLucideIcon-BKpj3lx_.js","assets/x-DeAad_EH.js","assets/currencyCalculations-CUXR8wUr.js","assets/funnel-BOiw8F9t.js","assets/trash-2-SXi9PSPc.js","assets/calendar-D2ZVVomX.js","assets/file-text-GkSa6YAt.js"])))=>i.map(i=>d[i]);
import{j as J,_ as Bl,r as se,R as tt,d as Uh,e as $u,f as Hh,b as Wh,a as Vu,t as ml}from"./index-DRQOx_Xf.js";import{f as ql,a as kn}from"./formatters-BSk7yeV2.js";import{C as $h,T as Vh,G as Gh,D as Yh}from"./trending-up-BLktqF8c.js";import{X as Bc}from"./x-DeAad_EH.js";import{c as yi}from"./currencyCalculations-CUXR8wUr.js";import{F as Gu}from"./funnel-BOiw8F9t.js";import{S as vl,E as Jh,P as Kh,T as Xh}from"./trash-2-SXi9PSPc.js";import{C as Yu}from"./calendar-D2ZVVomX.js";import{F as Zh}from"./file-text-GkSa6YAt.js";function Qh({columns:t,data:e,keyField:r,emptyMessage:n="No data available",className:o="",groupBy:i,groupHeader:s,calculateGroupTotal:u,formatCurrency:c,selectedCurrency:h}){if(e.length===0)return J.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 text-center ${o}`,children:J.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:n})});const g=()=>{if(!i)return e.map(x=>J.jsx("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:t.map(F=>J.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white ${F.className||""}`,children:F.render?F.render(x[F.key],x):x[F.key]},F.key))},x[r]));const b=[];let p=null,A=[];const P=new Map,j=new Map;if(e.forEach(x=>{const F=typeof i=="function"?i(x):x[i],R=F||"Senza categoria";if(j.has(R)||(j.set(R,0),P.set(R,0)),j.set(R,j.get(R)+1),u){const te=u(F,[x]);P.set(R,P.get(R)+te)}}),e.forEach((x,F)=>{const R=typeof i=="function"?i(x):x[i];if(p!==R){if(p&&A.length>0&&u&&c&&h){const Z=u(p,A);b.push(J.jsx("tr",{className:"bg-green-50 dark:bg-green-900/20",children:J.jsx("td",{colSpan:t.length,className:"px-6 py-2 text-right",children:J.jsxs("div",{className:"text-sm font-semibold text-green-800 dark:text-green-200",children:["Totale ",p,": ",c(Z,h)]})})},`group-total-${p}-${F}`))}p=R,A=[];const G=R||"Senza categoria",te=P.get(G)||0,ue=j.get(G)||0;b.push(J.jsx("tr",{className:"bg-blue-50 dark:bg-blue-900/20",children:J.jsx("td",{colSpan:t.length,className:"px-6 py-3",children:s?s(R,x,te,ue):J.jsxs("div",{className:"flex justify-between items-center",children:[J.jsx("div",{className:"text-sm font-semibold text-blue-800 dark:text-blue-200",children:R}),J.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-300",children:[ue," spese",c&&h&&J.jsxs("span",{className:"ml-2 text-green-700 dark:text-green-300",children:["• ",c(te,h)]})]})]})})},`group-${R}-${F}`))}A.push(x),b.push(J.jsx("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:t.map(G=>J.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white ${G.className||""}`,children:G.render?G.render(x[G.key],x):x[G.key]},G.key))},x[r]))}),p&&A.length>0&&u&&c&&h){const x=u(p,A);b.push(J.jsx("tr",{className:"bg-green-50 dark:bg-green-900/20",children:J.jsx("td",{colSpan:t.length,className:"px-6 py-2 text-right",children:J.jsxs("div",{className:"text-sm font-semibold text-green-800 dark:text-green-200",children:["Totale ",p,": ",c(x,h)]})})},`group-total-${p}-final`))}return b},v=()=>{if(!i)return e.map(x=>J.jsx("div",{className:"p-4 space-y-3",children:t.map(F=>J.jsxs("div",{className:"flex justify-between items-start",children:[J.jsxs("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 flex-shrink-0 mr-3",children:[F.label,":"]}),J.jsx("span",{className:"text-sm text-gray-900 dark:text-white text-right min-w-0 flex-1",children:F.render?F.render(x[F.key],x):x[F.key]})]},F.key))},x[r]));const b=[];let p=null,A=[];const P=new Map,j=new Map;if(e.forEach(x=>{const F=typeof i=="function"?i(x):x[i],R=F||"Senza categoria";if(j.has(R)||(j.set(R,0),P.set(R,0)),j.set(R,j.get(R)+1),u){const te=u(F,[x]);P.set(R,P.get(R)+te)}}),e.forEach((x,F)=>{const R=typeof i=="function"?i(x):x[i];if(p!==R){if(p&&A.length>0&&u&&c&&h){const Z=u(p,A);b.push(J.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 px-4 py-2 border-b border-green-200 dark:border-green-700",children:J.jsxs("div",{className:"text-sm font-semibold text-green-800 dark:text-green-200 text-right",children:["Totale ",p,": ",c(Z,h)]})},`mobile-group-total-${p}-${F}`))}p=R,A=[];const G=R||"Senza categoria",te=P.get(G)||0,ue=j.get(G)||0;b.push(J.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 px-4 py-3 border-b border-blue-200 dark:border-blue-700",children:s?s(R,x,te,ue):J.jsxs("div",{className:"flex justify-between items-center",children:[J.jsx("div",{className:"text-sm font-semibold text-blue-800 dark:text-blue-200",children:R}),J.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-300",children:[ue," spese",c&&h&&J.jsxs("span",{className:"ml-2 text-green-700 dark:text-green-300",children:["• ",c(te,h)]})]})]})},`mobile-group-${R}-${F}`))}A.push(x),b.push(J.jsx("div",{className:"p-4 space-y-3",children:t.map(G=>J.jsxs("div",{className:"flex justify-between items-start",children:[J.jsxs("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 flex-shrink-0 mr-3",children:[G.label,":"]}),J.jsx("span",{className:"text-sm text-gray-900 dark:text-white text-right min-w-0 flex-1",children:G.render?G.render(x[G.key],x):x[G.key]})]},G.key))},x[r]))}),p&&A.length>0&&u&&c&&h){const x=u(p,A);b.push(J.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 px-4 py-2 border-b border-green-200 dark:border-green-700",children:J.jsxs("div",{className:"text-sm font-semibold text-green-800 dark:text-green-200 text-right",children:["Totale ",p,": ",c(x,h)]})},`mobile-group-total-${p}-final`))}return b};return J.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden ${o}`,children:[J.jsx("div",{className:"hidden md:block overflow-x-auto",children:J.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[J.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:J.jsx("tr",{children:t.map(b=>J.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:b.label},b.key))})}),J.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:g()})]})}),J.jsx("div",{className:"md:hidden divide-y divide-gray-200 dark:divide-gray-700",children:v()})]})}const qc=({source:t,rate:e,fromCurrency:r,toCurrency:n,className:o="",showTooltip:i=!0})=>{const s=t==="historical",u=`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${o}`,c=s?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",h=s?$h:Vh,g=s?"Historical":"Current",v=s?"Using historical exchange rate from expense date":"Using current exchange rate (historical rate not available)",b=e&&r&&n?`${ql(e,4)} ${r}/${n}`:"";return J.jsxs("div",{className:"relative group",children:[J.jsxs("span",{className:`${u} ${c}`,children:[J.jsx(h,{className:"w-3 h-3 mr-1"}),g,e&&J.jsx("span",{className:"ml-1 font-mono",children:ql(e,4)})]}),i&&J.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-10",children:[J.jsxs("div",{className:"text-center",children:[J.jsx("div",{children:v}),b&&J.jsx("div",{className:"font-mono mt-1",children:b})]}),J.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]})},Ju=globalThis||void 0||self;function gt(t){"@babel/helpers - typeof";return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt(t)}var ar=Uint8Array,Sr=Uint16Array,uu=Int32Array,gs=new ar([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ms=new ar([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),zl=new ar([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),zc=function(t,e){for(var r=new Sr(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var o=new uu(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)o[i]=i-r[n]<<5|n;return{b:r,r:o}},Uc=zc(gs,2),Hc=Uc.b,Ul=Uc.r;Hc[28]=258,Ul[258]=28;var Wc=zc(ms,0),ed=Wc.b,Ku=Wc.r,Hl=new Sr(32768);for(var At=0;At<32768;++At){var Xn=(At&43690)>>1|(At&21845)<<1;Xn=(Xn&52428)>>2|(Xn&13107)<<2,Xn=(Xn&61680)>>4|(Xn&3855)<<4,Hl[At]=((Xn&65280)>>8|(Xn&255)<<8)>>1}var dn=function(t,e,r){for(var n=t.length,o=0,i=new Sr(e);o<n;++o)t[o]&&++i[t[o]-1];var s=new Sr(e);for(o=1;o<e;++o)s[o]=s[o-1]+i[o-1]<<1;var u;if(r){u=new Sr(1<<e);var c=15-e;for(o=0;o<n;++o)if(t[o])for(var h=o<<4|t[o],g=e-t[o],v=s[t[o]-1]++<<g,b=v|(1<<g)-1;v<=b;++v)u[Hl[v]>>c]=h}else for(u=new Sr(n),o=0;o<n;++o)t[o]&&(u[o]=Hl[s[t[o]-1]++]>>15-t[o]);return u},ii=new ar(288);for(var At=0;At<144;++At)ii[At]=8;for(var At=144;At<256;++At)ii[At]=9;for(var At=256;At<280;++At)ii[At]=7;for(var At=280;At<288;++At)ii[At]=8;var ro=new ar(32);for(var At=0;At<32;++At)ro[At]=5;var td=dn(ii,9,0),rd=dn(ii,9,1),nd=dn(ro,5,0),id=dn(ro,5,1),bl=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},$r=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},yl=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},cu=function(t){return(t+7)/8|0},$c=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new ar(t.subarray(e,r))},ad=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Gr=function(t,e,r){var n=new Error(e||ad[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Gr),!r)throw n;return n},od=function(t,e,r,n){var o=t.length,i=0;if(!o||e.f&&!e.l)return r||new ar(0);var s=!r,u=s||e.i!=2,c=e.i;s&&(r=new ar(o*3));var h=function(we){var _e=r.length;if(we>_e){var Ce=new ar(Math.max(_e*2,we));Ce.set(r),r=Ce}},g=e.f||0,v=e.p||0,b=e.b||0,p=e.l,A=e.d,P=e.m,j=e.n,x=o*8;do{if(!p){g=$r(t,v,1);var F=$r(t,v+1,3);if(v+=3,F)if(F==1)p=rd,A=id,P=9,j=5;else if(F==2){var ue=$r(t,v,31)+257,Z=$r(t,v+10,15)+4,z=ue+$r(t,v+5,31)+1;v+=14;for(var ae=new ar(z),pe=new ar(19),C=0;C<Z;++C)pe[zl[C]]=$r(t,v+C*3,7);v+=Z*3;for(var E=bl(pe),H=(1<<E)-1,q=dn(pe,E,1),C=0;C<z;){var ce=q[$r(t,v,H)];v+=ce&15;var R=ce>>4;if(R<16)ae[C++]=R;else{var le=0,fe=0;for(R==16?(fe=3+$r(t,v,3),v+=2,le=ae[C-1]):R==17?(fe=3+$r(t,v,7),v+=3):R==18&&(fe=11+$r(t,v,127),v+=7);fe--;)ae[C++]=le}}var ee=ae.subarray(0,ue),he=ae.subarray(ue);P=bl(ee),j=bl(he),p=dn(ee,P,1),A=dn(he,j,1)}else Gr(1);else{var R=cu(v)+4,G=t[R-4]|t[R-3]<<8,te=R+G;if(te>o){c&&Gr(0);break}u&&h(b+G),r.set(t.subarray(R,te),b),e.b=b+=G,e.p=v=te*8,e.f=g;continue}if(v>x){c&&Gr(0);break}}u&&h(b+131072);for(var ve=(1<<P)-1,Pe=(1<<j)-1,L=v;;L=v){var le=p[yl(t,v)&ve],I=le>>4;if(v+=le&15,v>x){c&&Gr(0);break}if(le||Gr(2),I<256)r[b++]=I;else if(I==256){L=v,p=null;break}else{var B=I-254;if(I>264){var C=I-257,U=gs[C];B=$r(t,v,(1<<U)-1)+Hc[C],v+=U}var K=A[yl(t,v)&Pe],ie=K>>4;K||Gr(3),v+=K&15;var he=ed[ie];if(ie>3){var U=ms[ie];he+=yl(t,v)&(1<<U)-1,v+=U}if(v>x){c&&Gr(0);break}u&&h(b+131072);var oe=b+B;if(b<he){var O=i-he,ge=Math.min(he,oe);for(O+b<0&&Gr(3);b<ge;++b)r[b]=n[O+b]}for(;b<oe;++b)r[b]=r[b-he]}}e.l=p,e.p=L,e.b=b,e.f=g,p&&(g=1,e.m=P,e.d=A,e.n=j)}while(!g);return b!=r.length&&s?$c(r,0,b):r.subarray(0,b)},_n=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Ga=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},wl=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var o=r.length,i=r.slice();if(!o)return{t:Gc,l:0};if(o==1){var s=new ar(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(te,ue){return te.f-ue.f}),r.push({s:-1,f:25001});var u=r[0],c=r[1],h=0,g=1,v=2;for(r[0]={s:-1,f:u.f+c.f,l:u,r:c};g!=o-1;)u=r[r[h].f<r[v].f?h++:v++],c=r[h!=g&&r[h].f<r[v].f?h++:v++],r[g++]={s:-1,f:u.f+c.f,l:u,r:c};for(var b=i[0].s,n=1;n<o;++n)i[n].s>b&&(b=i[n].s);var p=new Sr(b+1),A=Wl(r[g-1],p,0);if(A>e){var n=0,P=0,j=A-e,x=1<<j;for(i.sort(function(ue,Z){return p[Z.s]-p[ue.s]||ue.f-Z.f});n<o;++n){var F=i[n].s;if(p[F]>e)P+=x-(1<<A-p[F]),p[F]=e;else break}for(P>>=j;P>0;){var R=i[n].s;p[R]<e?P-=1<<e-p[R]++-1:++n}for(;n>=0&&P;--n){var G=i[n].s;p[G]==e&&(--p[G],++P)}A=e}return{t:new ar(p),l:A}},Wl=function(t,e,r){return t.s==-1?Math.max(Wl(t.l,e,r+1),Wl(t.r,e,r+1)):e[t.s]=r},Xu=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Sr(++e),n=0,o=t[0],i=1,s=function(c){r[n++]=c},u=1;u<=e;++u)if(t[u]==o&&u!=e)++i;else{if(!o&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(o),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(o);i=1,o=t[u]}return{c:r.subarray(0,n),n:e}},Ya=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Vc=function(t,e,r){var n=r.length,o=cu(e+2);t[o]=n&255,t[o+1]=n>>8,t[o+2]=t[o]^255,t[o+3]=t[o+1]^255;for(var i=0;i<n;++i)t[o+i+4]=r[i];return(o+4+n)*8},Zu=function(t,e,r,n,o,i,s,u,c,h,g){_n(e,g++,r),++o[256];for(var v=wl(o,15),b=v.t,p=v.l,A=wl(i,15),P=A.t,j=A.l,x=Xu(b),F=x.c,R=x.n,G=Xu(P),te=G.c,ue=G.n,Z=new Sr(19),z=0;z<F.length;++z)++Z[F[z]&31];for(var z=0;z<te.length;++z)++Z[te[z]&31];for(var ae=wl(Z,7),pe=ae.t,C=ae.l,E=19;E>4&&!pe[zl[E-1]];--E);var H=h+5<<3,q=Ya(o,ii)+Ya(i,ro)+s,ce=Ya(o,b)+Ya(i,P)+s+14+3*E+Ya(Z,pe)+2*Z[16]+3*Z[17]+7*Z[18];if(c>=0&&H<=q&&H<=ce)return Vc(e,g,t.subarray(c,c+h));var le,fe,ee,he;if(_n(e,g,1+(ce<q)),g+=2,ce<q){le=dn(b,p,0),fe=b,ee=dn(P,j,0),he=P;var ve=dn(pe,C,0);_n(e,g,R-257),_n(e,g+5,ue-1),_n(e,g+10,E-4),g+=14;for(var z=0;z<E;++z)_n(e,g+3*z,pe[zl[z]]);g+=3*E;for(var Pe=[F,te],L=0;L<2;++L)for(var I=Pe[L],z=0;z<I.length;++z){var B=I[z]&31;_n(e,g,ve[B]),g+=pe[B],B>15&&(_n(e,g,I[z]>>5&127),g+=I[z]>>12)}}else le=td,fe=ii,ee=nd,he=ro;for(var z=0;z<u;++z){var U=n[z];if(U>255){var B=U>>18&31;Ga(e,g,le[B+257]),g+=fe[B+257],B>7&&(_n(e,g,U>>23&31),g+=gs[B]);var K=U&31;Ga(e,g,ee[K]),g+=he[K],K>3&&(Ga(e,g,U>>5&8191),g+=ms[K])}else Ga(e,g,le[U]),g+=fe[U]}return Ga(e,g,le[256]),g+fe[256]},sd=new uu([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Gc=new ar(0),ld=function(t,e,r,n,o,i){var s=i.z||t.length,u=new ar(n+s+5*(1+Math.ceil(s/7e3))+o),c=u.subarray(n,u.length-o),h=i.l,g=(i.r||0)&7;if(e){g&&(c[0]=i.r>>3);for(var v=sd[e-1],b=v>>13,p=v&8191,A=(1<<r)-1,P=i.p||new Sr(32768),j=i.h||new Sr(A+1),x=Math.ceil(r/3),F=2*x,R=function(Be){return(t[Be]^t[Be+1]<<x^t[Be+2]<<F)&A},G=new uu(25e3),te=new Sr(288),ue=new Sr(32),Z=0,z=0,ae=i.i||0,pe=0,C=i.w||0,E=0;ae+2<s;++ae){var H=R(ae),q=ae&32767,ce=j[H];if(P[q]=ce,j[H]=q,C<=ae){var le=s-ae;if((Z>7e3||pe>24576)&&(le>423||!h)){g=Zu(t,c,0,G,te,ue,z,pe,E,ae-E,g),pe=Z=z=0,E=ae;for(var fe=0;fe<286;++fe)te[fe]=0;for(var fe=0;fe<30;++fe)ue[fe]=0}var ee=2,he=0,ve=p,Pe=q-ce&32767;if(le>2&&H==R(ae-Pe))for(var L=Math.min(b,le)-1,I=Math.min(32767,ae),B=Math.min(258,le);Pe<=I&&--ve&&q!=ce;){if(t[ae+ee]==t[ae+ee-Pe]){for(var U=0;U<B&&t[ae+U]==t[ae+U-Pe];++U);if(U>ee){if(ee=U,he=Pe,U>L)break;for(var K=Math.min(Pe,U-2),ie=0,fe=0;fe<K;++fe){var oe=ae-Pe+fe&32767,O=P[oe],ge=oe-O&32767;ge>ie&&(ie=ge,ce=oe)}}}q=ce,ce=P[q],Pe+=q-ce&32767}if(he){G[pe++]=268435456|Ul[ee]<<18|Ku[he];var we=Ul[ee]&31,_e=Ku[he]&31;z+=gs[we]+ms[_e],++te[257+we],++ue[_e],C=ae+ee,++Z}else G[pe++]=t[ae],++te[t[ae]]}}for(ae=Math.max(ae,C);ae<s;++ae)G[pe++]=t[ae],++te[t[ae]];g=Zu(t,c,h,G,te,ue,z,pe,E,ae-E,g),h||(i.r=g&7|c[g/8|0]<<3,g-=7,i.h=j,i.p=P,i.i=ae,i.w=C)}else{for(var ae=i.w||0;ae<s+h;ae+=65535){var Ce=ae+65535;Ce>=s&&(c[g/8|0]=h,Ce=s),g=Vc(c,g+1,t.subarray(ae,Ce))}i.i=s}return $c(u,0,n+cu(g)+o)},Yc=function(){var t=1,e=0;return{p:function(r){for(var n=t,o=e,i=r.length|0,s=0;s!=i;){for(var u=Math.min(s+2655,i);s<u;++s)o+=n+=r[s];n=(n&65535)+15*(n>>16),o=(o&65535)+15*(o>>16)}t=n,e=o},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},ud=function(t,e,r,n,o){if(!o&&(o={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),s=new ar(i.length+t.length);s.set(i),s.set(t,i.length),t=s,o.w=i.length}return ld(t,e.level==null?6:e.level,e.mem==null?o.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,o)},Jc=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},cd=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var o=Yc();o.p(e.dictionary),Jc(t,2,o.d())}},fd=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Gr(6,"invalid zlib data"),(t[1]>>5&1)==1&&Gr(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function $l(t,e){e||(e={});var r=Yc();r.p(t);var n=ud(t,e,e.dictionary?6:2,4);return cd(n,e),Jc(n,n.length-4,r.d()),n}function hd(t,e){return od(t.subarray(fd(t),-4),{i:2},e,e)}var dd=typeof TextDecoder<"u"&&new TextDecoder,pd=0;try{dd.decode(Gc,{stream:!0}),pd=1}catch{}var Ve=function(){return typeof window<"u"?window:typeof Ju<"u"?Ju:typeof self<"u"?self:this}();function xl(){Ve.console&&typeof Ve.console.log=="function"&&Ve.console.log.apply(Ve.console,arguments)}var wt={log:xl,warn:function(t){Ve.console&&(typeof Ve.console.warn=="function"?Ve.console.warn.apply(Ve.console,arguments):xl.call(null,arguments))},error:function(t){Ve.console&&(typeof Ve.console.error=="function"?Ve.console.error.apply(Ve.console,arguments):xl(t))}};function Nl(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){wi(n.response,e,r)},n.onerror=function(){wt.error("could not download file")},n.send()}function Qu(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ko(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Za,Vl,wi=Ve.saveAs||((typeof window>"u"?"undefined":gt(window))!=="object"||window!==Ve?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Ve.URL||Ve.webkitURL,o=document.createElement("a");e=e||t.name||"download",o.download=e,o.rel="noopener",typeof t=="string"?(o.href=t,o.origin!==location.origin?Qu(o.href)?Nl(t,e,r):Ko(o,o.target="_blank"):Ko(o)):(o.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(o.href)},4e4),setTimeout(function(){Ko(o)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(Qu(t))Nl(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Ko(n)})}else navigator.msSaveOrOpenBlob(function(o,i){return i===void 0?i={autoBom:!1}:gt(i)!=="object"&&(wt.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Nl(t,e,r);var o=t.type==="application/octet-stream",i=/constructor/i.test(Ve.HTMLElement)||Ve.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||o&&i)&&(typeof FileReader>"u"?"undefined":gt(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var g=u.result;g=s?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=g:location=g,n=null},u.readAsDataURL(t)}else{var c=Ve.URL||Ve.webkitURL,h=c.createObjectURL(t);n?n.location=h:location.href=h,n=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Kc(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],n=0;n<r.length;n++){var o=r[n].re,i=r[n].process,s=o.exec(t);s&&(e=i(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return u.length==1&&(u="0"+u),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+u+c+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Sl(t,e){var r=t[0],n=t[1],o=t[2],i=t[3];r=tr(r,n,o,i,e[0],7,-680876936),i=tr(i,r,n,o,e[1],12,-389564586),o=tr(o,i,r,n,e[2],17,606105819),n=tr(n,o,i,r,e[3],22,-1044525330),r=tr(r,n,o,i,e[4],7,-176418897),i=tr(i,r,n,o,e[5],12,1200080426),o=tr(o,i,r,n,e[6],17,-1473231341),n=tr(n,o,i,r,e[7],22,-45705983),r=tr(r,n,o,i,e[8],7,1770035416),i=tr(i,r,n,o,e[9],12,-1958414417),o=tr(o,i,r,n,e[10],17,-42063),n=tr(n,o,i,r,e[11],22,-1990404162),r=tr(r,n,o,i,e[12],7,1804603682),i=tr(i,r,n,o,e[13],12,-40341101),o=tr(o,i,r,n,e[14],17,-1502002290),r=rr(r,n=tr(n,o,i,r,e[15],22,1236535329),o,i,e[1],5,-165796510),i=rr(i,r,n,o,e[6],9,-1069501632),o=rr(o,i,r,n,e[11],14,643717713),n=rr(n,o,i,r,e[0],20,-373897302),r=rr(r,n,o,i,e[5],5,-701558691),i=rr(i,r,n,o,e[10],9,38016083),o=rr(o,i,r,n,e[15],14,-660478335),n=rr(n,o,i,r,e[4],20,-405537848),r=rr(r,n,o,i,e[9],5,568446438),i=rr(i,r,n,o,e[14],9,-1019803690),o=rr(o,i,r,n,e[3],14,-187363961),n=rr(n,o,i,r,e[8],20,1163531501),r=rr(r,n,o,i,e[13],5,-1444681467),i=rr(i,r,n,o,e[2],9,-51403784),o=rr(o,i,r,n,e[7],14,1735328473),r=nr(r,n=rr(n,o,i,r,e[12],20,-1926607734),o,i,e[5],4,-378558),i=nr(i,r,n,o,e[8],11,-2022574463),o=nr(o,i,r,n,e[11],16,1839030562),n=nr(n,o,i,r,e[14],23,-35309556),r=nr(r,n,o,i,e[1],4,-1530992060),i=nr(i,r,n,o,e[4],11,1272893353),o=nr(o,i,r,n,e[7],16,-155497632),n=nr(n,o,i,r,e[10],23,-1094730640),r=nr(r,n,o,i,e[13],4,681279174),i=nr(i,r,n,o,e[0],11,-358537222),o=nr(o,i,r,n,e[3],16,-722521979),n=nr(n,o,i,r,e[6],23,76029189),r=nr(r,n,o,i,e[9],4,-640364487),i=nr(i,r,n,o,e[12],11,-421815835),o=nr(o,i,r,n,e[15],16,530742520),r=ir(r,n=nr(n,o,i,r,e[2],23,-995338651),o,i,e[0],6,-198630844),i=ir(i,r,n,o,e[7],10,1126891415),o=ir(o,i,r,n,e[14],15,-1416354905),n=ir(n,o,i,r,e[5],21,-57434055),r=ir(r,n,o,i,e[12],6,1700485571),i=ir(i,r,n,o,e[3],10,-1894986606),o=ir(o,i,r,n,e[10],15,-1051523),n=ir(n,o,i,r,e[1],21,-2054922799),r=ir(r,n,o,i,e[8],6,1873313359),i=ir(i,r,n,o,e[15],10,-30611744),o=ir(o,i,r,n,e[6],15,-1560198380),n=ir(n,o,i,r,e[13],21,1309151649),r=ir(r,n,o,i,e[4],6,-145523070),i=ir(i,r,n,o,e[11],10,-1120210379),o=ir(o,i,r,n,e[2],15,718787259),n=ir(n,o,i,r,e[9],21,-343485551),t[0]=ei(r,t[0]),t[1]=ei(n,t[1]),t[2]=ei(o,t[2]),t[3]=ei(i,t[3])}function vs(t,e,r,n,o,i){return e=ei(ei(e,t),ei(n,i)),ei(e<<o|e>>>32-o,r)}function tr(t,e,r,n,o,i,s){return vs(e&r|~e&n,t,e,o,i,s)}function rr(t,e,r,n,o,i,s){return vs(e&n|r&~n,t,e,o,i,s)}function nr(t,e,r,n,o,i,s){return vs(e^r^n,t,e,o,i,s)}function ir(t,e,r,n,o,i,s){return vs(r^(e|~n),t,e,o,i,s)}function Xc(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Sl(n,gd(t.substring(e-64,e)));t=t.substring(e-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)o[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(Sl(n,o),e=0;e<16;e++)o[e]=0;return o[14]=8*r,Sl(n,o),n}function gd(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}Za=Ve.atob.bind(Ve),Vl=Ve.btoa.bind(Ve);var ec="0123456789abcdef".split("");function md(t){for(var e="",r=0;r<4;r++)e+=ec[t>>8*r+4&15]+ec[t>>8*r&15];return e}function vd(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Gl(t){return Xc(t).map(vd).join("")}var bd=function(t){for(var e=0;e<t.length;e++)t[e]=md(t[e]);return t.join("")}(Xc("hello"))!="5d41402abc4b2a76b9719d911017c592";function ei(t,e){if(bd){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Yl(t,e){var r,n,o,i;if(t!==r){for(var s=(o=t,i=1+(256/t.length>>0),new Array(i+1).join(o)),u=[],c=0;c<256;c++)u[c]=c;var h=0;for(c=0;c<256;c++){var g=u[c];h=(h+g+s.charCodeAt(c))%256,u[c]=u[h],u[h]=g}r=t,n=u}else u=n;var v=e.length,b=0,p=0,A="";for(c=0;c<v;c++)p=(p+(g=u[b=(b+1)%256]))%256,u[b]=u[p],u[p]=g,s=u[(u[b]+u[p])%256],A+=String.fromCharCode(e.charCodeAt(c)^s);return A}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var tc={print:4,modify:8,copy:16,"annot-forms":32};function la(t,e,r,n){this.v=1,this.r=2;var o=192;t.forEach(function(u){if(tc.perm!==void 0)throw new Error("Invalid permission: "+u);o+=tc[u]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^o)),this.encryptionKey=Gl(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Yl(this.encryptionKey,this.padding)}function ua(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var o=t.charCodeAt(n);o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?e+="#"+("0"+o.toString(16)).slice(-2):e+=t[n]}return e}function rc(t){if(gt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,o){if(o=o||!1,typeof r!="string"||typeof n!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!o],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),o=[];for(var i in e[r]){var s=e[r][i];try{s[0].apply(t,n)}catch(u){Ve.console&&wt.error("jsPDF PubSub Error",u.message,u)}s[1]&&o.push(i)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function ls(t){if(!(this instanceof ls))return new ls(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function Zc(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ni(t,e,r,n,o){if(!(this instanceof Ni))return new Ni(t,e,r,n,o);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,Zc.call(this,n,o)}function ca(t,e,r,n,o){if(!(this instanceof ca))return new ca(t,e,r,n,o);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,Zc.call(this,n,o)}function We(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],o=arguments[2],i=arguments[3],s=[],u=1,c=16,h="S",g=null;gt(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,o=t.format||o,i=t.compress||t.compressPdf||i,(g=t.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),u=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),h=t.defaultPathOperation||"S"),s=t.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var v=t.putOnlyUsedFonts||!1,b={},p={internal:{},__private__:{}};p.__private__.PubSub=rc;var A="1.3",P=p.__private__.getPdfVersion=function(){return A};p.__private__.setPdfVersion=function(f){A=f};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return j};var x=p.__private__.getPageFormat=function(f){return j[f]};o=o||"a4";var F={COMPAT:"compat",ADVANCED:"advanced"},R=F.COMPAT;function G(){this.saveGraphicsState(),M(new $e(De,0,0,-De,0,Bn()*De).toString()+" cm"),this.setFontSize(this.getFontSize()/De),h="n",R=F.ADVANCED}function te(){this.restoreGraphicsState(),h="S",R=F.COMPAT}var ue=p.__private__.combineFontStyleAndFontWeight=function(f,w){if(f=="bold"&&w=="normal"||f=="bold"&&w==400||f=="normal"&&w=="italic"||f=="bold"&&w=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return w&&(f=w==400||w==="normal"?f==="italic"?"italic":"normal":w!=700&&w!=="bold"||f!=="normal"?(w==700?"bold":w)+""+f:"bold"),f};p.advancedAPI=function(f){var w=R===F.COMPAT;return w&&G.call(this),typeof f!="function"||(f(this),w&&te.call(this)),this},p.compatAPI=function(f){var w=R===F.ADVANCED;return w&&te.call(this),typeof f!="function"||(f(this),w&&G.call(this)),this},p.isAdvancedAPI=function(){return R===F.ADVANCED};var Z,z=function(f){if(R!==F.ADVANCED)throw new Error(f+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ae=p.roundToPrecision=p.__private__.roundToPrecision=function(f,w){var T=e||w;if(isNaN(f)||isNaN(T))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return f.toFixed(T).replace(/0+$/,"")};Z=p.hpf=p.__private__.hpf=typeof c=="number"?function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return ae(f,c)}:c==="smart"?function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return ae(f,f>-1&&f<1?16:5)}:function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return ae(f,16)};var pe=p.f2=p.__private__.f2=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.f2");return ae(f,2)},C=p.__private__.f3=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.f3");return ae(f,3)},E=p.scale=p.__private__.scale=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.scale");return R===F.COMPAT?f*De:R===F.ADVANCED?f:void 0},H=function(f){return R===F.COMPAT?Bn()-f:R===F.ADVANCED?f:void 0},q=function(f){return E(H(f))};p.__private__.setPrecision=p.setPrecision=function(f){typeof parseInt(f,10)=="number"&&(e=parseInt(f,10))};var ce,le="00000000000000000000000000000000",fe=p.__private__.getFileId=function(){return le},ee=p.__private__.setFileId=function(f){return le=f!==void 0&&/^[a-fA-F0-9]{32}$/.test(f)?f.toUpperCase():le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(Qt=new la(g.userPermissions,g.userPassword,g.ownerPassword,le)),le};p.setFileId=function(f){return ee(f),this},p.getFileId=function(){return fe()};var he=p.__private__.convertDateToPDFDate=function(f){var w=f.getTimezoneOffset(),T=w<0?"+":"-",W=Math.floor(Math.abs(w/60)),Q=Math.abs(w%60),be=[T,B(W),"'",B(Q),"'"].join("");return["D:",f.getFullYear(),B(f.getMonth()+1),B(f.getDate()),B(f.getHours()),B(f.getMinutes()),B(f.getSeconds()),be].join("")},ve=p.__private__.convertPDFDateToDate=function(f){var w=parseInt(f.substr(2,4),10),T=parseInt(f.substr(6,2),10)-1,W=parseInt(f.substr(8,2),10),Q=parseInt(f.substr(10,2),10),be=parseInt(f.substr(12,2),10),Le=parseInt(f.substr(14,2),10);return new Date(w,T,W,Q,be,Le,0)},Pe=p.__private__.setCreationDate=function(f){var w;if(f===void 0&&(f=new Date),f instanceof Date)w=he(f);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(f))throw new Error("Invalid argument passed to jsPDF.setCreationDate");w=f}return ce=w},L=p.__private__.getCreationDate=function(f){var w=ce;return f==="jsDate"&&(w=ve(ce)),w};p.setCreationDate=function(f){return Pe(f),this},p.getCreationDate=function(f){return L(f)};var I,B=p.__private__.padd2=function(f){return("0"+parseInt(f)).slice(-2)},U=p.__private__.padd2Hex=function(f){return("00"+(f=f.toString())).substr(f.length)},K=0,ie=[],oe=[],O=0,ge=[],we=[],_e=!1,Ce=oe,Be=function(){K=0,O=0,oe=[],ie=[],ge=[],vn=Bt(),Or=Bt()};p.__private__.setCustomOutputDestination=function(f){_e=!0,Ce=f};var de=function(f){_e||(Ce=f)};p.__private__.resetCustomOutputDestination=function(){_e=!1,Ce=oe};var M=p.__private__.out=function(f){return f=f.toString(),O+=f.length+1,Ce.push(f),Ce},qe=p.__private__.write=function(f){return M(arguments.length===1?f.toString():Array.prototype.join.call(arguments," "))},Oe=p.__private__.getArrayBuffer=function(f){for(var w=f.length,T=new ArrayBuffer(w),W=new Uint8Array(T);w--;)W[w]=f.charCodeAt(w);return T},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ke};var Se=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(f){return Se=R===F.ADVANCED?f/De:f,this};var Fe,Ee=p.__private__.getFontSize=p.getFontSize=function(){return R===F.COMPAT?Se:Se*De},ze=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(f){return ze=f,this},p.__private__.getR2L=p.getR2L=function(){return ze};var Je,Ge=p.__private__.setZoomMode=function(f){var w=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(f))Fe=f;else if(isNaN(f)){if(w.indexOf(f)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+f+'" is not recognized.');Fe=f}else Fe=parseInt(f,10)};p.__private__.getZoomMode=function(){return Fe};var nt,st=p.__private__.setPageMode=function(f){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(f)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+f+'" is not recognized.');Je=f};p.__private__.getPageMode=function(){return Je};var mt=p.__private__.setLayoutMode=function(f){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(f)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+f+'" is not recognized.');nt=f};p.__private__.getLayoutMode=function(){return nt},p.__private__.setDisplayMode=p.setDisplayMode=function(f,w,T){return Ge(f),mt(w),st(T),this};var Ye={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(f){if(Object.keys(Ye).indexOf(f)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ye[f]},p.__private__.getDocumentProperties=function(){return Ye},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(f){for(var w in Ye)Ye.hasOwnProperty(w)&&f[w]&&(Ye[w]=f[w]);return this},p.__private__.setDocumentProperty=function(f,w){if(Object.keys(Ye).indexOf(f)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ye[f]=w};var it,De,Zt,ut,Dr,bt={},Lt={},Xr=[],ft={},oi={},kt={},Tr={},mn=null,_t=0,Xe=[],ht=new rc(p),si=t.hotfixes||[],Jt={},Zr={},Qr=[],$e=function f(w,T,W,Q,be,Le){if(!(this instanceof f))return new f(w,T,W,Q,be,Le);isNaN(w)&&(w=1),isNaN(T)&&(T=0),isNaN(W)&&(W=0),isNaN(Q)&&(Q=1),isNaN(be)&&(be=0),isNaN(Le)&&(Le=0),this._matrix=[w,T,W,Q,be,Le]};Object.defineProperty($e.prototype,"sx",{get:function(){return this._matrix[0]},set:function(f){this._matrix[0]=f}}),Object.defineProperty($e.prototype,"shy",{get:function(){return this._matrix[1]},set:function(f){this._matrix[1]=f}}),Object.defineProperty($e.prototype,"shx",{get:function(){return this._matrix[2]},set:function(f){this._matrix[2]=f}}),Object.defineProperty($e.prototype,"sy",{get:function(){return this._matrix[3]},set:function(f){this._matrix[3]=f}}),Object.defineProperty($e.prototype,"tx",{get:function(){return this._matrix[4]},set:function(f){this._matrix[4]=f}}),Object.defineProperty($e.prototype,"ty",{get:function(){return this._matrix[5]},set:function(f){this._matrix[5]=f}}),Object.defineProperty($e.prototype,"a",{get:function(){return this._matrix[0]},set:function(f){this._matrix[0]=f}}),Object.defineProperty($e.prototype,"b",{get:function(){return this._matrix[1]},set:function(f){this._matrix[1]=f}}),Object.defineProperty($e.prototype,"c",{get:function(){return this._matrix[2]},set:function(f){this._matrix[2]=f}}),Object.defineProperty($e.prototype,"d",{get:function(){return this._matrix[3]},set:function(f){this._matrix[3]=f}}),Object.defineProperty($e.prototype,"e",{get:function(){return this._matrix[4]},set:function(f){this._matrix[4]=f}}),Object.defineProperty($e.prototype,"f",{get:function(){return this._matrix[5]},set:function(f){this._matrix[5]=f}}),Object.defineProperty($e.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty($e.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty($e.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty($e.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),$e.prototype.join=function(f){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Z).join(f)},$e.prototype.multiply=function(f){var w=f.sx*this.sx+f.shy*this.shx,T=f.sx*this.shy+f.shy*this.sy,W=f.shx*this.sx+f.sy*this.shx,Q=f.shx*this.shy+f.sy*this.sy,be=f.tx*this.sx+f.ty*this.shx+this.tx,Le=f.tx*this.shy+f.ty*this.sy+this.ty;return new $e(w,T,W,Q,be,Le)},$e.prototype.decompose=function(){var f=this.sx,w=this.shy,T=this.shx,W=this.sy,Q=this.tx,be=this.ty,Le=Math.sqrt(f*f+w*w),Te=(f/=Le)*T+(w/=Le)*W;T-=f*Te,W-=w*Te;var Ue=Math.sqrt(T*T+W*W);return Te/=Ue,f*(W/=Ue)<w*(T/=Ue)&&(f=-f,w=-w,Te=-Te,Le=-Le),{scale:new $e(Le,0,0,Ue,0,0),translate:new $e(1,0,0,1,Q,be),rotate:new $e(f,w,-w,f,0,0),skew:new $e(1,0,Te,1,0,0)}},$e.prototype.toString=function(f){return this.join(" ")},$e.prototype.inversed=function(){var f=this.sx,w=this.shy,T=this.shx,W=this.sy,Q=this.tx,be=this.ty,Le=1/(f*W-w*T),Te=W*Le,Ue=-w*Le,et=-T*Le,Ze=f*Le;return new $e(Te,Ue,et,Ze,-Te*Q-et*be,-Ue*Q-Ze*be)},$e.prototype.applyToPoint=function(f){var w=f.x*this.sx+f.y*this.shx+this.tx,T=f.x*this.shy+f.y*this.sy+this.ty;return new Wi(w,T)},$e.prototype.applyToRectangle=function(f){var w=this.applyToPoint(f),T=this.applyToPoint(new Wi(f.x+f.w,f.y+f.h));return new ka(w.x,w.y,T.x-w.x,T.y-w.y)},$e.prototype.clone=function(){var f=this.sx,w=this.shy,T=this.shx,W=this.sy,Q=this.tx,be=this.ty;return new $e(f,w,T,W,Q,be)},p.Matrix=$e;var Rr=p.matrixMult=function(f,w){return w.multiply(f)},en=new $e(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=en;var cr=function(f,w){if(!oi[f]){var T=(w instanceof Ni?"Sh":"P")+(Object.keys(ft).length+1).toString(10);w.id=T,oi[f]=T,ft[T]=w,ht.publish("addPattern",w)}};p.ShadingPattern=Ni,p.TilingPattern=ca,p.addShadingPattern=function(f,w){return z("addShadingPattern()"),cr(f,w),this},p.beginTilingPattern=function(f){z("beginTilingPattern()"),Ao(f.boundingBox[0],f.boundingBox[1],f.boundingBox[2]-f.boundingBox[0],f.boundingBox[3]-f.boundingBox[1],f.matrix)},p.endTilingPattern=function(f,w){z("endTilingPattern()"),w.stream=we[I].join(`
`),cr(f,w),ht.publish("endTilingPattern",w),Qr.pop().restore()};var Ht=p.__private__.newObject=function(){var f=Bt();return br(f,!0),f},Bt=p.__private__.newObjectDeferred=function(){return K++,ie[K]=function(){return O},K},br=function(f,w){return w=typeof w=="boolean"&&w,ie[f]=O,w&&M(f+" 0 obj"),f},ji=p.__private__.newAdditionalObject=function(){var f={objId:Bt(),content:""};return ge.push(f),f},vn=Bt(),Or=Bt(),Mr=p.__private__.decodeColorString=function(f){var w=f.split(" ");if(w.length!==2||w[1]!=="g"&&w[1]!=="G")w.length===5&&(w[4]==="k"||w[4]==="K")&&(w=[(1-w[0])*(1-w[3]),(1-w[1])*(1-w[3]),(1-w[2])*(1-w[3]),"r"]);else{var T=parseFloat(w[0]);w=[T,T,T,"r"]}for(var W="#",Q=0;Q<3;Q++)W+=("0"+Math.floor(255*parseFloat(w[Q])).toString(16)).slice(-2);return W},Br=p.__private__.encodeColorString=function(f){var w;typeof f=="string"&&(f={ch1:f});var T=f.ch1,W=f.ch2,Q=f.ch3,be=f.ch4,Le=f.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof T=="string"&&T.charAt(0)!=="#"){var Te=new Kc(T);if(Te.ok)T=Te.toHex();else if(!/^\d*\.?\d*$/.test(T))throw new Error('Invalid color "'+T+'" passed to jsPDF.encodeColorString.')}if(typeof T=="string"&&/^#[0-9A-Fa-f]{3}$/.test(T)&&(T="#"+T[1]+T[1]+T[2]+T[2]+T[3]+T[3]),typeof T=="string"&&/^#[0-9A-Fa-f]{6}$/.test(T)){var Ue=parseInt(T.substr(1),16);T=Ue>>16&255,W=Ue>>8&255,Q=255&Ue}if(W===void 0||be===void 0&&T===W&&W===Q)if(typeof T=="string")w=T+" "+Le[0];else switch(f.precision){case 2:w=pe(T/255)+" "+Le[0];break;case 3:default:w=C(T/255)+" "+Le[0]}else if(be===void 0||gt(be)==="object"){if(be&&!isNaN(be.a)&&be.a===0)return w=["1.","1.","1.",Le[1]].join(" ");if(typeof T=="string")w=[T,W,Q,Le[1]].join(" ");else switch(f.precision){case 2:w=[pe(T/255),pe(W/255),pe(Q/255),Le[1]].join(" ");break;default:case 3:w=[C(T/255),C(W/255),C(Q/255),Le[1]].join(" ")}}else if(typeof T=="string")w=[T,W,Q,be,Le[2]].join(" ");else switch(f.precision){case 2:w=[pe(T),pe(W),pe(Q),pe(be),Le[2]].join(" ");break;case 3:default:w=[C(T),C(W),C(Q),C(be),Le[2]].join(" ")}return w},tn=p.__private__.getFilters=function(){return s},Ar=p.__private__.putStream=function(f){var w=(f=f||{}).data||"",T=f.filters||tn(),W=f.alreadyAppliedFilters||[],Q=f.addLength1||!1,be=w.length,Le=f.objectId,Te=function(er){return er};if(g!==null&&Le===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(Te=Qt.encryptor(Le,0));var Ue={};T===!0&&(T=["FlateEncode"]);var et=f.additionalKeyValues||[],Ze=(Ue=We.API.processDataByFilters!==void 0?We.API.processDataByFilters(w,T):{data:w,reverseChain:[]}).reverseChain+(Array.isArray(W)?W.join(" "):W.toString());if(Ue.data.length!==0&&(et.push({key:"Length",value:Ue.data.length}),Q===!0&&et.push({key:"Length1",value:be})),Ze.length!=0)if(Ze.split("/").length-1==1)et.push({key:"Filter",value:Ze});else{et.push({key:"Filter",value:"["+Ze+"]"});for(var ot=0;ot<et.length;ot+=1)if(et[ot].key==="DecodeParms"){for(var Pt=[],Ct=0;Ct<Ue.reverseChain.split("/").length-1;Ct+=1)Pt.push("null");Pt.push(et[ot].value),et[ot].value="["+Pt.join(" ")+"]"}}M("<<");for(var qt=0;qt<et.length;qt++)M("/"+et[qt].key+" "+et[qt].value);M(">>"),Ue.data.length!==0&&(M("stream"),M(Te(Ue.data)),M("endstream"))},rn=p.__private__.putPage=function(f){var w=f.number,T=f.data,W=f.objId,Q=f.contentsObjId;br(W,!0),M("<</Type /Page"),M("/Parent "+f.rootDictionaryObjId+" 0 R"),M("/Resources "+f.resourceDictionaryObjId+" 0 R"),M("/MediaBox ["+parseFloat(Z(f.mediaBox.bottomLeftX))+" "+parseFloat(Z(f.mediaBox.bottomLeftY))+" "+Z(f.mediaBox.topRightX)+" "+Z(f.mediaBox.topRightY)+"]"),f.cropBox!==null&&M("/CropBox ["+Z(f.cropBox.bottomLeftX)+" "+Z(f.cropBox.bottomLeftY)+" "+Z(f.cropBox.topRightX)+" "+Z(f.cropBox.topRightY)+"]"),f.bleedBox!==null&&M("/BleedBox ["+Z(f.bleedBox.bottomLeftX)+" "+Z(f.bleedBox.bottomLeftY)+" "+Z(f.bleedBox.topRightX)+" "+Z(f.bleedBox.topRightY)+"]"),f.trimBox!==null&&M("/TrimBox ["+Z(f.trimBox.bottomLeftX)+" "+Z(f.trimBox.bottomLeftY)+" "+Z(f.trimBox.topRightX)+" "+Z(f.trimBox.topRightY)+"]"),f.artBox!==null&&M("/ArtBox ["+Z(f.artBox.bottomLeftX)+" "+Z(f.artBox.bottomLeftY)+" "+Z(f.artBox.topRightX)+" "+Z(f.artBox.topRightY)+"]"),typeof f.userUnit=="number"&&f.userUnit!==1&&M("/UserUnit "+f.userUnit),ht.publish("putPage",{objId:W,pageContext:Xe[w],pageNumber:w,page:T}),M("/Contents "+Q+" 0 R"),M(">>"),M("endobj");var be=T.join(`
`);return R===F.ADVANCED&&(be+=`
Q`),br(Q,!0),Ar({data:be,filters:tn(),objectId:Q}),M("endobj"),W},li=p.__private__.putPages=function(){var f,w,T=[];for(f=1;f<=_t;f++)Xe[f].objId=Bt(),Xe[f].contentsObjId=Bt();for(f=1;f<=_t;f++)T.push(rn({number:f,data:we[f],objId:Xe[f].objId,contentsObjId:Xe[f].contentsObjId,mediaBox:Xe[f].mediaBox,cropBox:Xe[f].cropBox,bleedBox:Xe[f].bleedBox,trimBox:Xe[f].trimBox,artBox:Xe[f].artBox,userUnit:Xe[f].userUnit,rootDictionaryObjId:vn,resourceDictionaryObjId:Or}));br(vn,!0),M("<</Type /Pages");var W="/Kids [";for(w=0;w<_t;w++)W+=T[w]+" 0 R ";M(W+"]"),M("/Count "+_t),M(">>"),M("endobj"),ht.publish("postPutPages")},Ei=function(f){ht.publish("putFont",{font:f,out:M,newObject:Ht,putStream:Ar}),f.isAlreadyPutted!==!0&&(f.objectNumber=Ht(),M("<<"),M("/Type /Font"),M("/BaseFont /"+ua(f.postScriptName)),M("/Subtype /Type1"),typeof f.encoding=="string"&&M("/Encoding /"+f.encoding),M("/FirstChar 32"),M("/LastChar 255"),M(">>"),M("endobj"))},Ii=function(){for(var f in bt)bt.hasOwnProperty(f)&&(v===!1||v===!0&&b.hasOwnProperty(f))&&Ei(bt[f])},Di=function(f){f.objectNumber=Ht();var w=[];w.push({key:"Type",value:"/XObject"}),w.push({key:"Subtype",value:"/Form"}),w.push({key:"BBox",value:"["+[Z(f.x),Z(f.y),Z(f.x+f.width),Z(f.y+f.height)].join(" ")+"]"}),w.push({key:"Matrix",value:"["+f.matrix.toString()+"]"});var T=f.pages[1].join(`
`);Ar({data:T,additionalKeyValues:w,objectId:f.objectNumber}),M("endobj")},Ti=function(){for(var f in Jt)Jt.hasOwnProperty(f)&&Di(Jt[f])},ao=function(f,w){var T,W=[],Q=1/(w-1);for(T=0;T<1;T+=Q)W.push(T);if(W.push(1),f[0].offset!=0){var be={offset:0,color:f[0].color};f.unshift(be)}if(f[f.length-1].offset!=1){var Le={offset:1,color:f[f.length-1].color};f.push(Le)}for(var Te="",Ue=0,et=0;et<W.length;et++){for(T=W[et];T>f[Ue+1].offset;)Ue++;var Ze=f[Ue].offset,ot=(T-Ze)/(f[Ue+1].offset-Ze),Pt=f[Ue].color,Ct=f[Ue+1].color;Te+=U(Math.round((1-ot)*Pt[0]+ot*Ct[0]).toString(16))+U(Math.round((1-ot)*Pt[1]+ot*Ct[1]).toString(16))+U(Math.round((1-ot)*Pt[2]+ot*Ct[2]).toString(16))}return Te.trim()},_s=function(f,w){w||(w=21);var T=Ht(),W=ao(f.colors,w),Q=[];Q.push({key:"FunctionType",value:"0"}),Q.push({key:"Domain",value:"[0.0 1.0]"}),Q.push({key:"Size",value:"["+w+"]"}),Q.push({key:"BitsPerSample",value:"8"}),Q.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Q.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ar({data:W,additionalKeyValues:Q,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:T}),M("endobj"),f.objectNumber=Ht(),M("<< /ShadingType "+f.type),M("/ColorSpace /DeviceRGB");var be="/Coords ["+Z(parseFloat(f.coords[0]))+" "+Z(parseFloat(f.coords[1]))+" ";f.type===2?be+=Z(parseFloat(f.coords[2]))+" "+Z(parseFloat(f.coords[3])):be+=Z(parseFloat(f.coords[2]))+" "+Z(parseFloat(f.coords[3]))+" "+Z(parseFloat(f.coords[4]))+" "+Z(parseFloat(f.coords[5])),M(be+="]"),f.matrix&&M("/Matrix ["+f.matrix.toString()+"]"),M("/Function "+T+" 0 R"),M("/Extend [true true]"),M(">>"),M("endobj")},Cs=function(f,w){var T=Bt(),W=Ht();w.push({resourcesOid:T,objectOid:W}),f.objectNumber=W;var Q=[];Q.push({key:"Type",value:"/Pattern"}),Q.push({key:"PatternType",value:"1"}),Q.push({key:"PaintType",value:"1"}),Q.push({key:"TilingType",value:"1"}),Q.push({key:"BBox",value:"["+f.boundingBox.map(Z).join(" ")+"]"}),Q.push({key:"XStep",value:Z(f.xStep)}),Q.push({key:"YStep",value:Z(f.yStep)}),Q.push({key:"Resources",value:T+" 0 R"}),f.matrix&&Q.push({key:"Matrix",value:"["+f.matrix.toString()+"]"}),Ar({data:f.stream,additionalKeyValues:Q,objectId:f.objectNumber}),M("endobj")},Ri=function(f){var w;for(w in ft)ft.hasOwnProperty(w)&&(ft[w]instanceof Ni?_s(ft[w]):ft[w]instanceof ca&&Cs(ft[w],f))},oo=function(f){for(var w in f.objectNumber=Ht(),M("<<"),f)switch(w){case"opacity":M("/ca "+pe(f[w]));break;case"stroke-opacity":M("/CA "+pe(f[w]))}M(">>"),M("endobj")},Fs=function(){var f;for(f in kt)kt.hasOwnProperty(f)&&oo(kt[f])},va=function(){for(var f in M("/XObject <<"),Jt)Jt.hasOwnProperty(f)&&Jt[f].objectNumber>=0&&M("/"+f+" "+Jt[f].objectNumber+" 0 R");ht.publish("putXobjectDict"),M(">>")},js=function(){Qt.oid=Ht(),M("<<"),M("/Filter /Standard"),M("/V "+Qt.v),M("/R "+Qt.r),M("/U <"+Qt.toHexString(Qt.U)+">"),M("/O <"+Qt.toHexString(Qt.O)+">"),M("/P "+Qt.P),M(">>"),M("endobj")},so=function(){for(var f in M("/Font <<"),bt)bt.hasOwnProperty(f)&&(v===!1||v===!0&&b.hasOwnProperty(f))&&M("/"+f+" "+bt[f].objectNumber+" 0 R");M(">>")},Es=function(){if(Object.keys(ft).length>0){for(var f in M("/Shading <<"),ft)ft.hasOwnProperty(f)&&ft[f]instanceof Ni&&ft[f].objectNumber>=0&&M("/"+f+" "+ft[f].objectNumber+" 0 R");ht.publish("putShadingPatternDict"),M(">>")}},Oi=function(f){if(Object.keys(ft).length>0){for(var w in M("/Pattern <<"),ft)ft.hasOwnProperty(w)&&ft[w]instanceof p.TilingPattern&&ft[w].objectNumber>=0&&ft[w].objectNumber<f&&M("/"+w+" "+ft[w].objectNumber+" 0 R");ht.publish("putTilingPatternDict"),M(">>")}},Is=function(){if(Object.keys(kt).length>0){var f;for(f in M("/ExtGState <<"),kt)kt.hasOwnProperty(f)&&kt[f].objectNumber>=0&&M("/"+f+" "+kt[f].objectNumber+" 0 R");ht.publish("putGStateDict"),M(">>")}},Et=function(f){br(f.resourcesOid,!0),M("<<"),M("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),so(),Es(),Oi(f.objectOid),Is(),va(),M(">>"),M("endobj")},lo=function(){var f=[];Ii(),Fs(),Ti(),Ri(f),ht.publish("putResources"),f.forEach(Et),Et({resourcesOid:Or,objectOid:Number.MAX_SAFE_INTEGER}),ht.publish("postPutResources")},uo=function(){ht.publish("putAdditionalObjects");for(var f=0;f<ge.length;f++){var w=ge[f];br(w.objId,!0),M(w.content),M("endobj")}ht.publish("postPutAdditionalObjects")},co=function(f){Lt[f.fontName]=Lt[f.fontName]||{},Lt[f.fontName][f.fontStyle]=f.id},ba=function(f,w,T,W,Q){var be={id:"F"+(Object.keys(bt).length+1).toString(10),postScriptName:f,fontName:w,fontStyle:T,encoding:W,isStandardFont:Q||!1,metadata:{}};return ht.publish("addFont",{font:be,instance:this}),bt[be.id]=be,co(be),be.id},Ds=function(f){for(var w=0,T=ke.length;w<T;w++){var W=ba.call(this,f[w][0],f[w][1],f[w][2],ke[w][3],!0);v===!1&&(b[W]=!0);var Q=f[w][0].split("-");co({id:W,fontName:Q[0],fontStyle:Q[1]||""})}ht.publish("addFonts",{fonts:bt,dictionary:Lt})},qr=function(f){return f.foo=function(){try{return f.apply(this,arguments)}catch(W){var w=W.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var T="Error in function "+w.split(`
`)[0].split("<")[0]+": "+W.message;if(!Ve.console)throw new Error(T);Ve.console.error(T,W),Ve.alert&&alert(T)}},f.foo.bar=f,f.foo},Mi=function(f,w){var T,W,Q,be,Le,Te,Ue,et,Ze;if(Q=(w=w||{}).sourceEncoding||"Unicode",Le=w.outputEncoding,(w.autoencode||Le)&&bt[it].metadata&&bt[it].metadata[Q]&&bt[it].metadata[Q].encoding&&(be=bt[it].metadata[Q].encoding,!Le&&bt[it].encoding&&(Le=bt[it].encoding),!Le&&be.codePages&&(Le=be.codePages[0]),typeof Le=="string"&&(Le=be[Le]),Le)){for(Ue=!1,Te=[],T=0,W=f.length;T<W;T++)(et=Le[f.charCodeAt(T)])?Te.push(String.fromCharCode(et)):Te.push(f[T]),Te[T].charCodeAt(0)>>8&&(Ue=!0);f=Te.join("")}for(T=f.length;Ue===void 0&&T!==0;)f.charCodeAt(T-1)>>8&&(Ue=!0),T--;if(!Ue)return f;for(Te=w.noBOM?[]:[254,255],T=0,W=f.length;T<W;T++){if((Ze=(et=f.charCodeAt(T))>>8)>>8)throw new Error("Character at position "+T+" of string '"+f+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Te.push(Ze),Te.push(et-(Ze<<8))}return String.fromCharCode.apply(void 0,Te)},fr=p.__private__.pdfEscape=p.pdfEscape=function(f,w){return Mi(f,w).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ya=p.__private__.beginPage=function(f){we[++_t]=[],Xe[_t]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(f[0]),topRightY:Number(f[1])}},ho(_t),de(we[I])},fo=function(f,w){var T,W,Q;switch(r=w||r,typeof f=="string"&&(T=x(f.toLowerCase()),Array.isArray(T)&&(W=T[0],Q=T[1])),Array.isArray(f)&&(W=f[0]*De,Q=f[1]*De),isNaN(W)&&(W=o[0],Q=o[1]),(W>14400||Q>14400)&&(wt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),W=Math.min(14400,W),Q=Math.min(14400,Q)),o=[W,Q],r.substr(0,1)){case"l":Q>W&&(o=[Q,W]);break;case"p":W>Q&&(o=[Q,W])}ya(o),yo(Sa),M(zr),La!==0&&M(La+" J"),Pa!==0&&M(Pa+" j"),ht.publish("addPage",{pageNumber:_t})},Ts=function(f){f>0&&f<=_t&&(we.splice(f,1),Xe.splice(f,1),_t--,I>_t&&(I=_t),this.setPage(I))},ho=function(f){f>0&&f<=_t&&(I=f)},Rs=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return we.length-1},po=function(f,w,T){var W,Q=void 0;return T=T||{},f=f!==void 0?f:bt[it].fontName,w=w!==void 0?w:bt[it].fontStyle,W=f.toLowerCase(),Lt[W]!==void 0&&Lt[W][w]!==void 0?Q=Lt[W][w]:Lt[f]!==void 0&&Lt[f][w]!==void 0?Q=Lt[f][w]:T.disableWarning===!1&&wt.warn("Unable to look up font label for font '"+f+"', '"+w+"'. Refer to getFontList() for available fonts."),Q||T.noFallback||(Q=Lt.times[w])==null&&(Q=Lt.times.normal),Q},Os=p.__private__.putInfo=function(){var f=Ht(),w=function(W){return W};for(var T in g!==null&&(w=Qt.encryptor(f,0)),M("<<"),M("/Producer ("+fr(w("jsPDF "+We.version))+")"),Ye)Ye.hasOwnProperty(T)&&Ye[T]&&M("/"+T.substr(0,1).toUpperCase()+T.substr(1)+" ("+fr(w(Ye[T]))+")");M("/CreationDate ("+fr(w(ce))+")"),M(">>"),M("endobj")},wa=p.__private__.putCatalog=function(f){var w=(f=f||{}).rootDictionaryObjId||vn;switch(Ht(),M("<<"),M("/Type /Catalog"),M("/Pages "+w+" 0 R"),Fe||(Fe="fullwidth"),Fe){case"fullwidth":M("/OpenAction [3 0 R /FitH null]");break;case"fullheight":M("/OpenAction [3 0 R /FitV null]");break;case"fullpage":M("/OpenAction [3 0 R /Fit]");break;case"original":M("/OpenAction [3 0 R /XYZ null null 1]");break;default:var T=""+Fe;T.substr(T.length-1)==="%"&&(Fe=parseInt(Fe)/100),typeof Fe=="number"&&M("/OpenAction [3 0 R /XYZ null null "+pe(Fe)+"]")}switch(nt||(nt="continuous"),nt){case"continuous":M("/PageLayout /OneColumn");break;case"single":M("/PageLayout /SinglePage");break;case"two":case"twoleft":M("/PageLayout /TwoColumnLeft");break;case"tworight":M("/PageLayout /TwoColumnRight")}Je&&M("/PageMode /"+Je),ht.publish("putCatalog"),M(">>"),M("endobj")},Ms=p.__private__.putTrailer=function(){M("trailer"),M("<<"),M("/Size "+(K+1)),M("/Root "+K+" 0 R"),M("/Info "+(K-1)+" 0 R"),g!==null&&M("/Encrypt "+Qt.oid+" 0 R"),M("/ID [ <"+le+"> <"+le+"> ]"),M(">>")},Bs=p.__private__.putHeader=function(){M("%PDF-"+A),M("%ºß¬à")},qs=p.__private__.putXRef=function(){var f="0000000000";M("xref"),M("0 "+(K+1)),M("0000000000 65535 f ");for(var w=1;w<=K;w++)typeof ie[w]=="function"?M((f+ie[w]()).slice(-10)+" 00000 n "):ie[w]!==void 0?M((f+ie[w]).slice(-10)+" 00000 n "):M("0000000000 00000 n ")},bn=p.__private__.buildDocument=function(){Be(),de(oe),ht.publish("buildDocument"),Bs(),li(),uo(),lo(),g!==null&&js(),Os(),wa();var f=O;return qs(),Ms(),M("startxref"),M(""+f),M("%%EOF"),de(we[I]),oe.join(`
`)},Bi=p.__private__.getBlob=function(f){return new Blob([Oe(f)],{type:"application/pdf"})},qi=p.output=p.__private__.output=qr(function(f,w){switch(typeof(w=w||{})=="string"?w={filename:w}:w.filename=w.filename||"generated.pdf",f){case void 0:return bn();case"save":p.save(w.filename);break;case"arraybuffer":return Oe(bn());case"blob":return Bi(bn());case"bloburi":case"bloburl":if(Ve.URL!==void 0&&typeof Ve.URL.createObjectURL=="function")return Ve.URL&&Ve.URL.createObjectURL(Bi(bn()))||void 0;wt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var T="",W=bn();try{T=Vl(W)}catch{T=Vl(unescape(encodeURIComponent(W)))}return"data:application/pdf;filename="+w.filename+";base64,"+T;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ve)==="[object Window]"){var Q="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';w.pdfObjectUrl&&(Q=w.pdfObjectUrl,be="");var Le='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Q+'"'+be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(w)+");<\/script></body></html>",Te=Ve.open();return Te!==null&&Te.document.write(Le),Te}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ve)==="[object Window]"){var Ue='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(w.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+w.filename+'" width="500px" height="400px" /></body></html>',et=Ve.open();if(et!==null){et.document.write(Ue);var Ze=this;et.document.documentElement.querySelector("#pdfViewer").onload=function(){et.document.title=w.filename,et.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ze.output("bloburl"))}}return et}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ve)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",w)+'"></iframe></body></html>',Pt=Ve.open();if(Pt!==null&&(Pt.document.write(ot),Pt.document.title=w.filename),Pt||typeof safari>"u")return Pt;break;case"datauri":case"dataurl":return Ve.document.location.href=this.output("datauristring",w);default:return null}}),go=function(f){return Array.isArray(si)===!0&&si.indexOf(f)>-1};switch(n){case"pt":De=1;break;case"mm":De=72/25.4;break;case"cm":De=72/2.54;break;case"in":De=72;break;case"px":De=go("px_scaling")==1?.75:96/72;break;case"pc":case"em":De=12;break;case"ex":De=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);De=n}var Qt=null;Pe(),ee();var zs=function(f){return g!==null?Qt.encryptor(f,0):function(w){return w}},mo=p.__private__.getPageInfo=p.getPageInfo=function(f){if(isNaN(f)||f%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Xe[f].objId,pageNumber:f,pageContext:Xe[f]}},Ke=p.__private__.getPageInfoByObjId=function(f){if(isNaN(f)||f%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var w in Xe)if(Xe[w].objId===f)break;return mo(w)},Us=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Xe[I].objId,pageNumber:I,pageContext:Xe[I]}};p.addPage=function(){return fo.apply(this,arguments),this},p.setPage=function(){return ho.apply(this,arguments),de.call(this,we[I]),this},p.insertPage=function(f){return this.addPage(),this.movePage(I,f),this},p.movePage=function(f,w){var T,W;if(f>w){T=we[f],W=Xe[f];for(var Q=f;Q>w;Q--)we[Q]=we[Q-1],Xe[Q]=Xe[Q-1];we[w]=T,Xe[w]=W,this.setPage(w)}else if(f<w){T=we[f],W=Xe[f];for(var be=f;be<w;be++)we[be]=we[be+1],Xe[be]=Xe[be+1];we[w]=T,Xe[w]=W,this.setPage(w)}return this},p.deletePage=function(){return Ts.apply(this,arguments),this},p.__private__.text=p.text=function(f,w,T,W,Q){var be,Le,Te,Ue,et,Ze,ot,Pt,Ct,qt=(W=W||{}).scope||this;if(typeof f=="number"&&typeof w=="number"&&(typeof T=="string"||Array.isArray(T))){var er=T;T=w,w=f,f=er}if(arguments[3]instanceof $e?(z("The transform parameter of text() with a Matrix value"),Ct=Q):(Te=arguments[4],Ue=arguments[5],gt(ot=arguments[3])==="object"&&ot!==null||(typeof Te=="string"&&(Ue=Te,Te=null),typeof ot=="string"&&(Ue=ot,ot=null),typeof ot=="number"&&(Te=ot,ot=null),W={flags:ot,angle:Te,align:Ue})),isNaN(w)||isNaN(T)||f==null)throw new Error("Invalid arguments passed to jsPDF.text");if(f.length===0)return qt;var $t="",Ur=!1,yr=typeof W.lineHeightFactor=="number"?W.lineHeightFactor:ci,on=qt.internal.scaleFactor;function Lo(Nt){return Nt=Nt.split("	").join(Array(W.TabLen||9).join(" ")),fr(Nt,ot)}function ja(Nt){for(var St,Dt=Nt.concat(),Wt=[],Sn=Dt.length;Sn--;)typeof(St=Dt.shift())=="string"?Wt.push(St):Array.isArray(Nt)&&(St.length===1||St[1]===void 0&&St[2]===void 0)?Wt.push(St[0]):Wt.push([St[0],St[1],St[2]]);return Wt}function Ea(Nt,St){var Dt;if(typeof Nt=="string")Dt=St(Nt)[0];else if(Array.isArray(Nt)){for(var Wt,Sn,qa=Nt.concat(),ta=[],Fo=qa.length;Fo--;)typeof(Wt=qa.shift())=="string"?ta.push(St(Wt)[0]):Array.isArray(Wt)&&typeof Wt[0]=="string"&&(Sn=St(Wt[0],Wt[1],Wt[2]),ta.push([Sn[0],Sn[1],Sn[2]]));Dt=ta}return Dt}var Vi=!1,Ia=!0;if(typeof f=="string")Vi=!0;else if(Array.isArray(f)){var Da=f.concat();Le=[];for(var Gi,Kt=Da.length;Kt--;)(typeof(Gi=Da.shift())!="string"||Array.isArray(Gi)&&typeof Gi[0]!="string")&&(Ia=!1);Vi=Ia}if(Vi===!1)throw new Error('Type of text must be string or Array. "'+f+'" is not recognized.');typeof f=="string"&&(f=f.match(/[\r?\n]/)?f.split(/\r\n|\r|\n/g):[f]);var Yi=Se/qt.internal.scaleFactor,Ji=Yi*(yr-1);switch(W.baseline){case"bottom":T-=Ji;break;case"top":T+=Yi-Ji;break;case"hanging":T+=Yi-2*Ji;break;case"middle":T+=Yi/2-Ji}if((Ze=W.maxWidth||0)>0&&(typeof f=="string"?f=qt.splitTextToSize(f,Ze):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(Nt,St){return Nt.concat(qt.splitTextToSize(St,Ze))},[]))),be={text:f,x:w,y:T,options:W,mutex:{pdfEscape:fr,activeFontKey:it,fonts:bt,activeFontSize:Se}},ht.publish("preProcessText",be),f=be.text,Te=(W=be.options).angle,!(Ct instanceof $e)&&Te&&typeof Te=="number"){Te*=Math.PI/180,W.rotationDirection===0&&(Te=-Te),R===F.ADVANCED&&(Te=-Te);var Ki=Math.cos(Te),Ta=Math.sin(Te);Ct=new $e(Ki,Ta,-Ta,Ki,0,0)}else Te&&Te instanceof $e&&(Ct=Te);R!==F.ADVANCED||Ct||(Ct=en),(et=W.charSpace||Hi)!==void 0&&($t+=Z(E(et))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Pt=W.horizontalScale)!==void 0&&($t+=Z(100*Pt)+` Tz
`),W.lang;var hr=-1,Zs=W.renderingMode!==void 0?W.renderingMode:W.stroke,Ra=qt.internal.getCurrentPageInfo().pageContext;switch(Zs){case 0:case!1:case"fill":hr=0;break;case 1:case!0:case"stroke":hr=1;break;case 2:case"fillThenStroke":hr=2;break;case 3:case"invisible":hr=3;break;case 4:case"fillAndAddForClipping":hr=4;break;case 5:case"strokeAndAddPathForClipping":hr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":hr=6;break;case 7:case"addToPathForClipping":hr=7}var Po=Ra.usedRenderingMode!==void 0?Ra.usedRenderingMode:-1;hr!==-1?$t+=hr+` Tr
`:Po!==-1&&($t+=`0 Tr
`),hr!==-1&&(Ra.usedRenderingMode=hr),Ue=W.align||"left";var Lr,Xi=Se*yr,ko=qt.internal.pageSize.getWidth(),_o=bt[it];et=W.charSpace||Hi,Ze=W.maxWidth||0,ot=Object.assign({autoencode:!0,noBOM:!0},W.flags);var qn=[],di=function(Nt){return qt.getStringUnitWidth(Nt,{font:_o,charSpace:et,fontSize:Se,doKerning:!1})*Se/on};if(Object.prototype.toString.call(f)==="[object Array]"){var dr;Le=ja(f),Ue!=="left"&&(Lr=Le.map(di));var sr,zn=0;if(Ue==="right"){w-=Lr[0],f=[],Kt=Le.length;for(var wn=0;wn<Kt;wn++)wn===0?(sr=an(w),dr=yn(T)):(sr=E(zn-Lr[wn]),dr=-Xi),f.push([Le[wn],sr,dr]),zn=Lr[wn]}else if(Ue==="center"){w-=Lr[0]/2,f=[],Kt=Le.length;for(var xn=0;xn<Kt;xn++)xn===0?(sr=an(w),dr=yn(T)):(sr=E((zn-Lr[xn])/2),dr=-Xi),f.push([Le[xn],sr,dr]),zn=Lr[xn]}else if(Ue==="left"){f=[],Kt=Le.length;for(var Zi=0;Zi<Kt;Zi++)f.push(Le[Zi])}else if(Ue==="justify"&&_o.encoding==="Identity-H"){f=[],Kt=Le.length,Ze=Ze!==0?Ze:ko;for(var Nn=0,It=0;It<Kt;It++)if(dr=It===0?yn(T):-Xi,sr=It===0?an(w):Nn,It<Kt-1){var Oa=E((Ze-Lr[It])/(Le[It].split(" ").length-1)),lr=Le[It].split(" ");f.push([lr[0]+" ",sr,dr]),Nn=0;for(var Pr=1;Pr<lr.length;Pr++){var Qi=(di(lr[Pr-1]+" "+lr[Pr])-di(lr[Pr]))*on+Oa;Pr==lr.length-1?f.push([lr[Pr],Qi,0]):f.push([lr[Pr]+" ",Qi,0]),Nn-=Qi}}else f.push([Le[It],sr,dr]);f.push(["",Nn,0])}else{if(Ue!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(f=[],Kt=Le.length,Ze=Ze!==0?Ze:ko,It=0;It<Kt;It++)dr=It===0?yn(T):-Xi,sr=It===0?an(w):0,It<Kt-1?qn.push(Z(E((Ze-Lr[It])/(Le[It].split(" ").length-1)))):qn.push(0),f.push([Le[It],sr,dr])}}var Co=typeof W.R2L=="boolean"?W.R2L:ze;Co===!0&&(f=Ea(f,function(Nt,St,Dt){return[Nt.split("").reverse().join(""),St,Dt]})),be={text:f,x:w,y:T,options:W,mutex:{pdfEscape:fr,activeFontKey:it,fonts:bt,activeFontSize:Se}},ht.publish("postProcessText",be),f=be.text,Ur=be.mutex.isHex||!1;var Ma=bt[it].encoding;Ma!=="WinAnsiEncoding"&&Ma!=="StandardEncoding"||(f=Ea(f,function(Nt,St,Dt){return[Lo(Nt),St,Dt]})),Le=ja(f),f=[];for(var pi,gi,Un,mi=0,ea=1,vi=Array.isArray(Le[0])?ea:mi,Hn="",Ba=function(Nt,St,Dt){var Wt="";return Dt instanceof $e?(Dt=typeof W.angle=="number"?Rr(Dt,new $e(1,0,0,1,Nt,St)):Rr(new $e(1,0,0,1,Nt,St),Dt),R===F.ADVANCED&&(Dt=Rr(new $e(1,0,0,-1,0,0),Dt)),Wt=Dt.join(" ")+` Tm
`):Wt=Z(Nt)+" "+Z(St)+` Td
`,Wt},kr=0;kr<Le.length;kr++){switch(Hn="",vi){case ea:Un=(Ur?"<":"(")+Le[kr][0]+(Ur?">":")"),pi=parseFloat(Le[kr][1]),gi=parseFloat(Le[kr][2]);break;case mi:Un=(Ur?"<":"(")+Le[kr]+(Ur?">":")"),pi=an(w),gi=yn(T)}qn!==void 0&&qn[kr]!==void 0&&(Hn=qn[kr]+` Tw
`),kr===0?f.push(Hn+Ba(pi,gi,Ct)+Un):vi===mi?f.push(Hn+Un):vi===ea&&f.push(Hn+Ba(pi,gi,Ct)+Un)}f=vi===mi?f.join(` Tj
T* `):f.join(` Tj
`),f+=` Tj
`;var _r=`BT
/`;return _r+=it+" "+Se+` Tf
`,_r+=Z(Se*yr)+` TL
`,_r+=fi+`
`,_r+=$t,_r+=f,M(_r+="ET"),b[it]=!0,qt};var Hs=p.__private__.clip=p.clip=function(f){return M(f==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Hs("evenodd")},p.__private__.discardPath=p.discardPath=function(){return M("n"),this};var nn=p.__private__.isValidStyle=function(f){var w=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(f)!==-1&&(w=!0),w};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(f){return nn(f)&&(h=f),this};var vo=p.__private__.getStyle=p.getStyle=function(f){var w=h;switch(f){case"D":case"S":w="S";break;case"F":w="f";break;case"FD":case"DF":w="B";break;case"f":case"f*":case"B":case"B*":w=f}return w},bo=p.close=function(){return M("h"),this};p.stroke=function(){return M("S"),this},p.fill=function(f){return zi("f",f),this},p.fillEvenOdd=function(f){return zi("f*",f),this},p.fillStroke=function(f){return zi("B",f),this},p.fillStrokeEvenOdd=function(f){return zi("B*",f),this};var zi=function(f,w){gt(w)==="object"?$s(w,f):M(f)},xa=function(f){f===null||R===F.ADVANCED&&f===void 0||(f=vo(f),M(f))};function Ws(f,w,T,W,Q){var be=new ca(w||this.boundingBox,T||this.xStep,W||this.yStep,this.gState,Q||this.matrix);be.stream=this.stream;var Le=f+"$$"+this.cloneIndex+++"$$";return cr(Le,be),be}var $s=function(f,w){var T=oi[f.key],W=ft[T];if(W instanceof Ni)M("q"),M(Vs(w)),W.gState&&p.setGState(W.gState),M(f.matrix.toString()+" cm"),M("/"+T+" sh"),M("Q");else if(W instanceof ca){var Q=new $e(1,0,0,-1,0,Bn());f.matrix&&(Q=Q.multiply(f.matrix||en),T=Ws.call(W,f.key,f.boundingBox,f.xStep,f.yStep,Q).id),M("q"),M("/Pattern cs"),M("/"+T+" scn"),W.gState&&p.setGState(W.gState),M(w),M("Q")}},Vs=function(f){switch(f){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Na=p.moveTo=function(f,w){return M(Z(E(f))+" "+Z(q(w))+" m"),this},ui=p.lineTo=function(f,w){return M(Z(E(f))+" "+Z(q(w))+" l"),this},On=p.curveTo=function(f,w,T,W,Q,be){return M([Z(E(f)),Z(q(w)),Z(E(T)),Z(q(W)),Z(E(Q)),Z(q(be)),"c"].join(" ")),this};p.__private__.line=p.line=function(f,w,T,W,Q){if(isNaN(f)||isNaN(w)||isNaN(T)||isNaN(W)||!nn(Q))throw new Error("Invalid arguments passed to jsPDF.line");return R===F.COMPAT?this.lines([[T-f,W-w]],f,w,[1,1],Q||"S"):this.lines([[T-f,W-w]],f,w,[1,1]).stroke()},p.__private__.lines=p.lines=function(f,w,T,W,Q,be){var Le,Te,Ue,et,Ze,ot,Pt,Ct,qt,er,$t,Ur;if(typeof f=="number"&&(Ur=T,T=w,w=f,f=Ur),W=W||[1,1],be=be||!1,isNaN(w)||isNaN(T)||!Array.isArray(f)||!Array.isArray(W)||!nn(Q)||typeof be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Na(w,T),Le=W[0],Te=W[1],et=f.length,er=w,$t=T,Ue=0;Ue<et;Ue++)(Ze=f[Ue]).length===2?(er=Ze[0]*Le+er,$t=Ze[1]*Te+$t,ui(er,$t)):(ot=Ze[0]*Le+er,Pt=Ze[1]*Te+$t,Ct=Ze[2]*Le+er,qt=Ze[3]*Te+$t,er=Ze[4]*Le+er,$t=Ze[5]*Te+$t,On(ot,Pt,Ct,qt,er,$t));return be&&bo(),xa(Q),this},p.path=function(f){for(var w=0;w<f.length;w++){var T=f[w],W=T.c;switch(T.op){case"m":Na(W[0],W[1]);break;case"l":ui(W[0],W[1]);break;case"c":On.apply(this,W);break;case"h":bo()}}return this},p.__private__.rect=p.rect=function(f,w,T,W,Q){if(isNaN(f)||isNaN(w)||isNaN(T)||isNaN(W)||!nn(Q))throw new Error("Invalid arguments passed to jsPDF.rect");return R===F.COMPAT&&(W=-W),M([Z(E(f)),Z(q(w)),Z(E(T)),Z(E(W)),"re"].join(" ")),xa(Q),this},p.__private__.triangle=p.triangle=function(f,w,T,W,Q,be,Le){if(isNaN(f)||isNaN(w)||isNaN(T)||isNaN(W)||isNaN(Q)||isNaN(be)||!nn(Le))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[T-f,W-w],[Q-T,be-W],[f-Q,w-be]],f,w,[1,1],Le,!0),this},p.__private__.roundedRect=p.roundedRect=function(f,w,T,W,Q,be,Le){if(isNaN(f)||isNaN(w)||isNaN(T)||isNaN(W)||isNaN(Q)||isNaN(be)||!nn(Le))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Te=4/3*(Math.SQRT2-1);return Q=Math.min(Q,.5*T),be=Math.min(be,.5*W),this.lines([[T-2*Q,0],[Q*Te,0,Q,be-be*Te,Q,be],[0,W-2*be],[0,be*Te,-Q*Te,be,-Q,be],[2*Q-T,0],[-Q*Te,0,-Q,-be*Te,-Q,-be],[0,2*be-W],[0,-be*Te,Q*Te,-be,Q,-be]],f+Q,w,[1,1],Le,!0),this},p.__private__.ellipse=p.ellipse=function(f,w,T,W,Q){if(isNaN(f)||isNaN(w)||isNaN(T)||isNaN(W)||!nn(Q))throw new Error("Invalid arguments passed to jsPDF.ellipse");var be=4/3*(Math.SQRT2-1)*T,Le=4/3*(Math.SQRT2-1)*W;return Na(f+T,w),On(f+T,w-Le,f+be,w-W,f,w-W),On(f-be,w-W,f-T,w-Le,f-T,w),On(f-T,w+Le,f-be,w+W,f,w+W),On(f+be,w+W,f+T,w+Le,f+T,w),xa(Q),this},p.__private__.circle=p.circle=function(f,w,T,W){if(isNaN(f)||isNaN(w)||isNaN(T)||!nn(W))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(f,w,T,T,W)},p.setFont=function(f,w,T){return T&&(w=ue(w,T)),it=po(f,w,{disableWarning:!1}),this};var Gs=p.__private__.getFont=p.getFont=function(){return bt[po.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var f,w,T={};for(f in Lt)if(Lt.hasOwnProperty(f))for(w in T[f]=[],Lt[f])Lt[f].hasOwnProperty(w)&&T[f].push(w);return T},p.addFont=function(f,w,T,W,Q){var be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&be.indexOf(arguments[3])!==-1?Q=arguments[3]:arguments[3]&&be.indexOf(arguments[3])==-1&&(T=ue(T,W)),Q=Q||"Identity-H",ba.call(this,f,w,T,Q)};var ci,Sa=t.lineWidth||.200025,Ui=p.__private__.getLineWidth=p.getLineWidth=function(){return Sa},yo=p.__private__.setLineWidth=p.setLineWidth=function(f){return Sa=f,M(Z(E(f))+" w"),this};p.__private__.setLineDash=We.API.setLineDash=We.API.setLineDashPattern=function(f,w){if(f=f||[],w=w||0,isNaN(w)||!Array.isArray(f))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return f=f.map(function(T){return Z(E(T))}).join(" "),w=Z(E(w)),M("["+f+"] "+w+" d"),this};var wo=p.__private__.getLineHeight=p.getLineHeight=function(){return Se*ci};p.__private__.getLineHeight=p.getLineHeight=function(){return Se*ci};var xo=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(f){return typeof(f=f||1.15)=="number"&&(ci=f),this},No=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return ci};xo(t.lineHeight);var an=p.__private__.getHorizontalCoordinate=function(f){return E(f)},yn=p.__private__.getVerticalCoordinate=function(f){return R===F.ADVANCED?f:Xe[I].mediaBox.topRightY-Xe[I].mediaBox.bottomLeftY-E(f)},Ys=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(f){return Z(an(f))},Mn=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(f){return Z(yn(f))},zr=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Mr(zr)},p.__private__.setStrokeColor=p.setDrawColor=function(f,w,T,W){return zr=Br({ch1:f,ch2:w,ch3:T,ch4:W,pdfColorType:"draw",precision:2}),M(zr),this};var Aa=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Mr(Aa)},p.__private__.setFillColor=p.setFillColor=function(f,w,T,W){return Aa=Br({ch1:f,ch2:w,ch3:T,ch4:W,pdfColorType:"fill",precision:2}),M(Aa),this};var fi=t.textColor||"0 g",Js=p.__private__.getTextColor=p.getTextColor=function(){return Mr(fi)};p.__private__.setTextColor=p.setTextColor=function(f,w,T,W){return fi=Br({ch1:f,ch2:w,ch3:T,ch4:W,pdfColorType:"text",precision:3}),this};var Hi=t.charSpace,Ks=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Hi||0)};p.__private__.setCharSpace=p.setCharSpace=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Hi=f,this};var La=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(f){var w=p.CapJoinStyles[f];if(w===void 0)throw new Error("Line cap style of '"+f+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return La=w,M(w+" J"),this};var Pa=0;p.__private__.setLineJoin=p.setLineJoin=function(f){var w=p.CapJoinStyles[f];if(w===void 0)throw new Error("Line join style of '"+f+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pa=w,M(w+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(f){if(f=f||0,isNaN(f))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return M(Z(E(f))+" M"),this},p.GState=ls,p.setGState=function(f){(f=typeof f=="string"?kt[Tr[f]]:So(null,f)).equals(mn)||(M("/"+f.id+" gs"),mn=f)};var So=function(f,w){if(!f||!Tr[f]){var T=!1;for(var W in kt)if(kt.hasOwnProperty(W)&&kt[W].equals(w)){T=!0;break}if(T)w=kt[W];else{var Q="GS"+(Object.keys(kt).length+1).toString(10);kt[Q]=w,w.id=Q}return f&&(Tr[f]=w.id),ht.publish("addGState",w),w}};p.addGState=function(f,w){return So(f,w),this},p.saveGraphicsState=function(){return M("q"),Xr.push({key:it,size:Se,color:fi}),this},p.restoreGraphicsState=function(){M("Q");var f=Xr.pop();return it=f.key,Se=f.size,fi=f.color,mn=null,this},p.setCurrentTransformationMatrix=function(f){return M(f.toString()+" cm"),this},p.comment=function(f){return M("#"+f),this};var Wi=function(f,w){var T=f||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return T},set:function(be){isNaN(be)||(T=parseFloat(be))}});var W=w||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return W},set:function(be){isNaN(be)||(W=parseFloat(be))}});var Q="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Q},set:function(be){Q=be.toString()}}),this},ka=function(f,w,T,W){Wi.call(this,f,w),this.type="rect";var Q=T||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Q},set:function(Le){isNaN(Le)||(Q=parseFloat(Le))}});var be=W||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return be},set:function(Le){isNaN(Le)||(be=parseFloat(Le))}}),this},_a=function(){this.page=_t,this.currentPage=I,this.pages=we.slice(0),this.pagesContext=Xe.slice(0),this.x=Zt,this.y=ut,this.matrix=Dr,this.width=hi(I),this.height=Bn(I),this.outputDestination=Ce,this.id="",this.objectNumber=-1};_a.prototype.restore=function(){_t=this.page,I=this.currentPage,Xe=this.pagesContext,we=this.pages,Zt=this.x,ut=this.y,Dr=this.matrix,Ca(I,this.width),Fa(I,this.height),Ce=this.outputDestination};var Ao=function(f,w,T,W,Q){Qr.push(new _a),_t=I=0,we=[],Zt=f,ut=w,Dr=Q,ya([T,W])},Xs=function(f){if(Zr[f])Qr.pop().restore();else{var w=new _a,T="Xo"+(Object.keys(Jt).length+1).toString(10);w.id=T,Zr[f]=T,Jt[T]=w,ht.publish("addFormObject",w),Qr.pop().restore()}};for(var $i in p.beginFormObject=function(f,w,T,W,Q){return Ao(f,w,T,W,Q),this},p.endFormObject=function(f){return Xs(f),this},p.doFormObject=function(f,w){var T=Jt[Zr[f]];return M("q"),M(w.toString()+" cm"),M("/"+T.id+" Do"),M("Q"),this},p.getFormObject=function(f){var w=Jt[Zr[f]];return{x:w.x,y:w.y,width:w.width,height:w.height,matrix:w.matrix}},p.save=function(f,w){return f=f||"generated.pdf",(w=w||{}).returnPromise=w.returnPromise||!1,w.returnPromise===!1?(wi(Bi(bn()),f),typeof wi.unload=="function"&&Ve.setTimeout&&setTimeout(wi.unload,911),this):new Promise(function(T,W){try{var Q=wi(Bi(bn()),f);typeof wi.unload=="function"&&Ve.setTimeout&&setTimeout(wi.unload,911),T(Q)}catch(be){W(be.message)}})},We.API)We.API.hasOwnProperty($i)&&($i==="events"&&We.API.events.length?function(f,w){var T,W,Q;for(Q=w.length-1;Q!==-1;Q--)T=w[Q][0],W=w[Q][1],f.subscribe.apply(f,[T].concat(typeof W=="function"?[W]:W))}(ht,We.API.events):p[$i]=We.API[$i]);var hi=p.getPageWidth=function(f){return(Xe[f=f||I].mediaBox.topRightX-Xe[f].mediaBox.bottomLeftX)/De},Ca=p.setPageWidth=function(f,w){Xe[f].mediaBox.topRightX=w*De+Xe[f].mediaBox.bottomLeftX},Bn=p.getPageHeight=function(f){return(Xe[f=f||I].mediaBox.topRightY-Xe[f].mediaBox.bottomLeftY)/De},Fa=p.setPageHeight=function(f,w){Xe[f].mediaBox.topRightY=w*De+Xe[f].mediaBox.bottomLeftY};return p.internal={pdfEscape:fr,getStyle:vo,getFont:Gs,getFontSize:Ee,getCharSpace:Ks,getTextColor:Js,getLineHeight:wo,getLineHeightFactor:No,getLineWidth:Ui,write:qe,getHorizontalCoordinate:an,getVerticalCoordinate:yn,getCoordinateString:Ys,getVerticalCoordinateString:Mn,collections:{},newObject:Ht,newAdditionalObject:ji,newObjectDeferred:Bt,newObjectDeferredBegin:br,getFilters:tn,putStream:Ar,events:ht,scaleFactor:De,pageSize:{getWidth:function(){return hi(I)},setWidth:function(f){Ca(I,f)},getHeight:function(){return Bn(I)},setHeight:function(f){Fa(I,f)}},encryptionOptions:g,encryption:Qt,getEncryptor:zs,output:qi,getNumberOfPages:Rs,pages:we,out:M,f2:pe,f3:C,getPageInfo:mo,getPageInfoByObjId:Ke,getCurrentPageInfo:Us,getPDFVersion:P,Point:Wi,Rectangle:ka,Matrix:$e,hasHotfix:go},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return hi(I)},set:function(f){Ca(I,f)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Bn(I)},set:function(f){Fa(I,f)},enumerable:!0,configurable:!0}),Ds.call(p,ke),it="F1",fo(o,r),ht.publish("initialized"),p}la.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},la.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},la.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},la.prototype.processOwnerPassword=function(t,e){return Yl(Gl(e).substr(0,5),t)},la.prototype.encryptor=function(t,e){var r=Gl(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Yl(r,n)}},ls.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||gt(t)!==gt(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},We.API={events:[]},We.version="3.0.1";var jt=We.API,fu=1,Ci=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},oa=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Qe=function(t){return t.toFixed(2)},Zn=function(t){return t.toFixed(5)};jt.__acroform__={};var mr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},nc=function(t){return t*fu},ln=function(t){var e=new ef,r=Me.internal.getHeight(t)||0,n=Me.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Qe(n)),Number(Qe(r))],e},yd=jt.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},wd=jt.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},xd=jt.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},Tt=jt.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return xd(t,e-1)},Rt=jt.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return yd(t,e-1)},Ot=jt.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return wd(t,e-1)},Nd=jt.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,o=t[0],i=t[1],s=t[2],u=t[3],c={};return c.lowerLeft_X=r(o)||0,c.lowerLeft_Y=n(i+u)||0,c.upperRight_X=r(o+s)||0,c.upperRight_Y=n(i)||0,[Number(Qe(c.lowerLeft_X)),Number(Qe(c.lowerLeft_Y)),Number(Qe(c.upperRight_X)),Number(Qe(c.upperRight_Y))]},Sd=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Jl(t,r),o=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+o+" "+Qe(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=ln(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},Jl=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},o=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");o=t.multiline?o.map(function(C){return C.split(`
`)}):o.map(function(C){return[C]});var i=r,s=Me.internal.getHeight(t)||0;s=s<0?-s:s;var u=Me.internal.getWidth(t)||0;u=u<0?-u:u;var c=function(C,E,H){if(C+1<o.length){var q=E+" "+o[C+1][0];return Xo(q,t,H).width<=u-4}return!1};i++;e:for(;i>0;){e="",i--;var h,g,v=Xo("3",t,i).height,b=t.multiline?s-i:(s-v)/2,p=b+=2,A=0,P=0,j=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Xo(e,t,i=12).width+", FieldWidth:"+u+`
`;break}for(var x="",F=0,R=0;R<o.length;R++)if(o.hasOwnProperty(R)){var G=!1;if(o[R].length!==1&&j!==o[R].length-1){if((v+2)*(F+2)+2>s)continue e;x+=o[R][j],G=!0,P=R,R--}else{x=(x+=o[R][j]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var te=parseInt(R),ue=c(te,x,i),Z=R>=o.length-1;if(ue&&!Z){x+=" ",j=0;continue}if(ue||Z){if(Z)P=te;else if(t.multiline&&(v+2)*(F+2)+2>s)continue e}else{if(!t.multiline||(v+2)*(F+2)+2>s)continue e;P=te}}for(var z="",ae=A;ae<=P;ae++){var pe=o[ae];if(t.multiline){if(ae===P){z+=pe[j]+" ",j=(j+1)%pe.length;continue}if(ae===A){z+=pe[pe.length-1]+" ";continue}}z+=pe[0]+" "}switch(z=z.substr(z.length-1)==" "?z.substr(0,z.length-1):z,g=Xo(z,t,i).width,t.textAlign){case"right":h=u-g-2;break;case"center":h=(u-g)/2;break;case"left":default:h=2}e+=Qe(h)+" "+Qe(p)+` Td
`,e+="("+Ci(z)+`) Tj
`,e+=-Qe(h)+` 0 Td
`,p=-(i+2),g=0,A=G?P:P+1,F++,x=""}break}return n.text=e,n.fontSize=i,n},Xo=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),o=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:o}},Ad={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Ld=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Pd=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,o=t[r];e.internal.newObjectDeferredBegin(o.objId,!0),gt(o)==="object"&&typeof o.putStream=="function"&&o.putStream(),delete t[n]}},kd=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Jr.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Ad)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");fu=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new tf,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in n)if(n.hasOwnProperty(o)){var i=n[o];i.objId=void 0,i.hasAnnotation&&Ld(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,o){var i=!n;for(var s in n||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var u=n[s],c=[],h=u.Rect;if(u.Rect&&(u.Rect=Nd(u.Rect,o)),o.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Me.createDefaultAppearanceStream(u),gt(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(c=u.getKeyValueListForStream()),u.Rect=h,u.hasAppearanceStream&&!u.appearanceStreamContent){var g=Sd(u);c.push({key:"AP",value:"<</N "+g+">>"}),o.internal.acroformPlugin.xForms.push(g)}if(u.appearanceStreamContent){var v="";for(var b in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(b)){var p=u.appearanceStreamContent[b];if(v+="/"+b+" ",v+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var A=p[s];typeof A=="function"&&(A=A.call(o,u)),v+="/"+s+" "+A+" ",o.internal.acroformPlugin.xForms.indexOf(A)>=0||o.internal.acroformPlugin.xForms.push(A)}}else typeof(A=p)=="function"&&(A=A.call(o,u)),v+="/"+s+" "+A,o.internal.acroformPlugin.xForms.indexOf(A)>=0||o.internal.acroformPlugin.xForms.push(A);v+=">>"}c.push({key:"AP",value:`<<
`+v+">>"})}o.internal.putStream({additionalKeyValues:c,objectId:u.objId}),o.internal.out("endobj")}i&&Pd(o.internal.acroformPlugin.xForms,o)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},Qc=jt.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var o="[",i=0;i<t.length;i++)switch(i!==0&&(o+=" "),gt(t[i])){case"boolean":case"number":case"object":o+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),o+="("+Ci(n(t[i].toString()))+")"):o+=t[i].toString()}return o+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Al=function(t,e,r){var n=function(o){return o};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Ci(n(t))+")"},hn=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};hn.prototype.toString=function(){return this.objId+" 0 R"},hn.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},hn.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],o=this[n];o&&(Array.isArray(o)?t.push({key:n,value:Qc(o,this.objId,this.scope)}):o instanceof hn?(o.scope=this.scope,t.push({key:n,value:o.objId+" 0 R"})):typeof o!="function"&&t.push({key:n,value:o}))}return t};var ef=function(){hn.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};mr(ef,hn);var tf=function(){hn.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ci(r(t))+")"}},set:function(r){t=r}})};mr(tf,hn);var Jr=function t(){hn.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Tt(e,3)},set:function(x){x?this.F=Rt(e,3):this.F=Ot(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof us)return;i="FieldObject"+t.FieldNum++}var x=function(F){return F};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Ci(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(x){s=x}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/fu:h},set:function(x){h=x}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(x){g=x}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof us||this instanceof Pi))return Al(v,this.objId,this.scope)},set:function(x){x=x.toString(),v=x}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Yt?b:Al(b,this.objId,this.scope)},set:function(x){x=x.toString(),b=this instanceof Yt?x:x.substr(0,1)==="("?oa(x.substr(1,x.length-2)):oa(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yt?oa(b.substr(1,b.length-1)):b},set:function(x){x=x.toString(),b=this instanceof Yt?"/"+x:x}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Yt?p:Al(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=this instanceof Yt?x:x.substr(0,1)==="("?oa(x.substr(1,x.length-2)):oa(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yt?oa(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof Yt?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,P=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return P},set:function(x){x=!!x,P=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(x){A=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Tt(this.Ff,1)},set:function(x){x?this.Ff=Rt(this.Ff,1):this.Ff=Ot(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Tt(this.Ff,2)},set:function(x){x?this.Ff=Rt(this.Ff,2):this.Ff=Ot(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Tt(this.Ff,3)},set:function(x){x?this.Ff=Rt(this.Ff,3):this.Ff=Ot(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');j=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(j){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:j=2;break;case"center":case 1:j=1;break;case"left":case 0:default:j=0}}})};mr(Jr,hn);var fa=function(){Jr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Qc(e,this.objId,this.scope)},set:function(r){var n,o;o=[],typeof(n=r)=="string"&&(o=function(i,s,u){u||(u=1);for(var c,h=[];c=s.exec(i);)h.push(c[u]);return h}(n,/\((.*?)\)/g)),e=o}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Tt(this.Ff,18)},set:function(r){r?this.Ff=Rt(this.Ff,18):this.Ff=Ot(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Tt(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Rt(this.Ff,19):this.Ff=Ot(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Tt(this.Ff,20)},set:function(r){r?(this.Ff=Rt(this.Ff,20),e.sort()):this.Ff=Ot(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Tt(this.Ff,22)},set:function(r){r?this.Ff=Rt(this.Ff,22):this.Ff=Ot(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Tt(this.Ff,23)},set:function(r){r?this.Ff=Rt(this.Ff,23):this.Ff=Ot(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Tt(this.Ff,27)},set:function(r){r?this.Ff=Rt(this.Ff,27):this.Ff=Ot(this.Ff,27)}}),this.hasAppearanceStream=!1};mr(fa,Jr);var ha=function(){fa.call(this),this.fontName="helvetica",this.combo=!1};mr(ha,fa);var da=function(){ha.call(this),this.combo=!0};mr(da,ha);var rs=function(){da.call(this),this.edit=!0};mr(rs,da);var Yt=function(){Jr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Tt(this.Ff,15)},set:function(r){r?this.Ff=Rt(this.Ff,15):this.Ff=Ot(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Tt(this.Ff,16)},set:function(r){r?this.Ff=Rt(this.Ff,16):this.Ff=Ot(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Tt(this.Ff,17)},set:function(r){r?this.Ff=Rt(this.Ff,17):this.Ff=Ot(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Tt(this.Ff,26)},set:function(r){r?this.Ff=Rt(this.Ff,26):this.Ff=Ot(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,o=[];for(n in o.push("<<"),e)o.push("/"+n+" ("+Ci(r(e[n]))+")");return o.push(">>"),o.join(`
`)}},set:function(r){gt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};mr(Yt,Jr);var ns=function(){Yt.call(this),this.pushButton=!0};mr(ns,Yt);var pa=function(){Yt.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};mr(pa,Yt);var us=function(){var t,e;Jr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(o){t=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(o){e=o}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(u){return u};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+Ci(o(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(o){gt(o)==="object"&&(n=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(o){typeof o=="string"&&(n.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(o){r=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(o){r="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Me.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};mr(us,Jr),pa.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},pa.prototype.createOption=function(t){var e=new us;return e.Parent=this,e.optionName=t,this.Kids.push(e),_d.call(this.scope,e),e};var is=function(){Yt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Me.CheckBox.createAppearanceStream()};mr(is,Yt);var Pi=function(){Jr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Tt(this.Ff,13)},set:function(e){e?this.Ff=Rt(this.Ff,13):this.Ff=Ot(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Tt(this.Ff,21)},set:function(e){e?this.Ff=Rt(this.Ff,21):this.Ff=Ot(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Tt(this.Ff,23)},set:function(e){e?this.Ff=Rt(this.Ff,23):this.Ff=Ot(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Tt(this.Ff,24)},set:function(e){e?this.Ff=Rt(this.Ff,24):this.Ff=Ot(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Tt(this.Ff,25)},set:function(e){e?this.Ff=Rt(this.Ff,25):this.Ff=Ot(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Tt(this.Ff,26)},set:function(e){e?this.Ff=Rt(this.Ff,26):this.Ff=Ot(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};mr(Pi,Jr);var as=function(){Pi.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Tt(this.Ff,14)},set:function(t){t?this.Ff=Rt(this.Ff,14):this.Ff=Ot(this.Ff,14)}}),this.password=!0};mr(as,Pi);var Me={CheckBox:{createAppearanceStream:function(){return{N:{On:Me.CheckBox.YesNormal},D:{On:Me.CheckBox.YesPushDown,Off:Me.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ln(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,o=t.scope.__private__.encodeColorString(t.color),i=Jl(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Qe(Me.internal.getWidth(t))+" "+Qe(Me.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Qe(i.fontSize)+" Tf "+o),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=ln(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),o=[],i=Me.internal.getHeight(t),s=Me.internal.getWidth(t),u=Jl(t,t.caption);return o.push("1 g"),o.push("0 0 "+Qe(s)+" "+Qe(i)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+Qe(s-1)+" "+Qe(i-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+r+" "+Qe(u.fontSize)+" Tf "+n),o.push(u.text),o.push("ET"),o.push("Q"),e.stream=o.join(`
`),e},OffPushDown:function(t){var e=ln(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Qe(Me.internal.getWidth(t))+" "+Qe(Me.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Me.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Me.RadioButton.Circle.YesNormal,e.D[t]=Me.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ln(t);e.scope=t.scope;var r=[],n=Me.internal.getWidth(t)<=Me.internal.getHeight(t)?Me.internal.getWidth(t)/4:Me.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var o=Me.internal.Bezier_C,i=Number((n*o).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Zn(Me.internal.getWidth(t)/2)+" "+Zn(Me.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=ln(t);e.scope=t.scope;var r=[],n=Me.internal.getWidth(t)<=Me.internal.getHeight(t)?Me.internal.getWidth(t)/4:Me.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var o=Number((2*n).toFixed(5)),i=Number((o*Me.internal.Bezier_C).toFixed(5)),s=Number((n*Me.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Zn(Me.internal.getWidth(t)/2)+" "+Zn(Me.internal.getHeight(t)/2)+" cm"),r.push(o+" 0 m"),r.push(o+" "+i+" "+i+" "+o+" 0 "+o+" c"),r.push("-"+i+" "+o+" -"+o+" "+i+" -"+o+" 0 c"),r.push("-"+o+" -"+i+" -"+i+" -"+o+" 0 -"+o+" c"),r.push(i+" -"+o+" "+o+" -"+i+" "+o+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Zn(Me.internal.getWidth(t)/2)+" "+Zn(Me.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ln(t);e.scope=t.scope;var r=[],n=Me.internal.getWidth(t)<=Me.internal.getHeight(t)?Me.internal.getWidth(t)/4:Me.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var o=Number((2*n).toFixed(5)),i=Number((o*Me.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Zn(Me.internal.getWidth(t)/2)+" "+Zn(Me.internal.getHeight(t)/2)+" cm"),r.push(o+" 0 m"),r.push(o+" "+i+" "+i+" "+o+" 0 "+o+" c"),r.push("-"+i+" "+o+" -"+o+" "+i+" -"+o+" 0 c"),r.push("-"+o+" -"+i+" -"+i+" -"+o+" 0 -"+o+" c"),r.push(i+" -"+o+" "+o+" -"+i+" "+o+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Me.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Me.RadioButton.Cross.YesNormal,e.D[t]=Me.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ln(t);e.scope=t.scope;var r=[],n=Me.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Qe(Me.internal.getWidth(t)-2)+" "+Qe(Me.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Qe(n.x1.x)+" "+Qe(n.x1.y)+" m"),r.push(Qe(n.x2.x)+" "+Qe(n.x2.y)+" l"),r.push(Qe(n.x4.x)+" "+Qe(n.x4.y)+" m"),r.push(Qe(n.x3.x)+" "+Qe(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=ln(t);e.scope=t.scope;var r=Me.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Qe(Me.internal.getWidth(t))+" "+Qe(Me.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Qe(Me.internal.getWidth(t)-2)+" "+Qe(Me.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Qe(r.x1.x)+" "+Qe(r.x1.y)+" m"),n.push(Qe(r.x2.x)+" "+Qe(r.x2.y)+" l"),n.push(Qe(r.x4.x)+" "+Qe(r.x4.y)+" m"),n.push(Qe(r.x3.x)+" "+Qe(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ln(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Qe(Me.internal.getWidth(t))+" "+Qe(Me.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Me.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Me.internal.getWidth(t),r=Me.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Me.internal.getWidth=function(t){var e=0;return gt(t)==="object"&&(e=nc(t.Rect[2])),e},Me.internal.getHeight=function(t){var e=0;return gt(t)==="object"&&(e=nc(t.Rect[3])),e};var _d=jt.addField=function(t){if(kd(this,t),!(t instanceof Jr))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};jt.AcroFormChoiceField=fa,jt.AcroFormListBox=ha,jt.AcroFormComboBox=da,jt.AcroFormEditBox=rs,jt.AcroFormButton=Yt,jt.AcroFormPushButton=ns,jt.AcroFormRadioButton=pa,jt.AcroFormCheckBox=is,jt.AcroFormTextField=Pi,jt.AcroFormPasswordField=as,jt.AcroFormAppearance=Me,jt.AcroForm={ChoiceField:fa,ListBox:ha,ComboBox:da,EditBox:rs,Button:Yt,PushButton:ns,RadioButton:pa,CheckBox:is,TextField:Pi,PasswordField:as,Appearance:Me},We.AcroForm={ChoiceField:fa,ListBox:ha,ComboBox:da,EditBox:rs,Button:Yt,PushButton:ns,RadioButton:pa,CheckBox:is,TextField:Pi,PasswordField:as,Appearance:Me};We.AcroForm;function rf(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(C,E){var H,q,ce,le,fe,ee=e;if((E=E||e)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(ue(C))for(fe in r)for(ce=r[fe],H=0;H<ce.length;H+=1){for(le=!0,q=0;q<ce[H].length;q+=1)if(ce[H][q]!==void 0&&ce[H][q]!==C[q]){le=!1;break}if(le===!0){ee=fe;break}}else for(fe in r)for(ce=r[fe],H=0;H<ce.length;H+=1){for(le=!0,q=0;q<ce[H].length;q+=1)if(ce[H][q]!==void 0&&ce[H][q]!==C.charCodeAt(q)){le=!1;break}if(le===!0){ee=fe;break}}return ee===e&&E!==e&&(ee=E),ee},o=function C(E){for(var H=this.internal.write,q=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var le=[];if(le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Image"}),le.push({key:"Width",value:E.width}),le.push({key:"Height",value:E.height}),E.colorSpace===j.INDEXED?le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(le.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===j.DEVICE_CMYK&&le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),le.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&le.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)){for(var fe="",ee=0,he=E.transparency.length;ee<he;ee++)fe+=E.transparency[ee]+" "+E.transparency[ee]+" ";le.push({key:"Mask",value:"["+fe+"]"})}E.sMask!==void 0&&le.push({key:"SMask",value:E.objectId+1+" 0 R"});var ve=E.filter!==void 0?["/"+E.filter]:void 0;if(q({data:E.data,additionalKeyValues:le,alreadyAppliedFilters:ve,objectId:E.objectId}),H("endobj"),"sMask"in E&&E.sMask!==void 0){var Pe="/Predictor "+E.predictor+" /Colors 1 /BitsPerComponent "+E.bitsPerComponent+" /Columns "+E.width,L={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:E.bitsPerComponent,decodeParameters:Pe,data:E.sMask};"filter"in E&&(L.filter=E.filter),C.call(this,L)}if(E.colorSpace===j.INDEXED){var I=this.internal.newObject();q({data:z(new Uint8Array(E.palette)),objectId:I}),H("endobj")}},i=function(){var C=this.internal.collections.addImage_images;for(var E in C)o.call(this,C[E])},s=function(){var C,E=this.internal.collections.addImage_images,H=this.internal.write;for(var q in E)H("/I"+(C=E[q]).index,C.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var C=this.internal.collections.addImage_images;return u.call(this),C},h=function(){return Object.keys(this.internal.collections.addImage_images).length},g=function(C){return typeof t["process"+C.toUpperCase()]=="function"},v=function(C){return gt(C)==="object"&&C.nodeType===1},b=function(C,E){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var H=""+C.getAttribute("src");if(H.indexOf("data:image/")===0)return Za(unescape(H).split("base64,").pop());var q=t.loadFile(H,!0);if(q!==void 0)return q}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var ce;switch(E){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;case"JPEG":case"JPG":default:ce="image/jpeg"}return Za(C.toDataURL(ce,1).split("base64,").pop())}},p=function(C){var E=this.internal.collections.addImage_images;if(E){for(var H in E)if(C===E[H].alias)return E[H]}},A=function(C,E,H){return C||E||(C=-96,E=-96),C<0&&(C=-1*H.width*72/C/this.internal.scaleFactor),E<0&&(E=-1*H.height*72/E/this.internal.scaleFactor),C===0&&(C=E*H.width/H.height),E===0&&(E=C*H.height/H.width),[C,E]},P=function(C,E,H,q,ce,le){var fe=A.call(this,H,q,ce),ee=this.internal.getCoordinateString,he=this.internal.getVerticalCoordinateString,ve=c.call(this);if(H=fe[0],q=fe[1],ve[ce.index]=ce,le){le*=Math.PI/180;var Pe=Math.cos(le),L=Math.sin(le),I=function(U){return U.toFixed(4)},B=[I(Pe),I(L),I(-1*L),I(Pe),0,0,"cm"]}this.internal.write("q"),le?(this.internal.write([1,"0","0",1,ee(C),he(E+q),"cm"].join(" ")),this.internal.write(B.join(" ")),this.internal.write([ee(H),"0","0",ee(q),"0","0","cm"].join(" "))):this.internal.write([ee(H),"0","0",ee(q),ee(C),he(E+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},j=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},F=t.__addimage__.sHashCode=function(C){var E,H,q=0;if(typeof C=="string")for(H=C.length,E=0;E<H;E++)q=(q<<5)-q+C.charCodeAt(E),q|=0;else if(ue(C))for(H=C.byteLength/2,E=0;E<H;E++)q=(q<<5)-q+C[E],q|=0;return q},R=t.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var E=!0;return C.length===0&&(E=!1),C.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(E=!1),E},G=t.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var E=C.indexOf(",");return E<0?null:C.substring(0,E).trim().endsWith("base64")?C.substring(E+1):null},te=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(C){return te()&&C instanceof ArrayBuffer};var ue=t.__addimage__.isArrayBufferView=function(C){return te()&&typeof Uint32Array<"u"&&(C instanceof Int8Array||C instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array)},Z=t.__addimage__.binaryStringToUint8Array=function(C){for(var E=C.length,H=new Uint8Array(E),q=0;q<E;q++)H[q]=C.charCodeAt(q);return H},z=t.__addimage__.arrayBufferToBinaryString=function(C){for(var E="",H=ue(C)?C:new Uint8Array(C),q=0;q<H.length;q+=8192)E+=String.fromCharCode.apply(null,H.subarray(q,q+8192));return E};t.addImage=function(){var C,E,H,q,ce,le,fe,ee,he;if(typeof arguments[1]=="number"?(E=e,H=arguments[1],q=arguments[2],ce=arguments[3],le=arguments[4],fe=arguments[5],ee=arguments[6],he=arguments[7]):(E=arguments[1],H=arguments[2],q=arguments[3],ce=arguments[4],le=arguments[5],fe=arguments[6],ee=arguments[7],he=arguments[8]),gt(C=arguments[0])==="object"&&!v(C)&&"imageData"in C){var ve=C;C=ve.imageData,E=ve.format||E||e,H=ve.x||H||0,q=ve.y||q||0,ce=ve.w||ve.width||ce,le=ve.h||ve.height||le,fe=ve.alias||fe,ee=ve.compression||ee,he=ve.rotation||ve.angle||he}var Pe=this.internal.getFilters();if(ee===void 0&&Pe.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(H)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var L=ae.call(this,C,E,fe,ee);return P.call(this,H,q,ce,le,L,he),this};var ae=function(C,E,H,q){var ce,le,fe;if(typeof C=="string"&&n(C)===e){C=unescape(C);var ee=pe(C,!1);(ee!==""||(ee=t.loadFile(C,!0))!==void 0)&&(C=ee)}if(v(C)&&(C=b(C,E)),E=n(C,E),!g(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((fe=H)==null||fe.length===0)&&(H=function(he){return typeof he=="string"||ue(he)?F(he):ue(he.data)?F(he.data):null}(C)),(ce=p.call(this,H))||(te()&&(C instanceof Uint8Array||E==="RGBA"||(le=C,C=Z(C))),ce=this["process"+E.toUpperCase()](C,h.call(this),H,function(he){return he&&typeof he=="string"&&(he=he.toUpperCase()),he in t.image_compression?he:x.NONE}(q),le)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},pe=t.__addimage__.convertBase64ToBinaryString=function(C,E){E=typeof E!="boolean"||E;var H,q="";if(typeof C=="string"){var ce;H=(ce=G(C))!==null&&ce!==void 0?ce:C;try{q=Za(H)}catch(le){if(E)throw R(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};t.getImageProperties=function(C){var E,H,q="";if(v(C)&&(C=b(C)),typeof C=="string"&&n(C)===e&&((q=pe(C,!1))===""&&(q=t.loadFile(C)||""),C=q),H=n(C),!g(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(!te()||C instanceof Uint8Array||(C=Z(C)),!(E=this["process"+H.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=H,E}})(We.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};We.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,o,i,s=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),h=r.pageContext.annotations,g=!1,v=0;v<h.length&&!g;v++)switch((n=h[v]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var b=0;b<h.length;b++){n=h[b];var p=this.internal.pdfEscape,A=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var P=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(P.objId),F=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(o="/Rect ["+s(n.bounds.x)+" "+u(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y)+"] ")+"/Contents ("+p(x(n.contents))+")",i+=" /Popup "+j.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(x(F))+") >>",P.content=i;var R=P.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+s(n.bounds.x+30)+" "+u(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+u(n.bounds.y)+"] ")+" /Parent "+R,n.open&&(i+=" /Open true"),i+=" >>",j.content=i,this.internal.write(P.objId,"0 R",j.objId,"0 R");break;case"freetext":o="/Rect ["+s(n.bounds.x)+" "+u(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y+n.bounds.h)+"] ";var G=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+p(A(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+G+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var te=this.annotations._nameMap[n.options.name];n.options.pageNumber=te.page,n.options.top=te.y}else n.options.top||(n.options.top=0);if(o="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+p(A(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var ue=u(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+ue+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,o,i,s){var u=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:c(r),y:h(n),w:c(r+o),h:h(n+i)},options:s,type:"link"})},t.textWithLink=function(r,n,o,i){var s,u,c=this.getTextWidth(r),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){u=i.maxWidth;var g=this.splitTextToSize(r,u).length;s=Math.ceil(h*g)}else u=c,s=h;return this.text(r,n,o,i),o+=.2*h,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,o-h,u,s,i),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(We.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(P){return e[P.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(P){return typeof P=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(P)},u=t.__arabicParser__.isArabicEndLetter=function(P){return s(P)&&i(P)&&e[P.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(P){return s(P)&&o.indexOf(P.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(P){return s(P)&&i(P)&&e[P.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(P){return s(P)&&i(P)&&e[P.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(P){return s(P)&&i(P)&&e[P.charCodeAt(0)].length>=3};var g=t.__arabicParser__.arabicLetterHasMedialForm=function(P){return s(P)&&i(P)&&e[P.charCodeAt(0)].length==4},v=t.__arabicParser__.resolveLigatures=function(P){var j=0,x=r,F="",R=0;for(j=0;j<P.length;j+=1)x[P.charCodeAt(j)]!==void 0?(R++,typeof(x=x[P.charCodeAt(j)])=="number"&&(F+=String.fromCharCode(x),x=r,R=0),j===P.length-1&&(x=r,F+=P.charAt(j-(R-1)),j-=R-1,R=0)):(x=r,F+=P.charAt(j-R),j-=R,R=0);return F};t.__arabicParser__.isArabicDiacritic=function(P){return P!==void 0&&n[P.charCodeAt(0)]!==void 0};var b=t.__arabicParser__.getCorrectForm=function(P,j,x){return s(P)?i(P)===!1?-1:!h(P)||!s(j)&&!s(x)||!s(x)&&u(j)||u(P)&&!s(j)||u(P)&&c(j)||u(P)&&u(j)?0:g(P)&&s(j)&&!u(j)&&s(x)&&h(x)?3:u(P)||!s(x)?1:2:-1},p=function(P){var j=0,x=0,F=0,R="",G="",te="",ue=(P=P||"").split("\\s+"),Z=[];for(j=0;j<ue.length;j+=1){for(Z.push(""),x=0;x<ue[j].length;x+=1)R=ue[j][x],G=ue[j][x-1],te=ue[j][x+1],s(R)?(F=b(R,G,te),Z[j]+=F!==-1?String.fromCharCode(e[R.charCodeAt(0)][F]):R):Z[j]+=R;Z[j]=v(Z[j])}return Z.join(" ")},A=t.__arabicParser__.processArabic=t.processArabic=function(){var P,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(j)){var F=0;for(x=[],F=0;F<j.length;F+=1)Array.isArray(j[F])?x.push([p(j[F][0]),j[F][1],j[F][2]]):x.push([p(j[F])]);P=x}else P=p(j);return typeof arguments[0]=="string"?P:(arguments[0].text=P,arguments[0])};t.events.push(["preProcessText",A])}(We.API),We.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(u){r=u}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(u){n=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(u){o=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(u){i=u}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(u){s=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var o;if((r=r||"2d")!=="2d")return null;for(o in n)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=n[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(We.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(P){c=P}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(P){h=P}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(P){g=P}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(P){v=P}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(P){b=P}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(P){p=P}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(P){A=P}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,h){n.call(this);var g=(h=h||{}).fontSize||this.getFontSize(),v=h.font||this.getFont(),b=h.scaleFactor||this.internal.scaleFactor,p=0,A=0,P=0,j=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=h.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(R,G){return R.concat(j.splitTextToSize(G,x))},[])):c=Array.isArray(c)?c:[c];for(var F=0;F<c.length;F++)p<(P=this.getStringUnitWidth(c[F],{font:v})*g)&&(p=P);return p!==0&&(A=c.length),{w:p/=b,h:Math.max((A*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/b,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var h=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,v=this.internal.__cell__.margins||e,b=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=v.top,p&&b&&(this.printHeaderRow(c.lineNumber,!0),c.y+=b[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-g,c.y+g,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+g,{align:"center",baseline:"top",maxWidth:c.width-g-g}):this.text(c.text,c.x+g,c.y+g,{align:"left",baseline:"top",maxWidth:c.width-g-g})),this.internal.__cell__.lastCell=c,this};t.table=function(c,h,g,v,b){if(n.call(this),!g)throw new Error("No data for PDF table.");var p,A,P,j,x=[],F=[],R=[],G={},te={},ue=[],Z=[],z=(b=b||{}).autoSize||!1,ae=b.printHeaders!==!1,pe=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,C=b.margins||Object.assign({width:this.getPageWidth()},e),E=typeof b.padding=="number"?b.padding:3,H=b.headerBackgroundColor||"#c8c8c8",q=b.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=ae,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=pe,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=q,this.setFontSize(pe),v==null)F=x=Object.keys(g[0]),R=x.map(function(){return"left"});else if(Array.isArray(v)&&gt(v[0])==="object")for(x=v.map(function(ve){return ve.name}),F=v.map(function(ve){return ve.prompt||ve.name||""}),R=v.map(function(ve){return ve.align||"left"}),p=0;p<v.length;p+=1)te[v[p].name]=v[p].width*(19.049976/25.4);else Array.isArray(v)&&typeof v[0]=="string"&&(F=x=v,R=x.map(function(){return"left"}));if(z||Array.isArray(v)&&typeof v[0]=="string")for(p=0;p<x.length;p+=1){for(G[j=x[p]]=g.map(function(ve){return ve[j]}),this.setFont(void 0,"bold"),ue.push(this.getTextDimensions(F[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=G[j],this.setFont(void 0,"normal"),P=0;P<A.length;P+=1)ue.push(this.getTextDimensions(A[P],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);te[j]=Math.max.apply(null,ue)+E+E,ue=[]}if(ae){var ce={};for(p=0;p<x.length;p+=1)ce[x[p]]={},ce[x[p]].text=F[p],ce[x[p]].align=R[p];var le=u.call(this,ce,te);Z=x.map(function(ve){return new i(c,h,te[ve],le,ce[ve].text,void 0,ce[ve].align)}),this.setTableHeaderRow(Z),this.printHeaderRow(1,!1)}var fe=v.reduce(function(ve,Pe){return ve[Pe.name]=Pe.align,ve},{});for(p=0;p<g.length;p+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:p,data:g[p]},this);var ee=u.call(this,g[p],te);for(P=0;P<x.length;P+=1){var he=g[p][x[P]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:p,col:P,data:he},this),s.call(this,new i(c,h,te[x[P]],ee,he,p+2,fe[x[P]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var u=function(c,h){var g=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(c).map(function(p){var A=c[p];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,h[p]-g-g)},this).map(function(p){return this.getLineHeightFactor()*p.length*v/b+g+g},this).reduce(function(p,A){return Math.max(p,A)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,h){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){g=this.internal.__cell__.tableHeaderRow[p].clone(),h&&(g.y=this.internal.__cell__.margins.top||0,b.push(g)),g.lineNumber=c;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,g),this.setTextColor(A)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),r=!1}}(We.API);var nf={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},af=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Kl=rf(af),of=[100,200,300,400,500,600,700,800,900],Cd=rf(of);function Xl(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return nf[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),o=function(i){return typeof Kl[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:o,src:t.src||[],ref:t.ref||{name:e,style:[o,r,n].join(" ")}}}function ic(t,e,r,n){var o;for(o=r;o>=0&&o<e.length;o+=n)if(t[e[o]])return t[e[o]];for(o=r;o>=0&&o<e.length;o-=n)if(t[e[o]])return t[e[o]]}var Fd={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ac={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function oc(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function jd(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",o=Object.assign({},Fd,r.genericFontFamilies||{}),i=null,s=null,u=0;u<e.length;++u)if(o[(i=Xl(e[u])).family]&&(i.family=o[i.family]),t.hasOwnProperty(i.family)){s=t[i.family];break}if(!(s=s||t[n]))throw new Error("Could not find a font-family for the rule '"+oc(i)+"' and default family '"+n+"'.");if(s=function(c,h){if(h[c])return h[c];var g=Kl[c],v=g<=Kl.normal?-1:1,b=ic(h,af,g,v);if(!b)throw new Error("Could not find a matching font-stretch value for "+c);return b}(i.stretch,s),s=function(c,h){if(h[c])return h[c];for(var g=nf[c],v=0;v<g.length;++v)if(h[g[v]])return h[g[v]];throw new Error("Could not find a matching font-style for "+c)}(i.style,s),!(s=function(c,h){if(h[c])return h[c];if(c===400&&h[500])return h[500];if(c===500&&h[400])return h[400];var g=Cd[c],v=ic(h,of,g,c<400?-1:1);if(!v)throw new Error("Could not find a matching font-weight for value "+c);return v}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+oc(i)+"'.");return s}function sc(t){return t.trimLeft()}function Ed(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function Id(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Zo,lc,uc,Ll=["times"];(function(t){var e,r,n,o,i,s,u,c,h,g=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new c,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new s,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new s,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new v(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,u=this.internal.Rectangle,c=this.internal.Matrix,h=new g}]);var v=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var I=L;Object.defineProperty(this,"pdf",{get:function(){return I}});var B=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return B},set:function(de){B=!!de}});var U=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return U},set:function(de){U=!!de}});var K=0;Object.defineProperty(this,"posX",{get:function(){return K},set:function(de){isNaN(de)||(K=de)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(de){isNaN(de)||(ie=de)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(de){var M;typeof de=="number"?M=[de,de,de,de]:((M=new Array(4))[0]=de[0],M[1]=de.length>=2?de[1]:M[0],M[2]=de.length>=3?de[2]:M[0],M[3]=de.length>=4?de[3]:M[1]),h.margin=M}});var oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return oe},set:function(de){oe=de}});var O=0;Object.defineProperty(this,"lastBreak",{get:function(){return O},set:function(de){O=de}});var ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ge},set:function(de){ge=de}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(de){de instanceof g&&(h=de)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(de){h.path=de}});var we=[];Object.defineProperty(this,"ctxStack",{get:function(){return we},set:function(de){we=de}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(de){var M;M=b(de),this.ctx.fillStyle=M.style,this.ctx.isFillTransparent=M.a===0,this.ctx.fillOpacity=M.a,this.pdf.setFillColor(M.r,M.g,M.b,{a:M.a}),this.pdf.setTextColor(M.r,M.g,M.b,{a:M.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(de){var M=b(de);this.ctx.strokeStyle=M.style,this.ctx.isStrokeTransparent=M.a===0,this.ctx.strokeOpacity=M.a,M.a===0?this.pdf.setDrawColor(255,255,255):(M.a,this.pdf.setDrawColor(M.r,M.g,M.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(de){["butt","round","square"].indexOf(de)!==-1&&(this.ctx.lineCap=de,this.pdf.setLineCap(de))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(de){isNaN(de)||(this.ctx.lineWidth=de,this.pdf.setLineWidth(de))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(de){["bevel","round","miter"].indexOf(de)!==-1&&(this.ctx.lineJoin=de,this.pdf.setLineJoin(de))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(de){isNaN(de)||(this.ctx.miterLimit=de,this.pdf.setMiterLimit(de))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(de){this.ctx.textBaseline=de}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(de){["right","end","center","left","start"].indexOf(de)!==-1&&(this.ctx.textAlign=de)}});var _e=null;function Ce(de,M){if(_e===null){var qe=function(Oe){var ke=[];return Object.keys(Oe).forEach(function(Se){Oe[Se].forEach(function(Fe){var Ee=null;switch(Fe){case"bold":Ee={family:Se,weight:"bold"};break;case"italic":Ee={family:Se,style:"italic"};break;case"bolditalic":Ee={family:Se,weight:"bold",style:"italic"};break;case"":case"normal":Ee={family:Se}}Ee!==null&&(Ee.ref={name:Se,style:Fe},ke.push(Ee))})}),ke}(de.getFontList());_e=function(Oe){for(var ke={},Se=0;Se<Oe.length;++Se){var Fe=Xl(Oe[Se]),Ee=Fe.family,ze=Fe.stretch,Je=Fe.style,Ge=Fe.weight;ke[Ee]=ke[Ee]||{},ke[Ee][ze]=ke[Ee][ze]||{},ke[Ee][ze][Je]=ke[Ee][ze][Je]||{},ke[Ee][ze][Je][Ge]=Fe}return ke}(qe.concat(M))}return _e}var Be=null;Object.defineProperty(this,"fontFaces",{get:function(){return Be},set:function(de){_e=null,Be=de}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(de){var M;if(this.ctx.font=de,(M=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(de))!==null){var qe=M[1];M[2];var Oe=M[3],ke=M[4];M[5];var Se=M[6],Fe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(Fe==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:Fe==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var Ee=function(Ye){var it,De,Zt=[],ut=Ye.trim();if(ut==="")return Ll;if(ut in ac)return[ac[ut]];for(;ut!=="";){switch(De=null,it=(ut=sc(ut)).charAt(0)){case'"':case"'":De=Ed(ut.substring(1),it);break;default:De=Id(ut)}if(De===null||(Zt.push(De[0]),(ut=sc(De[1]))!==""&&ut.charAt(0)!==","))return Ll;ut=ut.replace(/^,/,"")}return Zt}(Se);if(this.fontFaces){var ze=jd(Ce(this.pdf,this.fontFaces),Ee.map(function(Ye){return{family:Ye,stretch:"normal",weight:Oe,style:qe}}));this.pdf.setFont(ze.ref.name,ze.ref.style)}else{var Je="";(Oe==="bold"||parseInt(Oe,10)>=700||qe==="bold")&&(Je="bold"),qe==="italic"&&(Je+="italic"),Je.length===0&&(Je="normal");for(var Ge="",nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},st=0;st<Ee.length;st++){if(this.pdf.internal.getFont(Ee[st],Je,{noFallback:!0,disableWarning:!0})!==void 0){Ge=Ee[st];break}if(Je==="bolditalic"&&this.pdf.internal.getFont(Ee[st],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ge=Ee[st],Je="bold";else if(this.pdf.internal.getFont(Ee[st],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ge=Ee[st],Je="normal";break}}if(Ge===""){for(var mt=0;mt<Ee.length;mt++)if(nt[Ee[mt]]){Ge=nt[Ee[mt]];break}}Ge=Ge===""?"Times":Ge,this.pdf.setFont(Ge,Je)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(de){this.ctx.globalCompositeOperation=de}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(de){this.ctx.globalAlpha=de}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(de){this.ctx.lineDashOffset=de,Pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(de){this.ctx.lineDash=de,Pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(de){this.ctx.ignoreClearRect=!!de}})};v.prototype.setLineDash=function(L){this.lineDash=L},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){G.call(this,"fill",!1)},v.prototype.stroke=function(){G.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(L,I){if(isNaN(L)||isNaN(I))throw wt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var B=this.ctx.transform.applyToPoint(new s(L,I));this.path.push({type:"mt",x:B.x,y:B.y}),this.ctx.lastPoint=new s(L,I)},v.prototype.closePath=function(){var L=new s(0,0),I=0;for(I=this.path.length-1;I!==-1;I--)if(this.path[I].type==="begin"&&gt(this.path[I+1])==="object"&&typeof this.path[I+1].x=="number"){L=new s(this.path[I+1].x,this.path[I+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(L.x,L.y)},v.prototype.lineTo=function(L,I){if(isNaN(L)||isNaN(I))throw wt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var B=this.ctx.transform.applyToPoint(new s(L,I));this.path.push({type:"lt",x:B.x,y:B.y}),this.ctx.lastPoint=new s(B.x,B.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),G.call(this,null,!0)},v.prototype.quadraticCurveTo=function(L,I,B,U){if(isNaN(B)||isNaN(U)||isNaN(L)||isNaN(I))throw wt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var K=this.ctx.transform.applyToPoint(new s(B,U)),ie=this.ctx.transform.applyToPoint(new s(L,I));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:K.x,y:K.y}),this.ctx.lastPoint=new s(K.x,K.y)},v.prototype.bezierCurveTo=function(L,I,B,U,K,ie){if(isNaN(K)||isNaN(ie)||isNaN(L)||isNaN(I)||isNaN(B)||isNaN(U))throw wt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var oe=this.ctx.transform.applyToPoint(new s(K,ie)),O=this.ctx.transform.applyToPoint(new s(L,I)),ge=this.ctx.transform.applyToPoint(new s(B,U));this.path.push({type:"bct",x1:O.x,y1:O.y,x2:ge.x,y2:ge.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new s(oe.x,oe.y)},v.prototype.arc=function(L,I,B,U,K,ie){if(isNaN(L)||isNaN(I)||isNaN(B)||isNaN(U)||isNaN(K))throw wt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var oe=this.ctx.transform.applyToPoint(new s(L,I));L=oe.x,I=oe.y;var O=this.ctx.transform.applyToPoint(new s(0,B)),ge=this.ctx.transform.applyToPoint(new s(0,0));B=Math.sqrt(Math.pow(O.x-ge.x,2)+Math.pow(O.y-ge.y,2))}Math.abs(K-U)>=2*Math.PI&&(U=0,K=2*Math.PI),this.path.push({type:"arc",x:L,y:I,radius:B,startAngle:U,endAngle:K,counterclockwise:ie})},v.prototype.arcTo=function(L,I,B,U,K){throw new Error("arcTo not implemented.")},v.prototype.rect=function(L,I,B,U){if(isNaN(L)||isNaN(I)||isNaN(B)||isNaN(U))throw wt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,I),this.lineTo(L+B,I),this.lineTo(L+B,I+U),this.lineTo(L,I+U),this.lineTo(L,I),this.lineTo(L+B,I),this.lineTo(L,I)},v.prototype.fillRect=function(L,I,B,U){if(isNaN(L)||isNaN(I)||isNaN(B)||isNaN(U))throw wt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var K={};this.lineCap!=="butt"&&(K.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(K.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,I,B,U),this.fill(),K.hasOwnProperty("lineCap")&&(this.lineCap=K.lineCap),K.hasOwnProperty("lineJoin")&&(this.lineJoin=K.lineJoin)}},v.prototype.strokeRect=function(L,I,B,U){if(isNaN(L)||isNaN(I)||isNaN(B)||isNaN(U))throw wt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(L,I,B,U),this.stroke())},v.prototype.clearRect=function(L,I,B,U){if(isNaN(L)||isNaN(I)||isNaN(B)||isNaN(U))throw wt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,I,B,U))},v.prototype.save=function(L){L=typeof L!="boolean"||L;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("q");if(this.pdf.setPage(I),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var U=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=U}},v.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("Q");this.pdf.setPage(I),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(L){var I,B,U,K;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))I=0,B=0,U=0,K=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(ie!==null)I=parseInt(ie[1]),B=parseInt(ie[2]),U=parseInt(ie[3]),K=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)I=parseInt(ie[1]),B=parseInt(ie[2]),U=parseInt(ie[3]),K=parseFloat(ie[4]);else{if(K=1,typeof L=="string"&&L.charAt(0)!=="#"){var oe=new Kc(L);L=oe.ok?oe.toHex():"#000000"}L.length===4?(I=L.substring(1,2),I+=I,B=L.substring(2,3),B+=B,U=L.substring(3,4),U+=U):(I=L.substring(1,3),B=L.substring(3,5),U=L.substring(5,7)),I=parseInt(I,16),B=parseInt(B,16),U=parseInt(U,16)}}return{r:I,g:B,b:U,a:K,style:L}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(L,I,B,U){if(isNaN(I)||isNaN(B)||typeof L!="string")throw wt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(U=isNaN(U)?void 0:U,!p.call(this)){var K=ee(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;E.call(this,{text:L,x:I,y:B,scale:ie,angle:K,align:this.textAlign,maxWidth:U})}},v.prototype.strokeText=function(L,I,B,U){if(isNaN(I)||isNaN(B)||typeof L!="string")throw wt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){U=isNaN(U)?void 0:U;var K=ee(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;E.call(this,{text:L,x:I,y:B,scale:ie,renderingMode:"stroke",angle:K,align:this.textAlign,maxWidth:U})}},v.prototype.measureText=function(L){if(typeof L!="string")throw wt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var I=this.pdf,B=this.pdf.internal.scaleFactor,U=I.internal.getFontSize(),K=I.getStringUnitWidth(L)*U/I.internal.scaleFactor,ie=function(oe){var O=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return O}}),this};return new ie({width:K*=Math.round(96*B/72*1e4)/1e4})},v.prototype.scale=function(L,I){if(isNaN(L)||isNaN(I))throw wt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var B=new c(L,0,0,I,0,0);this.ctx.transform=this.ctx.transform.multiply(B)},v.prototype.rotate=function(L){if(isNaN(L))throw wt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var I=new c(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(I)},v.prototype.translate=function(L,I){if(isNaN(L)||isNaN(I))throw wt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var B=new c(1,0,0,1,L,I);this.ctx.transform=this.ctx.transform.multiply(B)},v.prototype.transform=function(L,I,B,U,K,ie){if(isNaN(L)||isNaN(I)||isNaN(B)||isNaN(U)||isNaN(K)||isNaN(ie))throw wt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var oe=new c(L,I,B,U,K,ie);this.ctx.transform=this.ctx.transform.multiply(oe)},v.prototype.setTransform=function(L,I,B,U,K,ie){L=isNaN(L)?1:L,I=isNaN(I)?0:I,B=isNaN(B)?0:B,U=isNaN(U)?1:U,K=isNaN(K)?0:K,ie=isNaN(ie)?0:ie,this.ctx.transform=new c(L,I,B,U,K,ie)};var P=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(L,I,B,U,K,ie,oe,O,ge){var we=this.pdf.getImageProperties(L),_e=1,Ce=1,Be=1,de=1;U!==void 0&&O!==void 0&&(Be=O/U,de=ge/K,_e=we.width/U*O/U,Ce=we.height/K*ge/K),ie===void 0&&(ie=I,oe=B,I=0,B=0),U!==void 0&&O===void 0&&(O=U,ge=K),U===void 0&&O===void 0&&(O=we.width,ge=we.height);for(var M,qe=this.ctx.transform.decompose(),Oe=ee(qe.rotate.shx),ke=new c,Se=(ke=(ke=(ke=ke.multiply(qe.translate)).multiply(qe.skew)).multiply(qe.scale)).applyToRectangle(new u(ie-I*Be,oe-B*de,U*_e,K*Ce)),Fe=j.call(this,Se),Ee=[],ze=0;ze<Fe.length;ze+=1)Ee.indexOf(Fe[ze])===-1&&Ee.push(Fe[ze]);if(R(Ee),this.autoPaging)for(var Je=Ee[0],Ge=Ee[Ee.length-1],nt=Je;nt<Ge+1;nt++){this.pdf.setPage(nt);var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mt=nt===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],De=nt===1?0:Ye+(nt-2)*it;if(this.ctx.clip_path.length!==0){var Zt=this.path;M=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(M,this.posX+this.margin[3],-De+mt+this.ctx.prevPageLastElemOffset),te.call(this,"fill",!0),this.path=Zt}var ut=JSON.parse(JSON.stringify(Se));ut=F([ut],this.posX+this.margin[3],-De+mt+this.ctx.prevPageLastElemOffset)[0];var Dr=(nt>Je||nt<Ge)&&P.call(this);Dr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,it,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",ut.x,ut.y,ut.w,ut.h,null,null,Oe),Dr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",Se.x,Se.y,Se.w,Se.h,null,null,Oe)};var j=function(L,I,B){var U=[];I=I||this.pdf.internal.pageSize.width,B=B||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var K=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":U.push(Math.floor((L.y+K)/B)+1);break;case"arc":U.push(Math.floor((L.y+K-L.radius)/B)+1),U.push(Math.floor((L.y+K+L.radius)/B)+1);break;case"qct":var ie=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);U.push(Math.floor((ie.y+K)/B)+1),U.push(Math.floor((ie.y+ie.h+K)/B)+1);break;case"bct":var oe=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);U.push(Math.floor((oe.y+K)/B)+1),U.push(Math.floor((oe.y+oe.h+K)/B)+1);break;case"rect":U.push(Math.floor((L.y+K)/B)+1),U.push(Math.floor((L.y+L.h+K)/B)+1)}for(var O=0;O<U.length;O+=1)for(;this.pdf.internal.getNumberOfPages()<U[O];)x.call(this);return U},x=function(){var L=this.fillStyle,I=this.strokeStyle,B=this.font,U=this.lineCap,K=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=I,this.font=B,this.lineCap=U,this.lineWidth=K,this.lineJoin=ie},F=function(L,I,B){for(var U=0;U<L.length;U++)switch(L[U].type){case"bct":L[U].x2+=I,L[U].y2+=B;case"qct":L[U].x1+=I,L[U].y1+=B;case"mt":case"lt":case"arc":default:L[U].x+=I,L[U].y+=B}return L},R=function(L){return L.sort(function(I,B){return I-B})},G=function(L,I){for(var B,U,K=this.fillStyle,ie=this.strokeStyle,oe=this.lineCap,O=this.lineWidth,ge=Math.abs(O*this.ctx.transform.scaleX),we=this.lineJoin,_e=JSON.parse(JSON.stringify(this.path)),Ce=JSON.parse(JSON.stringify(this.path)),Be=[],de=0;de<Ce.length;de++)if(Ce[de].x!==void 0)for(var M=j.call(this,Ce[de]),qe=0;qe<M.length;qe+=1)Be.indexOf(M[qe])===-1&&Be.push(M[qe]);for(var Oe=0;Oe<Be.length;Oe++)for(;this.pdf.internal.getNumberOfPages()<Be[Oe];)x.call(this);if(R(Be),this.autoPaging)for(var ke=Be[0],Se=Be[Be.length-1],Fe=ke;Fe<Se+1;Fe++){this.pdf.setPage(Fe),this.fillStyle=K,this.strokeStyle=ie,this.lineCap=oe,this.lineWidth=ge,this.lineJoin=we;var Ee=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ze=Fe===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=Fe===1?0:Je+(Fe-2)*Ge;if(this.ctx.clip_path.length!==0){var st=this.path;B=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(B,this.posX+this.margin[3],-nt+ze+this.ctx.prevPageLastElemOffset),te.call(this,L,!0),this.path=st}if(U=JSON.parse(JSON.stringify(_e)),this.path=F(U,this.posX+this.margin[3],-nt+ze+this.ctx.prevPageLastElemOffset),I===!1||Fe===0){var mt=(Fe>ke||Fe<Se)&&P.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ee,Ge,null).clip().discardPath()),te.call(this,L,I),mt&&this.pdf.restoreGraphicsState()}this.lineWidth=O}else this.lineWidth=ge,te.call(this,L,I),this.lineWidth=O;this.path=_e},te=function(L,I){if((L!=="stroke"||I||!A.call(this))&&(L==="stroke"||I||!p.call(this))){for(var B,U,K=[],ie=this.path,oe=0;oe<ie.length;oe++){var O=ie[oe];switch(O.type){case"begin":K.push({begin:!0});break;case"close":K.push({close:!0});break;case"mt":K.push({start:O,deltas:[],abs:[]});break;case"lt":var ge=K.length;if(ie[oe-1]&&!isNaN(ie[oe-1].x)&&(B=[O.x-ie[oe-1].x,O.y-ie[oe-1].y],ge>0)){for(;ge>=0;ge--)if(K[ge-1].close!==!0&&K[ge-1].begin!==!0){K[ge-1].deltas.push(B),K[ge-1].abs.push(O);break}}break;case"bct":B=[O.x1-ie[oe-1].x,O.y1-ie[oe-1].y,O.x2-ie[oe-1].x,O.y2-ie[oe-1].y,O.x-ie[oe-1].x,O.y-ie[oe-1].y],K[K.length-1].deltas.push(B);break;case"qct":var we=ie[oe-1].x+2/3*(O.x1-ie[oe-1].x),_e=ie[oe-1].y+2/3*(O.y1-ie[oe-1].y),Ce=O.x+2/3*(O.x1-O.x),Be=O.y+2/3*(O.y1-O.y),de=O.x,M=O.y;B=[we-ie[oe-1].x,_e-ie[oe-1].y,Ce-ie[oe-1].x,Be-ie[oe-1].y,de-ie[oe-1].x,M-ie[oe-1].y],K[K.length-1].deltas.push(B);break;case"arc":K.push({deltas:[],abs:[],arc:!0}),Array.isArray(K[K.length-1].abs)&&K[K.length-1].abs.push(O)}}U=I?null:L==="stroke"?"stroke":"fill";for(var qe=!1,Oe=0;Oe<K.length;Oe++)if(K[Oe].arc)for(var ke=K[Oe].abs,Se=0;Se<ke.length;Se++){var Fe=ke[Se];Fe.type==="arc"?z.call(this,Fe.x,Fe.y,Fe.radius,Fe.startAngle,Fe.endAngle,Fe.counterclockwise,void 0,I,!qe):H.call(this,Fe.x,Fe.y),qe=!0}else if(K[Oe].close===!0)this.pdf.internal.out("h"),qe=!1;else if(K[Oe].begin!==!0){var Ee=K[Oe].start.x,ze=K[Oe].start.y;q.call(this,K[Oe].deltas,Ee,ze),qe=!0}U&&ae.call(this,U),I&&pe.call(this)}},ue=function(L){var I=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,B=I*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-B;case"top":return L+I-B;case"hanging":return L+I-2*B;case"middle":return L+I/2-B;case"ideographic":return L;case"alphabetic":default:return L}},Z=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(I,B){this.colorStops.push([I,B])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var z=function(L,I,B,U,K,ie,oe,O,ge){for(var we=le.call(this,B,U,K,ie),_e=0;_e<we.length;_e++){var Ce=we[_e];_e===0&&(ge?C.call(this,Ce.x1+L,Ce.y1+I):H.call(this,Ce.x1+L,Ce.y1+I)),ce.call(this,L,I,Ce.x2,Ce.y2,Ce.x3,Ce.y3,Ce.x4,Ce.y4)}O?pe.call(this):ae.call(this,oe)},ae=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},pe=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(L,I){this.pdf.internal.out(r(L)+" "+n(I)+" m")},E=function(L){var I;switch(L.align){case"right":case"end":I="right";break;case"center":I="center";break;case"left":case"start":default:I="left"}var B=this.pdf.getTextDimensions(L.text),U=ue.call(this,L.y),K=Z.call(this,U)-B.h,ie=this.ctx.transform.applyToPoint(new s(L.x,U)),oe=this.ctx.transform.decompose(),O=new c;O=(O=(O=O.multiply(oe.translate)).multiply(oe.skew)).multiply(oe.scale);for(var ge,we,_e,Ce=this.ctx.transform.applyToRectangle(new u(L.x,U,B.w,B.h)),Be=O.applyToRectangle(new u(L.x,K,B.w,B.h)),de=j.call(this,Be),M=[],qe=0;qe<de.length;qe+=1)M.indexOf(de[qe])===-1&&M.push(de[qe]);if(R(M),this.autoPaging)for(var Oe=M[0],ke=M[M.length-1],Se=Oe;Se<ke+1;Se++){this.pdf.setPage(Se);var Fe=Se===1?this.posY+this.margin[0]:this.margin[0],Ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[2],Je=ze-this.margin[0],Ge=this.pdf.internal.pageSize.width-this.margin[1],nt=Ge-this.margin[3],st=Se===1?0:Ee+(Se-2)*Je;if(this.ctx.clip_path.length!==0){var mt=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(ge,this.posX+this.margin[3],-1*st+Fe),te.call(this,"fill",!0),this.path=mt}var Ye=F([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-st+Fe+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*L.scale),_e=this.lineWidth,this.lineWidth=_e*L.scale);var it=this.autoPaging!=="text";if(it||Ye.y+Ye.h<=ze){if(it||Ye.y>=Fe&&Ye.x<=Ge){var De=it?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Ge-Ye.x)[0],Zt=F([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-st+Fe+this.ctx.prevPageLastElemOffset)[0],ut=it&&(Se>Oe||Se<ke)&&P.call(this);ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,Je,null).clip().discardPath()),this.pdf.text(De,Zt.x,Zt.y,{angle:L.angle,align:I,renderingMode:L.renderingMode}),ut&&this.pdf.restoreGraphicsState()}}else Ye.y<ze&&(this.ctx.prevPageLastElemOffset+=ze-Ye.y);L.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=_e)}else L.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*L.scale),_e=this.lineWidth,this.lineWidth=_e*L.scale),this.pdf.text(L.text,ie.x+this.posX,ie.y+this.posY,{angle:L.angle,align:I,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=_e)},H=function(L,I,B,U){B=B||0,U=U||0,this.pdf.internal.out(r(L+B)+" "+n(I+U)+" l")},q=function(L,I,B){return this.pdf.lines(L,I,B,null,null)},ce=function(L,I,B,U,K,ie,oe,O){this.pdf.internal.out([e(o(B+L)),e(i(U+I)),e(o(K+L)),e(i(ie+I)),e(o(oe+L)),e(i(O+I)),"c"].join(" "))},le=function(L,I,B,U){for(var K=2*Math.PI,ie=Math.PI/2;I>B;)I-=K;var oe=Math.abs(B-I);oe<K&&U&&(oe=K-oe);for(var O=[],ge=U?-1:1,we=I;oe>1e-5;){var _e=we+ge*Math.min(oe,ie);O.push(fe.call(this,L,we,_e)),oe-=Math.abs(_e-we),we=_e}return O},fe=function(L,I,B){var U=(B-I)/2,K=L*Math.cos(U),ie=L*Math.sin(U),oe=K,O=-ie,ge=oe*oe+O*O,we=ge+oe*K+O*ie,_e=4/3*(Math.sqrt(2*ge*we)-we)/(oe*ie-O*K),Ce=oe-_e*O,Be=O+_e*oe,de=Ce,M=-Be,qe=U+I,Oe=Math.cos(qe),ke=Math.sin(qe);return{x1:L*Math.cos(I),y1:L*Math.sin(I),x2:Ce*Oe-Be*ke,y2:Ce*ke+Be*Oe,x3:de*Oe-M*ke,y3:de*ke+M*Oe,x4:L*Math.cos(B),y4:L*Math.sin(B)}},ee=function(L){return 180*L/Math.PI},he=function(L,I,B,U,K,ie){var oe=L+.5*(B-L),O=I+.5*(U-I),ge=K+.5*(B-K),we=ie+.5*(U-ie),_e=Math.min(L,K,oe,ge),Ce=Math.max(L,K,oe,ge),Be=Math.min(I,ie,O,we),de=Math.max(I,ie,O,we);return new u(_e,Be,Ce-_e,de-Be)},ve=function(L,I,B,U,K,ie,oe,O){var ge,we,_e,Ce,Be,de,M,qe,Oe,ke,Se,Fe,Ee,ze,Je=B-L,Ge=U-I,nt=K-B,st=ie-U,mt=oe-K,Ye=O-ie;for(we=0;we<41;we++)Oe=(M=(_e=L+(ge=we/40)*Je)+ge*((Be=B+ge*nt)-_e))+ge*(Be+ge*(K+ge*mt-Be)-M),ke=(qe=(Ce=I+ge*Ge)+ge*((de=U+ge*st)-Ce))+ge*(de+ge*(ie+ge*Ye-de)-qe),we==0?(Se=Oe,Fe=ke,Ee=Oe,ze=ke):(Se=Math.min(Se,Oe),Fe=Math.min(Fe,ke),Ee=Math.max(Ee,Oe),ze=Math.max(ze,ke));return new u(Math.round(Se),Math.round(Fe),Math.round(Ee-Se),Math.round(ze-Fe))},Pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,I,B=(L=this.ctx.lineDash,I=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:I}));this.prevLineDash!==B&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=B)}}})(We.API),function(t){var e=function(i){var s,u,c,h,g,v,b,p,A,P;for(u=[],c=0,h=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;h>c;c+=4)(g=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(v=(g=((g=((g=((g=(g-(P=g%85))/85)-(A=g%85))/85)-(p=g%85))/85)-(b=g%85))/85)%85,u.push(v+33,b+33,p+33,A+33,P+33)):u.push(122);return function(j,x){for(var F=x;F>0;F--)j.pop()}(u,s.length),String.fromCharCode.apply(String,u)+"~>"},r=function(i){var s,u,c,h,g,v=String,b="length",p=255,A="charCodeAt",P="slice",j="replace";for(i[P](-2),i=i[P](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),c=[],h=0,g=(i+=s="uuuuu"[P](i[b]%5||5))[b];g>h;h+=5)u=52200625*(i[A](h)-33)+614125*(i[A](h+1)-33)+7225*(i[A](h+2)-33)+85*(i[A](h+3)-33)+(i[A](h+4)-33),c.push(p&u>>24,p&u>>16,p&u>>8,p&u);return function(x,F){for(var R=F;R>0;R--)x.pop()}(c,s[b]),v.fromCharCode.apply(v,c)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var u="",c=0;c<i.length;c+=2)u+=String.fromCharCode("0x"+(i[c]+i[c+1]));return u},o=function(i){for(var s=new Uint8Array(i.length),u=i.length;u--;)s[u]=i.charCodeAt(u);return i=(s=$l(s)).reduce(function(c,h){return c+String.fromCharCode(h)},"")};t.processDataByFilters=function(i,s){var u=0,c=i||"",h=[];for(typeof(s=s||[])=="string"&&(s=[s]),u=0;u<s.length;u+=1)switch(s[u]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(g){return("0"+g.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=o(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[u]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}}(We.API),function(t){t.loadFile=function(e,r,n){return function(o,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var u=void 0;try{u=function(c,h,g){var v=new XMLHttpRequest,b=0,p=function(A){var P=A.length,j=[],x=String.fromCharCode;for(b=0;b<P;b+=1)j.push(x(255&A.charCodeAt(b)));return j.join("")};if(v.open("GET",c,!h),v.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(v.onload=function(){v.status===200?g(p(this.responseText)):g(void 0)}),v.send(null),h&&v.status===200)return p(v.responseText)}(o,i,s)}catch{}return u}(e,r,n)},t.loadImageFile=t.loadFile}(We.API),function(t){function e(){return(Ve.html2canvas?Promise.resolve(Ve.html2canvas):Bl(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(Ve.DOMPurify?Promise.resolve(Ve.DOMPurify):Bl(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var u=gt(s);return u==="undefined"?"undefined":u==="string"||s instanceof String?"string":u==="number"||s instanceof Number?"number":u==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":u==="object"?"object":"unknown"},o=function(s,u){var c=document.createElement(s);for(var h in u.className&&(c.className=u.className),u.innerHTML&&u.dompurify&&(c.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)c.style[h]=u.style[h];return c},i=function s(u){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),h=s.convert(Promise.resolve(),c);return h=(h=h.setProgress(1,s,1,[s])).set(u)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,u){return s.__proto__=u||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,u){return this.then(function(){switch(u=u||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(c){return this.set({src:o("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function c(h,g){for(var v=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),b=h.firstChild;b;b=b.nextSibling)g!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||v.appendChild(c(b,g));return h.nodeType===1&&(h.nodeName==="CANVAS"?(v.width=h.width,v.height=h.height,v.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(v.value=h.value),v.addEventListener("load",function(){v.scrollTop=h.scrollTop,v.scrollLeft=h.scrollLeft},!0)),v}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(u){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,u(this.prop.container,c)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(u){var c=this.opt.jsPDF,h=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var b=0;b<h.length;++b){var p=h[b],A=p.src.find(function(P){return P.format==="truetype"});A&&c.addFont(A.url,p.ref.name,p.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,c.context2d.save(!0),u(this.prop.container,v)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,u,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,u):this.outputPdf(s,u)},i.prototype.outputPdf=function(s,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,u)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var u=Object.keys(s||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(u)})},i.prototype.get=function(s,u){return this.then(function(){var c=s in i.template.prop?this.prop[s]:this.opt[s];return u?u(c):c})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function u(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(s=s||We.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:u(s.inner.width,s.k),height:u(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,u,c,h){return s!=null&&(this.progress.val=s),u!=null&&(this.progress.state=u),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,u,c,h){return this.setProgress(s?this.progress.val+s:null,u||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},i.prototype.then=function(s,u){var c=this;return this.thenCore(s,u,function(h,g){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(v){return c.updateProgress(null,h),v}).then(h,g).then(function(v){return c.updateProgress(1),v})})},i.prototype.thenCore=function(s,u,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),u&&(u=u.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),g=c.call(h,s,u);return i.convert(g,this.__proto__)},i.prototype.thenExternal=function(s,u){return Promise.prototype.then.call(this,s,u)},i.prototype.thenList=function(s){var u=this;return s.forEach(function(c){u=u.thenCore(c)}),u},i.prototype.catch=function(s){s&&(s=s.bind(this));var u=Promise.prototype.catch.call(this,s);return i.convert(u,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,We.getPageSize=function(s,u,c){if(gt(s)==="object"){var h=s;s=h.orientation,u=h.unit||u,c=h.format||c}u=u||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var g,v=(""+c).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+u}var p,A=0,P=0;if(b.hasOwnProperty(v))A=b[v][1]/g,P=b[v][0]/g;else try{A=c[1],P=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",P>A&&(p=P,P=A,A=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",A>P&&(p=P,P=A,A=p)}return{width:P,height:A,unit:u,k:g,orientation:s}},t.html=function(s,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(Xl):null;var c=new i(u);return u.worker?c:c.from(s).doCallback()}}(We.API),We.API.addJS=function(t){return uc=t,this.internal.events.subscribe("postPutResources",function(){Zo=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Zo+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),lc=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+uc+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Zo!==void 0&&lc!==void 0&&this.internal.out("/Names <</JavaScript "+Zo+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=r.outline.render().split(/\r\n/),i=0;i<o.length;i++){var s=o[i],u=n.exec(s);if(u!=null){var c=u[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,g=[];for(i=0;i<h;i++){var v=r.internal.newObject();g.push(v);var b=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<g.length;i++)r.internal.write("(page_"+(i+1)+")"+g[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,o,i){var s={title:o,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var o=0;o<n.children.length;o++)this.genIds_r(n.children[o])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var u=this.count=this.count_r({count:0},s);if(u>0&&this.line("/Count "+u),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var h=0;h<n.children.length;h++)this.renderItems(n.children[h])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,o){for(var i=0;i<o.children.length;i++)n.count++,this.count_r(n,o.children[i]);return n.count}}])}(We.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,o,i,s,u){var c,h=this.decode.DCT_DECODE,g=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(v){for(var b,p=256*v.charCodeAt(4)+v.charCodeAt(5),A=v.length,P={width:0,height:0,numcomponents:1},j=4;j<A;j+=2){if(j+=p,e.indexOf(v.charCodeAt(j+1))!==-1){b=256*v.charCodeAt(j+5)+v.charCodeAt(j+6),P={width:256*v.charCodeAt(j+7)+v.charCodeAt(j+8),height:b,numcomponents:v.charCodeAt(j+9)};break}p=256*v.charCodeAt(j+2)+v.charCodeAt(j+3)}return P}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}g={data:r,width:c.width,height:c.height,colorSpace:u,bitsPerComponent:8,filter:h,index:n,alias:o}}return g}}(We.API);var sa,Qo,cc,fc,hc,Dd=function(){var t,e,r;function n(i){var s,u,c,h,g,v,b,p,A,P,j,x,F,R;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(s=this.readUInt32(),A=function(){var G,te;for(te=[],G=0;G<4;++G)te.push(String.fromCharCode(this.data[this.pos++]));return te}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},g=this.readUInt16(),h=this.readUInt16()||100,v.delay=1e3*g/h,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for(A==="fdAT"&&(this.pos+=4,s-=4),i=v?.data||this.imgData,x=0;0<=s?x<s:x>s;0<=s?++x:--x)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((P=c-this.transparency.indexed.length)>0)for(F=0;0<=P?F<P:F>P;0<=P?++F:--F)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":b=(j=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,j.slice(0,b)),this.text[p]=String.fromCharCode.apply(String,j.slice(b+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(R=this.colorType)===4||R===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,u;for(u=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)u.push(this.data[this.pos++]);return u},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*s),c=0,h=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function g(v,b,p,A){var P,j,x,F,R,G,te,ue,Z,z,ae,pe,C,E,H,q,ce,le,fe,ee,he,ve=Math.ceil((h.width-v)/p),Pe=Math.ceil((h.height-b)/A),L=h.width==ve&&h.height==Pe;for(E=s*ve,pe=L?u:new Uint8Array(E*Pe),G=i.length,C=0,j=0;C<Pe&&c<G;){switch(i[c++]){case 0:for(F=ce=0;ce<E;F=ce+=1)pe[j++]=i[c++];break;case 1:for(F=le=0;le<E;F=le+=1)P=i[c++],R=F<s?0:pe[j-s],pe[j++]=(P+R)%256;break;case 2:for(F=fe=0;fe<E;F=fe+=1)P=i[c++],x=(F-F%s)/s,H=C&&pe[(C-1)*E+x*s+F%s],pe[j++]=(H+P)%256;break;case 3:for(F=ee=0;ee<E;F=ee+=1)P=i[c++],x=(F-F%s)/s,R=F<s?0:pe[j-s],H=C&&pe[(C-1)*E+x*s+F%s],pe[j++]=(P+Math.floor((R+H)/2))%256;break;case 4:for(F=he=0;he<E;F=he+=1)P=i[c++],x=(F-F%s)/s,R=F<s?0:pe[j-s],C===0?H=q=0:(H=pe[(C-1)*E+x*s+F%s],q=x&&pe[(C-1)*E+(x-1)*s+F%s]),te=R+H-q,ue=Math.abs(te-R),z=Math.abs(te-H),ae=Math.abs(te-q),Z=ue<=z&&ue<=ae?R:z<=ae?H:q,pe[j++]=(P+Z)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!L){var I=((b+C*A)*h.width+v)*s,B=C*E;for(F=0;F<ve;F+=1){for(var U=0;U<s;U+=1)u[I++]=pe[B++];I+=(p-1)*s}}C++}}return i=hd(i),h.interlaceMethod==1?(g(0,0,8,8),g(4,0,8,8),g(0,4,4,8),g(2,0,4,4),g(0,2,2,4),g(1,0,2,2),g(0,1,1,2)):g(0,0,1,1),u},n.prototype.decodePalette=function(){var i,s,u,c,h,g,v,b,p;for(u=this.palette,g=this.transparency.indexed||[],h=new Uint8Array((g.length||0)+u.length),c=0,i=0,s=v=0,b=u.length;v<b;s=v+=3)h[c++]=u[s],h[c++]=u[s+1],h[c++]=u[s+2],h[c++]=(p=g[i++])!=null?p:255;return h},n.prototype.copyToImageData=function(i,s){var u,c,h,g,v,b,p,A,P,j,x;if(c=this.colors,P=null,u=this.hasAlphaChannel,this.palette.length&&(P=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),c=4,u=!0),A=(h=i.data||i).length,v=P||s,g=b=0,c===1)for(;g<A;)p=P?4*s[g/4]:b,j=v[p++],h[g++]=j,h[g++]=j,h[g++]=j,h[g++]=u?v[p++]:255,b=p;else for(;g<A;)p=P?4*s[g/4]:b,h[g++]=v[p++],h[g++]=v[p++],h[g++]=v[p++],h[g++]=u?v[p++]:255,b=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var o=function(){if(Object.prototype.toString.call(Ve)==="[object Window]"){try{e=Ve.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return o(),t=function(i){var s;if(o()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,u,c,h,g,v,b,p;if(this.animation){for(p=[],u=g=0,v=(b=this.animation.frames).length;g<v;u=++g)s=b[u],c=i.createImageData(s.width,s.height),h=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,h),s.imageData=c,p.push(s.image=t(c));return p}},n.prototype.renderFrame=function(i,s){var u,c,h;return u=(c=this.animation.frames)[s],h=c[s-1],s===0&&i.clearRect(0,0,this.width,this.height),h?.disposeOp===1?i.clearRect(h.xOffset,h.yOffset,h.width,h.height):h?.disposeOp===2&&i.putImageData(h.imageData,h.xOffset,h.yOffset),u.blendOp===0&&i.clearRect(u.xOffset,u.yOffset,u.width,u.height),i.drawImage(u.image,u.xOffset,u.yOffset)},n.prototype.animate=function(i){var s,u,c,h,g,v,b=this;return u=0,v=this.animation,h=v.numFrames,c=v.frames,g=v.numPlays,(s=function(){var p,A;if(p=u++%h,A=c[p],b.renderFrame(i,p),h>1&&u/h<g)return b.animation._timeout=setTimeout(s,A.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,u;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(u=s.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),s.putImageData(u,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Td(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,o=t[e++],i=o>>7,s=1<<(7&o)+1;t[e++],t[e++];var u=null,c=null;i&&(u=e,c=s,e+=3*s);var h=!0,g=[],v=0,b=null,p=0,A=null;for(this.width=r,this.height=n;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,A=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var P=t[e++];v=t[e++]|t[e++]<<8,b=t[e++],(1&P)==0&&(b=null),p=P>>2&7,e++;break;case 254:for(;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var j=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,F=t[e++]|t[e++]<<8,R=t[e++]|t[e++]<<8,G=t[e++],te=G>>6&1,ue=1<<(7&G)+1,Z=u,z=c,ae=!1;G>>7&&(ae=!0,Z=e,z=ue,e+=3*ue);var pe=e;for(e++;;){var C;if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}g.push({x:j,y:x,width:F,height:R,has_local_palette:ae,palette_offset:Z,palette_size:z,data_offset:pe,data_length:e-pe,transparent_index:b,interlaced:!!te,delay:v,disposal:p});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return A},this.frameInfo=function(E){if(E<0||E>=g.length)throw new Error("Frame index out of range.");return g[E]},this.decodeAndBlitFrameBGRA=function(E,H){var q=this.frameInfo(E),ce=q.width*q.height,le=new Uint8Array(ce);dc(t,q.data_offset,le,ce);var fe=q.palette_offset,ee=q.transparent_index;ee===null&&(ee=256);var he=q.width,ve=r-he,Pe=he,L=4*(q.y*r+q.x),I=4*((q.y+q.height)*r+q.x),B=L,U=4*ve;q.interlaced===!0&&(U+=4*r*7);for(var K=8,ie=0,oe=le.length;ie<oe;++ie){var O=le[ie];if(Pe===0&&(Pe=he,(B+=U)>=I&&(U=4*ve+4*r*(K-1),B=L+(he+ve)*(K<<1),K>>=1)),O===ee)B+=4;else{var ge=t[fe+3*O],we=t[fe+3*O+1],_e=t[fe+3*O+2];H[B++]=_e,H[B++]=we,H[B++]=ge,H[B++]=255}--Pe}},this.decodeAndBlitFrameRGBA=function(E,H){var q=this.frameInfo(E),ce=q.width*q.height,le=new Uint8Array(ce);dc(t,q.data_offset,le,ce);var fe=q.palette_offset,ee=q.transparent_index;ee===null&&(ee=256);var he=q.width,ve=r-he,Pe=he,L=4*(q.y*r+q.x),I=4*((q.y+q.height)*r+q.x),B=L,U=4*ve;q.interlaced===!0&&(U+=4*r*7);for(var K=8,ie=0,oe=le.length;ie<oe;++ie){var O=le[ie];if(Pe===0&&(Pe=he,(B+=U)>=I&&(U=4*ve+4*r*(K-1),B=L+(he+ve)*(K<<1),K>>=1)),O===ee)B+=4;else{var ge=t[fe+3*O],we=t[fe+3*O+1],_e=t[fe+3*O+2];H[B++]=ge,H[B++]=we,H[B++]=_e,H[B++]=255}--Pe}}}function dc(t,e,r,n){for(var o=t[e++],i=1<<o,s=i+1,u=s+1,c=o+1,h=(1<<c)-1,g=0,v=0,b=0,p=t[e++],A=new Int32Array(4096),P=null;;){for(;g<16&&p!==0;)v|=t[e++]<<g,g+=8,p===1?p=t[e++]:--p;if(g<c)break;var j=v&h;if(v>>=c,g-=c,j!==i){if(j===s)break;for(var x=j<u?j:P,F=0,R=x;R>i;)R=A[R]>>8,++F;var G=R;if(b+F+(x!==j?1:0)>n)return void wt.log("Warning, gif stream longer than expected.");r[b++]=G;var te=b+=F;for(x!==j&&(r[b++]=G),R=x;F--;)R=A[R],r[--te]=255&R,R>>=8;P!==null&&u<4096&&(A[u++]=P<<8|G,u>=h+1&&c<12&&(++c,h=h<<1|1)),P=j}else u=s+1,h=(1<<(c=o+1))-1,P=null}return b!==n&&wt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Pl(t){var e,r,n,o,i,s=Math.floor,u=new Array(64),c=new Array(64),h=new Array(64),g=new Array(64),v=new Array(65535),b=new Array(65535),p=new Array(64),A=new Array(64),P=[],j=0,x=7,F=new Array(64),R=new Array(64),G=new Array(64),te=new Array(256),ue=new Array(2048),Z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ae=[0,1,2,3,4,5,6,7,8,9,10,11],pe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(L,I){for(var B=0,U=0,K=new Array,ie=1;ie<=16;ie++){for(var oe=1;oe<=L[ie];oe++)K[I[U]]=[],K[I[U]][0]=B,K[I[U]][1]=ie,U++,B++;B*=2}return K}function fe(L){for(var I=L[0],B=L[1]-1;B>=0;)I&1<<B&&(j|=1<<x),B--,--x<0&&(j==255?(ee(255),ee(0)):ee(j),x=7,j=0)}function ee(L){P.push(L)}function he(L){ee(L>>8&255),ee(255&L)}function ve(L,I,B,U,K){for(var ie,oe=K[0],O=K[240],ge=function(ke,Se){var Fe,Ee,ze,Je,Ge,nt,st,mt,Ye,it,De=0;for(Ye=0;Ye<8;++Ye){Fe=ke[De],Ee=ke[De+1],ze=ke[De+2],Je=ke[De+3],Ge=ke[De+4],nt=ke[De+5],st=ke[De+6];var Zt=Fe+(mt=ke[De+7]),ut=Fe-mt,Dr=Ee+st,bt=Ee-st,Lt=ze+nt,Xr=ze-nt,ft=Je+Ge,oi=Je-Ge,kt=Zt+ft,Tr=Zt-ft,mn=Dr+Lt,_t=Dr-Lt;ke[De]=kt+mn,ke[De+4]=kt-mn;var Xe=.707106781*(_t+Tr);ke[De+2]=Tr+Xe,ke[De+6]=Tr-Xe;var ht=.382683433*((kt=oi+Xr)-(_t=bt+ut)),si=.5411961*kt+ht,Jt=1.306562965*_t+ht,Zr=.707106781*(mn=Xr+bt),Qr=ut+Zr,$e=ut-Zr;ke[De+5]=$e+si,ke[De+3]=$e-si,ke[De+1]=Qr+Jt,ke[De+7]=Qr-Jt,De+=8}for(De=0,Ye=0;Ye<8;++Ye){Fe=ke[De],Ee=ke[De+8],ze=ke[De+16],Je=ke[De+24],Ge=ke[De+32],nt=ke[De+40],st=ke[De+48];var Rr=Fe+(mt=ke[De+56]),en=Fe-mt,cr=Ee+st,Ht=Ee-st,Bt=ze+nt,br=ze-nt,ji=Je+Ge,vn=Je-Ge,Or=Rr+ji,Mr=Rr-ji,Br=cr+Bt,tn=cr-Bt;ke[De]=Or+Br,ke[De+32]=Or-Br;var Ar=.707106781*(tn+Mr);ke[De+16]=Mr+Ar,ke[De+48]=Mr-Ar;var rn=.382683433*((Or=vn+br)-(tn=Ht+en)),li=.5411961*Or+rn,Ei=1.306562965*tn+rn,Ii=.707106781*(Br=br+Ht),Di=en+Ii,Ti=en-Ii;ke[De+40]=Ti+li,ke[De+24]=Ti-li,ke[De+8]=Di+Ei,ke[De+56]=Di-Ei,De++}for(Ye=0;Ye<64;++Ye)it=ke[Ye]*Se[Ye],p[Ye]=it>0?it+.5|0:it-.5|0;return p}(L,I),we=0;we<64;++we)A[Z[we]]=ge[we];var _e=A[0]-B;B=A[0],_e==0?fe(U[0]):(fe(U[b[ie=32767+_e]]),fe(v[ie]));for(var Ce=63;Ce>0&&A[Ce]==0;)Ce--;if(Ce==0)return fe(oe),B;for(var Be,de=1;de<=Ce;){for(var M=de;A[de]==0&&de<=Ce;)++de;var qe=de-M;if(qe>=16){Be=qe>>4;for(var Oe=1;Oe<=Be;++Oe)fe(O);qe&=15}ie=32767+A[de],fe(K[(qe<<4)+b[ie]]),fe(v[ie]),de++}return Ce!=63&&fe(oe),B}function Pe(L){L=Math.min(Math.max(L,1),100),i!=L&&(function(I){for(var B=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],U=0;U<64;U++){var K=s((B[U]*I+50)/100);K=Math.min(Math.max(K,1),255),u[Z[U]]=K}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],oe=0;oe<64;oe++){var O=s((ie[oe]*I+50)/100);O=Math.min(Math.max(O,1),255),c[Z[oe]]=O}for(var ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],we=0,_e=0;_e<8;_e++)for(var Ce=0;Ce<8;Ce++)h[we]=1/(u[Z[we]]*ge[_e]*ge[Ce]*8),g[we]=1/(c[Z[we]]*ge[_e]*ge[Ce]*8),we++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),i=L)}this.encode=function(L,I){I&&Pe(I),P=new Array,j=0,x=7,he(65496),he(65504),he(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),he(1),he(1),ee(0),ee(0),function(){he(65499),he(132),ee(0);for(var Ee=0;Ee<64;Ee++)ee(u[Ee]);ee(1);for(var ze=0;ze<64;ze++)ee(c[ze])}(),function(Ee,ze){he(65472),he(17),ee(8),he(ze),he(Ee),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)}(L.width,L.height),function(){he(65476),he(418),ee(0);for(var Ee=0;Ee<16;Ee++)ee(z[Ee+1]);for(var ze=0;ze<=11;ze++)ee(ae[ze]);ee(16);for(var Je=0;Je<16;Je++)ee(pe[Je+1]);for(var Ge=0;Ge<=161;Ge++)ee(C[Ge]);ee(1);for(var nt=0;nt<16;nt++)ee(E[nt+1]);for(var st=0;st<=11;st++)ee(H[st]);ee(17);for(var mt=0;mt<16;mt++)ee(q[mt+1]);for(var Ye=0;Ye<=161;Ye++)ee(ce[Ye])}(),he(65498),he(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var B=0,U=0,K=0;j=0,x=7,this.encode.displayName="_encode_";for(var ie,oe,O,ge,we,_e,Ce,Be,de,M=L.data,qe=L.width,Oe=L.height,ke=4*qe,Se=0;Se<Oe;){for(ie=0;ie<ke;){for(we=ke*Se+ie,Ce=-1,Be=0,de=0;de<64;de++)_e=we+(Be=de>>3)*ke+(Ce=4*(7&de)),Se+Be>=Oe&&(_e-=ke*(Se+1+Be-Oe)),ie+Ce>=ke&&(_e-=ie+Ce-ke+4),oe=M[_e++],O=M[_e++],ge=M[_e++],F[de]=(ue[oe]+ue[O+256>>0]+ue[ge+512>>0]>>16)-128,R[de]=(ue[oe+768>>0]+ue[O+1024>>0]+ue[ge+1280>>0]>>16)-128,G[de]=(ue[oe+1280>>0]+ue[O+1536>>0]+ue[ge+1792>>0]>>16)-128;B=ve(F,h,B,e,n),U=ve(R,g,U,r,o),K=ve(G,g,K,r,o),ie+=32}Se+=8}if(x>=0){var Fe=[];Fe[1]=x+1,Fe[0]=(1<<x+1)-1,fe(Fe)}return he(65497),new Uint8Array(P)},t=t||50,function(){for(var L=String.fromCharCode,I=0;I<256;I++)te[I]=L(I)}(),e=le(z,ae),r=le(E,H),n=le(pe,C),o=le(q,ce),function(){for(var L=1,I=2,B=1;B<=15;B++){for(var U=L;U<I;U++)b[32767+U]=B,v[32767+U]=[],v[32767+U][1]=B,v[32767+U][0]=U;for(var K=-(I-1);K<=-L;K++)b[32767+K]=B,v[32767+K]=[],v[32767+K][1]=B,v[32767+K][0]=I-1+K;L<<=1,I<<=1}}(),function(){for(var L=0;L<256;L++)ue[L]=19595*L,ue[L+256>>0]=38470*L,ue[L+512>>0]=7471*L+32768,ue[L+768>>0]=-11059*L,ue[L+1024>>0]=-21709*L,ue[L+1280>>0]=32768*L+8421375,ue[L+1536>>0]=-27439*L,ue[L+1792>>0]=-5329*L}(),Pe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Vr(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function pc(t){function e(z){if(!z)throw Error("assert :P")}function r(z,ae,pe){for(var C=0;4>C;C++)if(z[ae+C]!=pe.charCodeAt(C))return!0;return!1}function n(z,ae,pe,C,E){for(var H=0;H<E;H++)z[ae+H]=pe[C+H]}function o(z,ae,pe,C){for(var E=0;E<C;E++)z[ae+E]=pe}function i(z){return new Int32Array(z)}function s(z,ae){for(var pe=[],C=0;C<z;C++)pe.push(new ae);return pe}function u(z,ae){var pe=[];return function C(E,H,q){for(var ce=q[H],le=0;le<ce&&(E.push(q.length>H+1?[]:new ae),!(q.length<H+1));le++)C(E[le],H+1,q)}(pe,0,z),pe}var c=function(){var z=this;function ae(a,l){for(var d=1<<l-1>>>0;a&d;)d>>>=1;return d?(a&d-1)+d:a}function pe(a,l,d,m,y){e(!(m%d));do a[l+(m-=d)]=y;while(0<m)}function C(a,l,d,m,y){if(e(2328>=y),512>=y)var N=i(512);else if((N=i(y))==null)return 0;return function(S,k,_,D,$,re){var ne,X,Ne=k,me=1<<_,V=i(16),Y=i(16);for(e($!=0),e(D!=null),e(S!=null),e(0<_),X=0;X<$;++X){if(15<D[X])return 0;++V[D[X]]}if(V[0]==$)return 0;for(Y[1]=0,ne=1;15>ne;++ne){if(V[ne]>1<<ne)return 0;Y[ne+1]=Y[ne]+V[ne]}for(X=0;X<$;++X)ne=D[X],0<D[X]&&(re[Y[ne]++]=X);if(Y[15]==1)return(D=new E).g=0,D.value=re[0],pe(S,Ne,1,me,D),me;var ye,Ae=-1,xe=me-1,Re=0,je=1,He=1,Ie=1<<_;for(X=0,ne=1,$=2;ne<=_;++ne,$<<=1){if(je+=He<<=1,0>(He-=V[ne]))return 0;for(;0<V[ne];--V[ne])(D=new E).g=ne,D.value=re[X++],pe(S,Ne+Re,$,Ie,D),Re=ae(Re,ne)}for(ne=_+1,$=2;15>=ne;++ne,$<<=1){if(je+=He<<=1,0>(He-=V[ne]))return 0;for(;0<V[ne];--V[ne]){if(D=new E,(Re&xe)!=Ae){for(Ne+=Ie,ye=1<<(Ae=ne)-_;15>Ae&&!(0>=(ye-=V[Ae]));)++Ae,ye<<=1;me+=Ie=1<<(ye=Ae-_),S[k+(Ae=Re&xe)].g=ye+_,S[k+Ae].value=Ne-k-Ae}D.g=ne-_,D.value=re[X++],pe(S,Ne+(Re>>_),$,Ie,D),Re=ae(Re,ne)}}return je!=2*Y[15]-1?0:me}(a,l,d,m,y,N)}function E(){this.value=this.g=0}function H(){this.value=this.g=0}function q(){this.G=s(5,E),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Kt,H)}function ce(a,l,d,m){e(a!=null),e(l!=null),e(2147483648>m),a.Ca=254,a.I=0,a.b=-8,a.Ka=0,a.oa=l,a.pa=d,a.Jd=l,a.Yc=d+m,a.Zc=4<=m?d+m-4+1:d,ie(a)}function le(a,l){for(var d=0;0<l--;)d|=O(a,128)<<l;return d}function fe(a,l){var d=le(a,l);return oe(a)?-d:d}function ee(a,l,d,m){var y,N=0;for(e(a!=null),e(l!=null),e(4294967288>m),a.Sb=m,a.Ra=0,a.u=0,a.h=0,4<m&&(m=4),y=0;y<m;++y)N+=l[d+y]<<8*y;a.Ra=N,a.bb=m,a.oa=l,a.pa=d}function he(a){for(;8<=a.u&&a.bb<a.Sb;)a.Ra>>>=8,a.Ra+=a.oa[a.pa+a.bb]<<Ki-8>>>0,++a.bb,a.u-=8;B(a)&&(a.h=1,a.u=0)}function ve(a,l){if(e(0<=l),!a.h&&l<=Ji){var d=I(a)&Yi[l];return a.u+=l,he(a),d}return a.h=1,a.u=0}function Pe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function I(a){return a.Ra>>>(a.u&Ki-1)>>>0}function B(a){return e(a.bb<=a.Sb),a.h||a.bb==a.Sb&&a.u>Ki}function U(a,l){a.u=l,a.h=B(a)}function K(a){a.u>=Ta&&(e(a.u>=Ta),he(a))}function ie(a){e(a!=null&&a.oa!=null),a.pa<a.Zc?(a.I=(a.oa[a.pa++]|a.I<<8)>>>0,a.b+=8):(e(a!=null&&a.oa!=null),a.pa<a.Yc?(a.b+=8,a.I=a.oa[a.pa++]|a.I<<8):a.Ka?a.b=0:(a.I<<=8,a.b+=8,a.Ka=1))}function oe(a){return le(a,1)}function O(a,l){var d=a.Ca;0>a.b&&ie(a);var m=a.b,y=d*l>>>8,N=(a.I>>>m>y)+0;for(N?(d-=y,a.I-=y+1<<m>>>0):d=y+1,m=d,y=0;256<=m;)y+=8,m>>=8;return m=7^y+hr[m],a.b-=m,a.Ca=(d<<m)-1,N}function ge(a,l,d){a[l+0]=d>>24&255,a[l+1]=d>>16&255,a[l+2]=d>>8&255,a[l+3]=d>>0&255}function we(a,l){return a[l+0]<<0|a[l+1]<<8}function _e(a,l){return we(a,l)|a[l+2]<<16}function Ce(a,l){return we(a,l)|we(a,l+2)<<16}function Be(a,l){var d=1<<l;return e(a!=null),e(0<l),a.X=i(d),a.X==null?0:(a.Mb=32-l,a.Xa=l,1)}function de(a,l){e(a!=null),e(l!=null),e(a.Xa==l.Xa),n(l.X,0,a.X,0,1<<l.Xa)}function M(){this.X=[],this.Xa=this.Mb=0}function qe(a,l,d,m){e(d!=null),e(m!=null);var y=d[0],N=m[0];return y==0&&(y=(a*N+l/2)/l),N==0&&(N=(l*y+a/2)/a),0>=y||0>=N?0:(d[0]=y,m[0]=N,1)}function Oe(a,l){return a+(1<<l)-1>>>l}function ke(a,l){return((4278255360&a)+(4278255360&l)>>>0&4278255360)+((16711935&a)+(16711935&l)>>>0&16711935)>>>0}function Se(a,l){z[l]=function(d,m,y,N,S,k,_){var D;for(D=0;D<S;++D){var $=z[a](k[_+D-1],y,N+D);k[_+D]=ke(d[m+D],$)}}}function Fe(){this.ud=this.hd=this.jd=0}function Ee(a,l){return((4278124286&(a^l))>>>1)+(a&l)>>>0}function ze(a){return 0<=a&&256>a?a:0>a?0:255<a?255:void 0}function Je(a,l){return ze(a+(a-l+.5>>1))}function Ge(a,l,d){return Math.abs(l-d)-Math.abs(a-d)}function nt(a,l,d,m,y,N,S){for(m=N[S-1],d=0;d<y;++d)N[S+d]=m=ke(a[l+d],m)}function st(a,l,d,m,y){var N;for(N=0;N<d;++N){var S=a[l+N],k=S>>8&255,_=16711935&(_=(_=16711935&S)+((k<<16)+k));m[y+N]=(4278255360&S)+_>>>0}}function mt(a,l){l.jd=a>>0&255,l.hd=a>>8&255,l.ud=a>>16&255}function Ye(a,l,d,m,y,N){var S;for(S=0;S<m;++S){var k=l[d+S],_=k>>>8,D=k,$=255&($=($=k>>>16)+((a.jd<<24>>24)*(_<<24>>24)>>>5));D=255&(D=(D=D+((a.hd<<24>>24)*(_<<24>>24)>>>5))+((a.ud<<24>>24)*($<<24>>24)>>>5)),y[N+S]=(4278255360&k)+($<<16)+D}}function it(a,l,d,m,y){z[l]=function(N,S,k,_,D,$,re,ne,X){for(_=re;_<ne;++_)for(re=0;re<X;++re)D[$++]=y(k[m(N[S++])])},z[a]=function(N,S,k,_,D,$,re){var ne=8>>N.b,X=N.Ea,Ne=N.K[0],me=N.w;if(8>ne)for(N=(1<<N.b)-1,me=(1<<ne)-1;S<k;++S){var V,Y=0;for(V=0;V<X;++V)V&N||(Y=m(_[D++])),$[re++]=y(Ne[Y&me]),Y>>=ne}else z["VP8LMapColor"+d](_,D,Ne,me,$,re,S,k,X)}}function De(a,l,d,m,y){for(d=l+d;l<d;){var N=a[l++];m[y++]=N>>16&255,m[y++]=N>>8&255,m[y++]=N>>0&255}}function Zt(a,l,d,m,y){for(d=l+d;l<d;){var N=a[l++];m[y++]=N>>16&255,m[y++]=N>>8&255,m[y++]=N>>0&255,m[y++]=N>>24&255}}function ut(a,l,d,m,y){for(d=l+d;l<d;){var N=(S=a[l++])>>16&240|S>>12&15,S=S>>0&240|S>>28&15;m[y++]=N,m[y++]=S}}function Dr(a,l,d,m,y){for(d=l+d;l<d;){var N=(S=a[l++])>>16&248|S>>13&7,S=S>>5&224|S>>3&31;m[y++]=N,m[y++]=S}}function bt(a,l,d,m,y){for(d=l+d;l<d;){var N=a[l++];m[y++]=N>>0&255,m[y++]=N>>8&255,m[y++]=N>>16&255}}function Lt(a,l,d,m,y,N){if(N==0)for(d=l+d;l<d;)ge(m,((N=a[l++])[0]>>24|N[1]>>8&65280|N[2]<<8&16711680|N[3]<<24)>>>0),y+=32;else n(m,y,a,l,d)}function Xr(a,l){z[l][0]=z[a+"0"],z[l][1]=z[a+"1"],z[l][2]=z[a+"2"],z[l][3]=z[a+"3"],z[l][4]=z[a+"4"],z[l][5]=z[a+"5"],z[l][6]=z[a+"6"],z[l][7]=z[a+"7"],z[l][8]=z[a+"8"],z[l][9]=z[a+"9"],z[l][10]=z[a+"10"],z[l][11]=z[a+"11"],z[l][12]=z[a+"12"],z[l][13]=z[a+"13"],z[l][14]=z[a+"0"],z[l][15]=z[a+"0"]}function ft(a){return a==tl||a==rl||a==Ro||a==nl}function oi(){this.eb=[],this.size=this.A=this.fb=0}function kt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Tr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new oi,this.f.kb=new kt,this.sd=null}function mn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function _t(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Xe(a){return alert("todo:WebPSamplerProcessPlane"),a.T}function ht(a,l){var d=a.T,m=l.ba.f.RGBA,y=m.eb,N=m.fb+a.ka*m.A,S=Fr[l.ba.S],k=a.y,_=a.O,D=a.f,$=a.N,re=a.ea,ne=a.W,X=l.cc,Ne=l.dc,me=l.Mc,V=l.Nc,Y=a.ka,ye=a.ka+a.T,Ae=a.U,xe=Ae+1>>1;for(Y==0?S(k,_,null,null,D,$,re,ne,D,$,re,ne,y,N,null,null,Ae):(S(l.ec,l.fc,k,_,X,Ne,me,V,D,$,re,ne,y,N-m.A,y,N,Ae),++d);Y+2<ye;Y+=2)X=D,Ne=$,me=re,V=ne,$+=a.Rc,ne+=a.Rc,N+=2*m.A,S(k,(_+=2*a.fa)-a.fa,k,_,X,Ne,me,V,D,$,re,ne,y,N-m.A,y,N,Ae);return _+=a.fa,a.j+ye<a.o?(n(l.ec,l.fc,k,_,Ae),n(l.cc,l.dc,D,$,xe),n(l.Mc,l.Nc,re,ne,xe),d--):1&ye||S(k,_,null,null,D,$,re,ne,D,$,re,ne,y,N+m.A,null,null,Ae),d}function si(a,l,d){var m=a.F,y=[a.J];if(m!=null){var N=a.U,S=l.ba.S,k=S==To||S==Ro;l=l.ba.f.RGBA;var _=[0],D=a.ka;_[0]=a.T,a.Kb&&(D==0?--_[0]:(--D,y[0]-=a.width),a.j+a.ka+a.T==a.o&&(_[0]=a.o-a.j-D));var $=l.eb;D=l.fb+D*l.A,a=St(m,y[0],a.width,N,_,$,D+(k?0:3),l.A),e(d==_),a&&ft(S)&&_r($,D,k,N,_,l.A)}return 0}function Jt(a){var l=a.ma,d=l.ba.S,m=11>d,y=d==Io||d==Do||d==To||d==el||d==12||ft(d);if(l.memory=null,l.Ib=null,l.Jb=null,l.Nd=null,!Ia(l.Oa,a,y?11:12))return 0;if(y&&ft(d)&&Le(),a.da)alert("todo:use_scaling");else{if(m){if(l.Ib=Xe,a.Kb){if(d=a.U+1>>1,l.memory=i(a.U+2*d),l.memory==null)return 0;l.ec=l.memory,l.fc=0,l.cc=l.ec,l.dc=l.fc+a.U,l.Mc=l.cc,l.Nc=l.dc+d,l.Ib=ht,Le()}}else alert("todo:EmitYUV");y&&(l.Jb=si,m&&Q())}if(m&&!ku){for(a=0;256>a;++a)Sh[a]=89858*(a-128)+Mo>>Oo,Ph[a]=-22014*(a-128)+Mo,Lh[a]=-45773*(a-128),Ah[a]=113618*(a-128)+Mo>>Oo;for(a=Ua;a<ol;++a)l=76283*(a-16)+Mo>>Oo,kh[a-Ua]=yr(l,255),_h[a-Ua]=yr(l+8>>4,15);ku=1}return 1}function Zr(a){var l=a.ma,d=a.U,m=a.T;return e(!(1&a.ka)),0>=d||0>=m?0:(d=l.Ib(a,l),l.Jb!=null&&l.Jb(a,l,d),l.Dc+=d,1)}function Qr(a){a.ma.memory=null}function $e(a,l,d,m){return ve(a,8)!=47?0:(l[0]=ve(a,14)+1,d[0]=ve(a,14)+1,m[0]=ve(a,1),ve(a,3)!=0?0:!a.h)}function Rr(a,l){if(4>a)return a+1;var d=a-2>>1;return(2+(1&a)<<d)+ve(l,d)+1}function en(a,l){return 120<l?l-120:1<=(d=((d=uh[l-1])>>4)*a+(8-(15&d)))?d:1;var d}function cr(a,l,d){var m=I(d),y=a[l+=255&m].g-8;return 0<y&&(U(d,d.u+8),m=I(d),l+=a[l].value,l+=m&(1<<y)-1),U(d,d.u+a[l].g),a[l].value}function Ht(a,l,d){return d.g+=a.g,d.value+=a.value<<l>>>0,e(8>=d.g),a.g}function Bt(a,l,d){var m=a.xc;return e((l=m==0?0:a.vc[a.md*(d>>m)+(l>>m)])<a.Wb),a.Ya[l]}function br(a,l,d,m){var y=a.ab,N=a.c*l,S=a.C;l=S+l;var k=d,_=m;for(m=a.Ta,d=a.Ua;0<y--;){var D=a.gc[y],$=S,re=l,ne=k,X=_,Ne=(_=m,k=d,D.Ea);switch(e($<re),e(re<=D.nc),D.hc){case 2:Po(ne,X,(re-$)*Ne,_,k);break;case 0:var me=$,V=re,Y=_,ye=k,Ae=(Ie=D).Ea;me==0&&(Zs(ne,X,null,null,1,Y,ye),nt(ne,X+1,0,0,Ae-1,Y,ye+1),X+=Ae,ye+=Ae,++me);for(var xe=1<<Ie.b,Re=xe-1,je=Oe(Ae,Ie.b),He=Ie.K,Ie=Ie.w+(me>>Ie.b)*je;me<V;){var ct=He,dt=Ie,lt=1;for(Ra(ne,X,Y,ye-Ae,1,Y,ye);lt<Ae;){var at=(lt&~Re)+xe;at>Ae&&(at=Ae),(0,qn[ct[dt++]>>8&15])(ne,X+ +lt,Y,ye+lt-Ae,at-lt,Y,ye+lt),lt=at}X+=Ae,ye+=Ae,++me&Re||(Ie+=je)}re!=D.nc&&n(_,k-Ne,_,k+(re-$-1)*Ne,Ne);break;case 1:for(Ne=ne,V=X,Ae=(ne=D.Ea)-(ye=ne&~(Y=(X=1<<D.b)-1)),me=Oe(ne,D.b),xe=D.K,D=D.w+($>>D.b)*me;$<re;){for(Re=xe,je=D,He=new Fe,Ie=V+ye,ct=V+ne;V<Ie;)mt(Re[je++],He),di(He,Ne,V,X,_,k),V+=X,k+=X;V<ct&&(mt(Re[je++],He),di(He,Ne,V,Ae,_,k),V+=Ae,k+=Ae),++$&Y||(D+=me)}break;case 3:if(ne==_&&X==k&&0<D.b){for(V=_,ne=Ne=k+(re-$)*Ne-(ye=(re-$)*Oe(D.Ea,D.b)),X=_,Y=k,me=[],ye=(Ae=ye)-1;0<=ye;--ye)me[ye]=X[Y+ye];for(ye=Ae-1;0<=ye;--ye)V[ne+ye]=me[ye];Lr(D,$,re,_,Ne,_,k)}else Lr(D,$,re,ne,X,_,k)}k=m,_=d}_!=d&&n(m,d,k,_,N)}function ji(a,l){var d=a.V,m=a.Ba+a.c*a.C,y=l-a.C;if(e(l<=a.l.o),e(16>=y),0<y){var N=a.l,S=a.Ta,k=a.Ua,_=N.width;if(br(a,y,d,m),y=k=[k],e((d=a.C)<(m=l)),e(N.v<N.va),m>N.o&&(m=N.o),d<N.j){var D=N.j-d;d=N.j,y[0]+=D*_}if(d>=m?d=0:(y[0]+=4*N.v,N.ka=d-N.j,N.U=N.va-N.v,N.T=m-d,d=1),d){if(k=k[0],11>(d=a.ca).S){var $=d.f.RGBA,re=(m=d.S,y=N.U,N=N.T,D=$.eb,$.A),ne=N;for($=$.fb+a.Ma*$.A;0<ne--;){var X=S,Ne=k,me=y,V=D,Y=$;switch(m){case Eo:dr(X,Ne,me,V,Y);break;case Io:sr(X,Ne,me,V,Y);break;case tl:sr(X,Ne,me,V,Y),_r(V,Y,0,me,1,0);break;case bu:xn(X,Ne,me,V,Y);break;case Do:Lt(X,Ne,me,V,Y,1);break;case rl:Lt(X,Ne,me,V,Y,1),_r(V,Y,0,me,1,0);break;case To:Lt(X,Ne,me,V,Y,0);break;case Ro:Lt(X,Ne,me,V,Y,0),_r(V,Y,1,me,1,0);break;case el:zn(X,Ne,me,V,Y);break;case nl:zn(X,Ne,me,V,Y),Nt(V,Y,me,1,0);break;case yu:wn(X,Ne,me,V,Y);break;default:e(0)}k+=_,$+=re}a.Ma+=N}else alert("todo:EmitRescaledRowsYUVA");e(a.Ma<=d.height)}}a.C=l,e(a.C<=a.i)}function vn(a){var l;if(0<a.ua)return 0;for(l=0;l<a.Wb;++l){var d=a.Ya[l].G,m=a.Ya[l].H;if(0<d[1][m[1]+0].g||0<d[2][m[2]+0].g||0<d[3][m[3]+0].g)return 0}return 1}function Or(a,l,d,m,y,N){if(a.Z!=0){var S=a.qd,k=a.rd;for(e($n[a.Z]!=null);l<d;++l)$n[a.Z](S,k,m,y,m,y,N),S=m,k=y,y+=N;a.qd=S,a.rd=k}}function Mr(a,l){var d=a.l.ma,m=d.Z==0||d.Z==1?a.l.j:a.C;if(m=a.C<m?m:a.C,e(l<=a.l.o),l>m){var y=a.l.width,N=d.ca,S=d.tb+y*m,k=a.V,_=a.Ba+a.c*m,D=a.gc;e(a.ab==1),e(D[0].hc==3),ko(D[0],m,l,k,_,N,S),Or(d,m,l,N,S,y)}a.C=a.Ma=l}function Br(a,l,d,m,y,N,S){var k=a.$/m,_=a.$%m,D=a.m,$=a.s,re=d+a.$,ne=re;y=d+m*y;var X=d+m*N,Ne=280+$.ua,me=a.Pb?k:16777216,V=0<$.ua?$.Wa:null,Y=$.wc,ye=re<X?Bt($,_,k):null;e(a.C<N),e(X<=y);var Ae=!1;e:for(;;){for(;Ae||re<X;){var xe=0;if(k>=me){var Re=re-d;e((me=a).Pb),me.wd=me.m,me.xd=Re,0<me.s.ua&&de(me.s.Wa,me.s.vb),me=k+fh}if(_&Y||(ye=Bt($,_,k)),e(ye!=null),ye.Qb&&(l[re]=ye.qb,Ae=!0),!Ae)if(K(D),ye.jc){xe=D,Re=l;var je=re,He=ye.pd[I(xe)&Kt-1];e(ye.jc),256>He.g?(U(xe,xe.u+He.g),Re[je]=He.value,xe=0):(U(xe,xe.u+He.g-256),e(256<=He.value),xe=He.value),xe==0&&(Ae=!0)}else xe=cr(ye.G[0],ye.H[0],D);if(D.h)break;if(Ae||256>xe){if(!Ae)if(ye.nd)l[re]=(ye.qb|xe<<8)>>>0;else{if(K(D),Ae=cr(ye.G[1],ye.H[1],D),K(D),Re=cr(ye.G[2],ye.H[2],D),je=cr(ye.G[3],ye.H[3],D),D.h)break;l[re]=(je<<24|Ae<<16|xe<<8|Re)>>>0}if(Ae=!1,++re,++_>=m&&(_=0,++k,S!=null&&k<=N&&!(k%16)&&S(a,k),V!=null))for(;ne<re;)xe=l[ne++],V.X[(506832829*xe&4294967295)>>>V.Mb]=xe}else if(280>xe){if(xe=Rr(xe-256,D),Re=cr(ye.G[4],ye.H[4],D),K(D),Re=en(m,Re=Rr(Re,D)),D.h)break;if(re-d<Re||y-re<xe)break e;for(je=0;je<xe;++je)l[re+je]=l[re+je-Re];for(re+=xe,_+=xe;_>=m;)_-=m,++k,S!=null&&k<=N&&!(k%16)&&S(a,k);if(e(re<=y),_&Y&&(ye=Bt($,_,k)),V!=null)for(;ne<re;)xe=l[ne++],V.X[(506832829*xe&4294967295)>>>V.Mb]=xe}else{if(!(xe<Ne))break e;for(Ae=xe-280,e(V!=null);ne<re;)xe=l[ne++],V.X[(506832829*xe&4294967295)>>>V.Mb]=xe;xe=re,e(!(Ae>>>(Re=V).Xa)),l[xe]=Re.X[Ae],Ae=!0}Ae||e(D.h==B(D))}if(a.Pb&&D.h&&re<y)e(a.m.h),a.a=5,a.m=a.wd,a.$=a.xd,0<a.s.ua&&de(a.s.vb,a.s.Wa);else{if(D.h)break e;S?.(a,k>N?N:k),a.a=0,a.$=re-d}return 1}return a.a=3,0}function tn(a){e(a!=null),a.vc=null,a.yc=null,a.Ya=null;var l=a.Wa;l!=null&&(l.X=null),a.vb=null,e(a!=null)}function Ar(){var a=new Xs;return a==null?null:(a.a=0,a.xb=Nu,Xr("Predictor","VP8LPredictors"),Xr("Predictor","VP8LPredictors_C"),Xr("PredictorAdd","VP8LPredictorsAdd"),Xr("PredictorAdd","VP8LPredictorsAdd_C"),Po=st,di=Ye,dr=De,sr=Zt,zn=ut,wn=Dr,xn=bt,z.VP8LMapColor32b=Xi,z.VP8LMapColor8b=_o,a)}function rn(a,l,d,m,y){var N=1,S=[a],k=[l],_=m.m,D=m.s,$=null,re=0;e:for(;;){if(d)for(;N&&ve(_,1);){var ne=S,X=k,Ne=m,me=1,V=Ne.m,Y=Ne.gc[Ne.ab],ye=ve(V,2);if(Ne.Oc&1<<ye)N=0;else{switch(Ne.Oc|=1<<ye,Y.hc=ye,Y.Ea=ne[0],Y.nc=X[0],Y.K=[null],++Ne.ab,e(4>=Ne.ab),ye){case 0:case 1:Y.b=ve(V,3)+2,me=rn(Oe(Y.Ea,Y.b),Oe(Y.nc,Y.b),0,Ne,Y.K),Y.K=Y.K[0];break;case 3:var Ae,xe=ve(V,8)+1,Re=16<xe?0:4<xe?1:2<xe?2:3;if(ne[0]=Oe(Y.Ea,Re),Y.b=Re,Ae=me=rn(xe,1,0,Ne,Y.K)){var je,He=xe,Ie=Y,ct=1<<(8>>Ie.b),dt=i(ct);if(dt==null)Ae=0;else{var lt=Ie.K[0],at=Ie.w;for(dt[0]=Ie.K[0][0],je=1;je<1*He;++je)dt[je]=ke(lt[at+je],dt[je-1]);for(;je<4*ct;++je)dt[je]=0;Ie.K[0]=null,Ie.K[0]=dt,Ae=1}}me=Ae;break;case 2:break;default:e(0)}N=me}}if(S=S[0],k=k[0],N&&ve(_,1)&&!(N=1<=(re=ve(_,4))&&11>=re)){m.a=3;break e}var yt;if(yt=N)t:{var vt,rt,zt,pr=m,Ut=S,gr=k,pt=re,xr=d,Nr=pr.m,Vt=pr.s,Xt=[null],ur=1,jr=0,sn=ch[pt];r:for(;;){if(xr&&ve(Nr,1)){var Gt=ve(Nr,3)+2,Ln=Oe(Ut,Gt),bi=Oe(gr,Gt),ra=Ln*bi;if(!rn(Ln,bi,0,pr,Xt))break r;for(Xt=Xt[0],Vt.xc=Gt,vt=0;vt<ra;++vt){var Vn=Xt[vt]>>8&65535;Xt[vt]=Vn,Vn>=ur&&(ur=Vn+1)}}if(Nr.h)break r;for(rt=0;5>rt;++rt){var Ft=wu[rt];!rt&&0<pt&&(Ft+=1<<pt),jr<Ft&&(jr=Ft)}var sl=s(ur*sn,E),Fu=ur,ju=s(Fu,q);if(ju==null)var qo=null;else e(65536>=Fu),qo=ju;var Ha=i(jr);if(qo==null||Ha==null||sl==null){pr.a=1;break r}var zo=sl;for(vt=zt=0;vt<ur;++vt){var Wr=qo[vt],na=Wr.G,ia=Wr.H,Eu=0,Uo=1,Iu=0;for(rt=0;5>rt;++rt){Ft=wu[rt],na[rt]=zo,ia[rt]=zt,!rt&&0<pt&&(Ft+=1<<pt);i:{var Ho,ll=Ft,Wo=pr,Wa=Ha,jh=zo,Eh=zt,ul=0,Gn=Wo.m,Ih=ve(Gn,1);if(o(Wa,0,0,ll),Ih){var Dh=ve(Gn,1)+1,Th=ve(Gn,1),Du=ve(Gn,Th==0?1:8);Wa[Du]=1,Dh==2&&(Wa[Du=ve(Gn,8)]=1);var $o=1}else{var Tu=i(19),Ru=ve(Gn,4)+4;if(19<Ru){Wo.a=3;var Vo=0;break i}for(Ho=0;Ho<Ru;++Ho)Tu[lh[Ho]]=ve(Gn,3);var cl=void 0,$a=void 0,Ou=Wo,Rh=Tu,Go=ll,Mu=Wa,fl=0,Yn=Ou.m,Bu=8,qu=s(128,E);n:for(;C(qu,0,7,Rh,19);){if(ve(Yn,1)){var Oh=2+2*ve(Yn,3);if((cl=2+ve(Yn,Oh))>Go)break n}else cl=Go;for($a=0;$a<Go&&cl--;){K(Yn);var zu=qu[0+(127&I(Yn))];U(Yn,Yn.u+zu.g);var aa=zu.value;if(16>aa)Mu[$a++]=aa,aa!=0&&(Bu=aa);else{var Mh=aa==16,Uu=aa-16,Bh=oh[Uu],Hu=ve(Yn,ah[Uu])+Bh;if($a+Hu>Go)break n;for(var qh=Mh?Bu:0;0<Hu--;)Mu[$a++]=qh}}fl=1;break n}fl||(Ou.a=3),$o=fl}($o=$o&&!Gn.h)&&(ul=C(jh,Eh,8,Wa,ll)),$o&&ul!=0?Vo=ul:(Wo.a=3,Vo=0)}if(Vo==0)break r;if(Uo&&sh[rt]==1&&(Uo=zo[zt].g==0),Eu+=zo[zt].g,zt+=Vo,3>=rt){var Va,hl=Ha[0];for(Va=1;Va<Ft;++Va)Ha[Va]>hl&&(hl=Ha[Va]);Iu+=hl}}if(Wr.nd=Uo,Wr.Qb=0,Uo&&(Wr.qb=(na[3][ia[3]+0].value<<24|na[1][ia[1]+0].value<<16|na[2][ia[2]+0].value)>>>0,Eu==0&&256>na[0][ia[0]+0].value&&(Wr.Qb=1,Wr.qb+=na[0][ia[0]+0].value<<8)),Wr.jc=!Wr.Qb&&6>Iu,Wr.jc){var Yo,Pn=Wr;for(Yo=0;Yo<Kt;++Yo){var Jn=Yo,Kn=Pn.pd[Jn],Jo=Pn.G[0][Pn.H[0]+Jn];256<=Jo.value?(Kn.g=Jo.g+256,Kn.value=Jo.value):(Kn.g=0,Kn.value=0,Jn>>=Ht(Jo,8,Kn),Jn>>=Ht(Pn.G[1][Pn.H[1]+Jn],16,Kn),Jn>>=Ht(Pn.G[2][Pn.H[2]+Jn],0,Kn),Ht(Pn.G[3][Pn.H[3]+Jn],24,Kn))}}}Vt.vc=Xt,Vt.Wb=ur,Vt.Ya=qo,Vt.yc=sl,yt=1;break t}yt=0}if(!(N=yt)){m.a=3;break e}if(0<re){if(D.ua=1<<re,!Be(D.Wa,re)){m.a=1,N=0;break e}}else D.ua=0;var dl=m,Wu=S,zh=k,pl=dl.s,gl=pl.xc;if(dl.c=Wu,dl.i=zh,pl.md=Oe(Wu,gl),pl.wc=gl==0?-1:(1<<gl)-1,d){m.xb=bh;break e}if(($=i(S*k))==null){m.a=1,N=0;break e}N=(N=Br(m,$,0,S,k,k,null))&&!_.h;break e}return N?(y!=null?y[0]=$:(e($==null),e(d)),m.$=0,d||tn(D)):tn(D),N}function li(a,l){var d=a.c*a.i,m=d+l+16*l;return e(a.c<=l),a.V=i(m),a.V==null?(a.Ta=null,a.Ua=0,a.a=1,0):(a.Ta=a.V,a.Ua=a.Ba+d+l,1)}function Ei(a,l){var d=a.C,m=l-d,y=a.V,N=a.Ba+a.c*d;for(e(l<=a.l.o);0<m;){var S=16<m?16:m,k=a.l.ma,_=a.l.width,D=_*S,$=k.ca,re=k.tb+_*d,ne=a.Ta,X=a.Ua;br(a,S,y,N),Dt(ne,X,$,re,D),Or(k,d,d+S,$,re,_),m-=S,y+=S*a.c,d+=S}e(d==l),a.C=a.Ma=l}function Ii(){this.ub=this.yd=this.td=this.Rb=0}function Di(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ti(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function ao(){this.Yb=function(){var a=[];return function l(d,m,y){for(var N=y[m],S=0;S<N&&(d.push(y.length>m+1?[]:0),!(y.length<m+1));S++)l(d[S],m+1,y)}(a,0,[3,11]),a}()}function _s(){this.jb=i(3),this.Wc=u([4,8],ao),this.Xc=u([4,17],ao)}function Cs(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ri(){this.ld=this.La=this.dd=this.tc=0}function oo(){this.Na=this.la=0}function Fs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function va(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function js(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ri),this.Y=0,this.ya=Array(new va),this.aa=0,this.l=new Oi}function so(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Es(){this.cb=this.a=0,this.sc="",this.m=new Pe,this.Od=new Ii,this.Kc=new Di,this.ed=new Cs,this.Qa=new Ti,this.Ic=this.$c=this.Aa=0,this.D=new js,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,Pe),this.ia=0,this.pb=s(4,Fs),this.Pa=new _s,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new so),this.Hd=0,this.rb=Array(new oo),this.sb=0,this.wa=Array(new Ri),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new va),this.L=this.aa=0,this.gd=u([4,2],Ri),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Oi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Is(){var a=new Es;return a!=null&&(a.a=0,a.sc="OK",a.cb=0,a.Xb=0,za||(za=co)),a}function Et(a,l,d){return a.a==0&&(a.a=l,a.sc=d,a.cb=0),0}function lo(a,l,d){return 3<=d&&a[l+0]==157&&a[l+1]==1&&a[l+2]==42}function uo(a,l){if(a==null)return 0;if(a.a=0,a.sc="OK",l==null)return Et(a,2,"null VP8Io passed to VP8GetHeaders()");var d=l.data,m=l.w,y=l.ha;if(4>y)return Et(a,7,"Truncated header.");var N=d[m+0]|d[m+1]<<8|d[m+2]<<16,S=a.Od;if(S.Rb=!(1&N),S.td=N>>1&7,S.yd=N>>4&1,S.ub=N>>5,3<S.td)return Et(a,3,"Incorrect keyframe parameters.");if(!S.yd)return Et(a,4,"Frame not displayable.");m+=3,y-=3;var k=a.Kc;if(S.Rb){if(7>y)return Et(a,7,"cannot parse picture header");if(!lo(d,m,y))return Et(a,3,"Bad code word");k.c=16383&(d[m+4]<<8|d[m+3]),k.Td=d[m+4]>>6,k.i=16383&(d[m+6]<<8|d[m+5]),k.Ud=d[m+6]>>6,m+=7,y-=7,a.za=k.c+15>>4,a.Ub=k.i+15>>4,l.width=k.c,l.height=k.i,l.Da=0,l.j=0,l.v=0,l.va=l.width,l.o=l.height,l.da=0,l.ib=l.width,l.hb=l.height,l.U=l.width,l.T=l.height,o((N=a.Pa).jb,0,255,N.jb.length),e((N=a.Qa)!=null),N.Cb=0,N.Bb=0,N.Fb=1,o(N.Zb,0,0,N.Zb.length),o(N.Lb,0,0,N.Lb)}if(S.ub>y)return Et(a,7,"bad partition length");ce(N=a.m,d,m,S.ub),m+=S.ub,y-=S.ub,S.Rb&&(k.Ld=oe(N),k.Kd=oe(N)),k=a.Qa;var _,D=a.Pa;if(e(N!=null),e(k!=null),k.Cb=oe(N),k.Cb){if(k.Bb=oe(N),oe(N)){for(k.Fb=oe(N),_=0;4>_;++_)k.Zb[_]=oe(N)?fe(N,7):0;for(_=0;4>_;++_)k.Lb[_]=oe(N)?fe(N,6):0}if(k.Bb)for(_=0;3>_;++_)D.jb[_]=oe(N)?le(N,8):255}else k.Bb=0;if(N.Ka)return Et(a,3,"cannot parse segment header");if((k=a.ed).zd=oe(N),k.Tb=le(N,6),k.wb=le(N,3),k.Pc=oe(N),k.Pc&&oe(N)){for(D=0;4>D;++D)oe(N)&&(k.vd[D]=fe(N,6));for(D=0;4>D;++D)oe(N)&&(k.od[D]=fe(N,6))}if(a.L=k.Tb==0?0:k.zd?1:2,N.Ka)return Et(a,3,"cannot parse filter header");var $=y;if(y=_=m,m=_+$,k=$,a.Xb=(1<<le(a.m,2))-1,$<3*(D=a.Xb))d=7;else{for(_+=3*D,k-=3*D,$=0;$<D;++$){var re=d[y+0]|d[y+1]<<8|d[y+2]<<16;re>k&&(re=k),ce(a.Jc[+$],d,_,re),_+=re,k-=re,y+=3}ce(a.Jc[+D],d,_,k),d=_<m?0:5}if(d!=0)return Et(a,d,"cannot parse partitions");for(d=le(_=a.m,7),y=oe(_)?fe(_,4):0,m=oe(_)?fe(_,4):0,k=oe(_)?fe(_,4):0,D=oe(_)?fe(_,4):0,_=oe(_)?fe(_,4):0,$=a.Qa,re=0;4>re;++re){if($.Cb){var ne=$.Zb[re];$.Fb||(ne+=d)}else{if(0<re){a.pb[re]=a.pb[0];continue}ne=d}var X=a.pb[re];X.Sc[0]=il[yr(ne+y,127)],X.Sc[1]=al[yr(ne+0,127)],X.Eb[0]=2*il[yr(ne+m,127)],X.Eb[1]=101581*al[yr(ne+k,127)]>>16,8>X.Eb[1]&&(X.Eb[1]=8),X.Qc[0]=il[yr(ne+D,117)],X.Qc[1]=al[yr(ne+_,127)],X.lc=ne+_}if(!S.Rb)return Et(a,4,"Not a key frame.");for(oe(N),S=a.Pa,d=0;4>d;++d){for(y=0;8>y;++y)for(m=0;3>m;++m)for(k=0;11>k;++k)D=O(N,mh[d][y][m][k])?le(N,8):ph[d][y][m][k],S.Wc[d][y].Yb[m][k]=D;for(y=0;17>y;++y)S.Xc[d][y]=S.Wc[d][vh[y]]}return a.kc=oe(N),a.kc&&(a.Bd=le(N,8)),a.cb=1}function co(a,l,d,m,y,N,S){var k=l[y].Yb[d];for(d=0;16>y;++y){if(!O(a,k[d+0]))return y;for(;!O(a,k[d+1]);)if(k=l[++y].Yb[0],d=0,y==16)return 16;var _=l[y+1].Yb;if(O(a,k[d+2])){var D=a,$=0;if(O(D,(ne=k)[(re=d)+3]))if(O(D,ne[re+6])){for(k=0,re=2*($=O(D,ne[re+8]))+(ne=O(D,ne[re+9+$])),$=0,ne=hh[re];ne[k];++k)$+=$+O(D,ne[k]);$+=3+(8<<re)}else O(D,ne[re+7])?($=7+2*O(D,165),$+=O(D,145)):$=5+O(D,159);else $=O(D,ne[re+4])?3+O(D,ne[re+5]):2;k=_[2]}else $=1,k=_[1];_=S+dh[y],0>(D=a).b&&ie(D);var re,ne=D.b,X=(re=D.Ca>>1)-(D.I>>ne)>>31;--D.b,D.Ca+=X,D.Ca|=1,D.I-=(re+1&X)<<ne,N[_]=(($^X)-X)*m[(0<y)+0]}return 16}function ba(a){var l=a.rb[a.sb-1];l.la=0,l.Na=0,o(a.zc,0,0,a.zc.length),a.ja=0}function Ds(a,l){if(a==null)return 0;if(l==null)return Et(a,2,"NULL VP8Io parameter in VP8Decode().");if(!a.cb&&!uo(a,l))return 0;if(e(a.cb),l.ac==null||l.ac(l)){l.ob&&(a.L=0);var d=Bo[a.L];if(a.L==2?(a.yb=0,a.zb=0):(a.yb=l.v-d>>4,a.zb=l.j-d>>4,0>a.yb&&(a.yb=0),0>a.zb&&(a.zb=0)),a.Va=l.o+15+d>>4,a.Hb=l.va+15+d>>4,a.Hb>a.za&&(a.Hb=a.za),a.Va>a.Ub&&(a.Va=a.Ub),0<a.L){var m=a.ed;for(d=0;4>d;++d){var y;if(a.Qa.Cb){var N=a.Qa.Lb[d];a.Qa.Fb||(N+=m.Tb)}else N=m.Tb;for(y=0;1>=y;++y){var S=a.gd[d][y],k=N;if(m.Pc&&(k+=m.vd[0],y&&(k+=m.od[0])),0<(k=0>k?0:63<k?63:k)){var _=k;0<m.wb&&(_=4<m.wb?_>>2:_>>1)>9-m.wb&&(_=9-m.wb),1>_&&(_=1),S.dd=_,S.tc=2*k+_,S.ld=40<=k?2:15<=k?1:0}else S.tc=0;S.La=y}}}d=0}else Et(a,6,"Frame setup failed"),d=a.a;if(d=d==0){if(d){a.$c=0,0<a.Aa||(a.Ic=Fh);e:{d=a.Ic,m=4*(_=a.za);var D=32*_,$=_+1,re=0<a.L?_*(0<a.Aa?2:1):0,ne=(a.Aa==2?2:1)*_;if((S=m+832+(y=3*(16*d+Bo[a.L])/2*D)+(N=a.Fa!=null&&0<a.Fa.length?a.Kc.c*a.Kc.i:0))!=S)d=0;else{if(S>a.Vb){if(a.Vb=0,a.Ec=i(S),a.Fc=0,a.Ec==null){d=Et(a,1,"no memory during frame initialization.");break e}a.Vb=S}S=a.Ec,k=a.Fc,a.Ac=S,a.Bc=k,k+=m,a.Gd=s(D,so),a.Hd=0,a.rb=s($+1,oo),a.sb=1,a.wa=re?s(re,Ri):null,a.Y=0,a.D.Nb=0,a.D.wa=a.wa,a.D.Y=a.Y,0<a.Aa&&(a.D.Y+=_),e(!0),a.oc=S,a.pc=k,k+=832,a.ya=s(ne,va),a.aa=0,a.D.ya=a.ya,a.D.aa=a.aa,a.Aa==2&&(a.D.aa+=_),a.R=16*_,a.B=8*_,_=(D=Bo[a.L])*a.R,D=D/2*a.B,a.sa=S,a.ta=k+_,a.qa=a.sa,a.ra=a.ta+16*d*a.R+D,a.Ha=a.qa,a.Ia=a.ra+8*d*a.B+D,a.$c=0,k+=y,a.mb=N?S:null,a.nb=N?k:null,e(k+N<=a.Fc+a.Vb),ba(a),o(a.Ac,a.Bc,0,m),d=1}}if(d){if(l.ka=0,l.y=a.sa,l.O=a.ta,l.f=a.qa,l.N=a.ra,l.ea=a.Ha,l.Vd=a.Ia,l.fa=a.R,l.Rc=a.B,l.F=null,l.J=0,!Fo){for(d=-255;255>=d;++d)Wt[255+d]=0>d?-d:d;for(d=-1020;1020>=d;++d)Sn[1020+d]=-128>d?-128:127<d?127:d;for(d=-112;112>=d;++d)qa[112+d]=-16>d?-16:15<d?15:d;for(d=-255;510>=d;++d)ta[255+d]=0>d?0:255<d?255:d;Fo=1}Zi=Os,Nn=Ts,Oa=ho,lr=Rs,Pr=po,It=fo,Qi=Aa,Co=fi,Ma=Ks,pi=La,gi=Js,Un=Hi,mi=Pa,ea=So,vi=No,Hn=an,Ba=yn,kr=Ys,Hr[0]=nn,Hr[1]=Ms,Hr[2]=Us,Hr[3]=Hs,Hr[4]=vo,Hr[5]=zi,Hr[6]=bo,Hr[7]=xa,Hr[8]=$s,Hr[9]=Ws,Wn[0]=go,Wn[1]=qs,Wn[2]=bn,Wn[3]=Bi,Wn[4]=Qt,Wn[5]=zs,Wn[6]=mo,An[0]=On,An[1]=Bs,An[2]=Vs,An[3]=Na,An[4]=ci,An[5]=Gs,An[6]=Sa,d=1}else d=0}d&&(d=function(X,Ne){for(X.M=0;X.M<X.Va;++X.M){var me,V=X.Jc[X.M&X.Xb],Y=X.m,ye=X;for(me=0;me<ye.za;++me){var Ae=Y,xe=ye,Re=xe.Ac,je=xe.Bc+4*me,He=xe.zc,Ie=xe.ya[xe.aa+me];if(xe.Qa.Bb?Ie.$b=O(Ae,xe.Pa.jb[0])?2+O(Ae,xe.Pa.jb[2]):O(Ae,xe.Pa.jb[1]):Ie.$b=0,xe.kc&&(Ie.Ad=O(Ae,xe.Bd)),Ie.Za=!O(Ae,145)+0,Ie.Za){var ct=Ie.Ob,dt=0;for(xe=0;4>xe;++xe){var lt,at=He[0+xe];for(lt=0;4>lt;++lt){at=gh[Re[je+lt]][at];for(var yt=xu[O(Ae,at[0])];0<yt;)yt=xu[2*yt+O(Ae,at[yt])];at=-yt,Re[je+lt]=at}n(ct,dt,Re,je,4),dt+=4,He[0+xe]=at}}else at=O(Ae,156)?O(Ae,128)?1:3:O(Ae,163)?2:0,Ie.Ob[0]=at,o(Re,je,at,4),o(He,0,at,4);Ie.Dd=O(Ae,142)?O(Ae,114)?O(Ae,183)?1:3:2:0}if(ye.m.Ka)return Et(X,7,"Premature end-of-partition0 encountered.");for(;X.ja<X.za;++X.ja){if(ye=V,Ae=(Y=X).rb[Y.sb-1],Re=Y.rb[Y.sb+Y.ja],me=Y.ya[Y.aa+Y.ja],je=Y.kc?me.Ad:0)Ae.la=Re.la=0,me.Za||(Ae.Na=Re.Na=0),me.Hc=0,me.Gc=0,me.ia=0;else{var vt,rt;if(Ae=Re,Re=ye,je=Y.Pa.Xc,He=Y.ya[Y.aa+Y.ja],Ie=Y.pb[He.$b],xe=He.ad,ct=0,dt=Y.rb[Y.sb-1],at=lt=0,o(xe,ct,0,384),He.Za)var zt=0,pr=je[3];else{yt=i(16);var Ut=Ae.Na+dt.Na;if(Ut=za(Re,je[1],Ut,Ie.Eb,0,yt,0),Ae.Na=dt.Na=(0<Ut)+0,1<Ut)Zi(yt,0,xe,ct);else{var gr=yt[0]+3>>3;for(yt=0;256>yt;yt+=16)xe[ct+yt]=gr}zt=1,pr=je[0]}var pt=15&Ae.la,xr=15&dt.la;for(yt=0;4>yt;++yt){var Nr=1&xr;for(gr=rt=0;4>gr;++gr)pt=pt>>1|(Nr=(Ut=za(Re,pr,Ut=Nr+(1&pt),Ie.Sc,zt,xe,ct))>zt)<<7,rt=rt<<2|(3<Ut?3:1<Ut?2:xe[ct+0]!=0),ct+=16;pt>>=4,xr=xr>>1|Nr<<7,lt=(lt<<8|rt)>>>0}for(pr=pt,zt=xr>>4,vt=0;4>vt;vt+=2){for(rt=0,pt=Ae.la>>4+vt,xr=dt.la>>4+vt,yt=0;2>yt;++yt){for(Nr=1&xr,gr=0;2>gr;++gr)Ut=Nr+(1&pt),pt=pt>>1|(Nr=0<(Ut=za(Re,je[2],Ut,Ie.Qc,0,xe,ct)))<<3,rt=rt<<2|(3<Ut?3:1<Ut?2:xe[ct+0]!=0),ct+=16;pt>>=2,xr=xr>>1|Nr<<5}at|=rt<<4*vt,pr|=pt<<4<<vt,zt|=(240&xr)<<vt}Ae.la=pr,dt.la=zt,He.Hc=lt,He.Gc=at,He.ia=43690&at?0:Ie.ia,je=!(lt|at)}if(0<Y.L&&(Y.wa[Y.Y+Y.ja]=Y.gd[me.$b][me.Za],Y.wa[Y.Y+Y.ja].La|=!je),ye.Ka)return Et(X,7,"Premature end-of-file encountered.")}if(ba(X),Y=Ne,ye=1,me=(V=X).D,Ae=0<V.L&&V.M>=V.zb&&V.M<=V.Va,V.Aa==0)e:{if(me.M=V.M,me.uc=Ae,Ea(V,me),ye=1,me=(rt=V.D).Nb,Ae=(at=Bo[V.L])*V.R,Re=at/2*V.B,yt=16*me*V.R,gr=8*me*V.B,je=V.sa,He=V.ta-Ae+yt,Ie=V.qa,xe=V.ra-Re+gr,ct=V.Ha,dt=V.Ia-Re+gr,xr=(pt=rt.M)==0,lt=pt>=V.Va-1,V.Aa==2&&Ea(V,rt),rt.uc)for(Nr=(Ut=V).D.M,e(Ut.D.uc),rt=Ut.yb;rt<Ut.Hb;++rt){zt=rt,pr=Nr;var Vt=(Xt=(Ft=Ut).D).Nb;vt=Ft.R;var Xt=Xt.wa[Xt.Y+zt],ur=Ft.sa,jr=Ft.ta+16*Vt*vt+16*zt,sn=Xt.dd,Gt=Xt.tc;if(Gt!=0)if(e(3<=Gt),Ft.L==1)0<zt&&Hn(ur,jr,vt,Gt+4),Xt.La&&kr(ur,jr,vt,Gt),0<pr&&vi(ur,jr,vt,Gt+4),Xt.La&&Ba(ur,jr,vt,Gt);else{var Ln=Ft.B,bi=Ft.qa,ra=Ft.ra+8*Vt*Ln+8*zt,Vn=Ft.Ha,Ft=Ft.Ia+8*Vt*Ln+8*zt;Vt=Xt.ld,0<zt&&(Co(ur,jr,vt,Gt+4,sn,Vt),pi(bi,ra,Vn,Ft,Ln,Gt+4,sn,Vt)),Xt.La&&(Un(ur,jr,vt,Gt,sn,Vt),ea(bi,ra,Vn,Ft,Ln,Gt,sn,Vt)),0<pr&&(Qi(ur,jr,vt,Gt+4,sn,Vt),Ma(bi,ra,Vn,Ft,Ln,Gt+4,sn,Vt)),Xt.La&&(gi(ur,jr,vt,Gt,sn,Vt),mi(bi,ra,Vn,Ft,Ln,Gt,sn,Vt))}}if(V.ia&&alert("todo:DitherRow"),Y.put!=null){if(rt=16*pt,pt=16*(pt+1),xr?(Y.y=V.sa,Y.O=V.ta+yt,Y.f=V.qa,Y.N=V.ra+gr,Y.ea=V.Ha,Y.W=V.Ia+gr):(rt-=at,Y.y=je,Y.O=He,Y.f=Ie,Y.N=xe,Y.ea=ct,Y.W=dt),lt||(pt-=at),pt>Y.o&&(pt=Y.o),Y.F=null,Y.J=null,V.Fa!=null&&0<V.Fa.length&&rt<pt&&(Y.J=Fa(V,Y,rt,pt-rt),Y.F=V.mb,Y.F==null&&Y.F.length==0)){ye=Et(V,3,"Could not decode alpha data.");break e}rt<Y.j&&(at=Y.j-rt,rt=Y.j,e(!(1&at)),Y.O+=V.R*at,Y.N+=V.B*(at>>1),Y.W+=V.B*(at>>1),Y.F!=null&&(Y.J+=Y.width*at)),rt<pt&&(Y.O+=Y.v,Y.N+=Y.v>>1,Y.W+=Y.v>>1,Y.F!=null&&(Y.J+=Y.v),Y.ka=rt-Y.j,Y.U=Y.va-Y.v,Y.T=pt-rt,ye=Y.put(Y))}me+1!=V.Ic||lt||(n(V.sa,V.ta-Ae,je,He+16*V.R,Ae),n(V.qa,V.ra-Re,Ie,xe+8*V.B,Re),n(V.Ha,V.Ia-Re,ct,dt+8*V.B,Re))}if(!ye)return Et(X,6,"Output aborted.")}return 1}(a,l)),l.bc!=null&&l.bc(l),d&=1}return d?(a.cb=0,d):0}function qr(a,l,d,m,y){y=a[l+d+32*m]+(y>>3),a[l+d+32*m]=-256&y?0>y?0:255:y}function Mi(a,l,d,m,y,N){qr(a,l,0,d,m+y),qr(a,l,1,d,m+N),qr(a,l,2,d,m-N),qr(a,l,3,d,m-y)}function fr(a){return(20091*a>>16)+a}function ya(a,l,d,m){var y,N=0,S=i(16);for(y=0;4>y;++y){var k=a[l+0]+a[l+8],_=a[l+0]-a[l+8],D=(35468*a[l+4]>>16)-fr(a[l+12]),$=fr(a[l+4])+(35468*a[l+12]>>16);S[N+0]=k+$,S[N+1]=_+D,S[N+2]=_-D,S[N+3]=k-$,N+=4,l++}for(y=N=0;4>y;++y)k=(a=S[N+0]+4)+S[N+8],_=a-S[N+8],D=(35468*S[N+4]>>16)-fr(S[N+12]),qr(d,m,0,0,k+($=fr(S[N+4])+(35468*S[N+12]>>16))),qr(d,m,1,0,_+D),qr(d,m,2,0,_-D),qr(d,m,3,0,k-$),N++,m+=32}function fo(a,l,d,m){var y=a[l+0]+4,N=35468*a[l+4]>>16,S=fr(a[l+4]),k=35468*a[l+1]>>16;Mi(d,m,0,y+S,a=fr(a[l+1]),k),Mi(d,m,1,y+N,a,k),Mi(d,m,2,y-N,a,k),Mi(d,m,3,y-S,a,k)}function Ts(a,l,d,m,y){ya(a,l,d,m),y&&ya(a,l+16,d,m+4)}function ho(a,l,d,m){Nn(a,l+0,d,m,1),Nn(a,l+32,d,m+128,1)}function Rs(a,l,d,m){var y;for(a=a[l+0]+4,y=0;4>y;++y)for(l=0;4>l;++l)qr(d,m,l,y,a)}function po(a,l,d,m){a[l+0]&&lr(a,l+0,d,m),a[l+16]&&lr(a,l+16,d,m+4),a[l+32]&&lr(a,l+32,d,m+128),a[l+48]&&lr(a,l+48,d,m+128+4)}function Os(a,l,d,m){var y,N=i(16);for(y=0;4>y;++y){var S=a[l+0+y]+a[l+12+y],k=a[l+4+y]+a[l+8+y],_=a[l+4+y]-a[l+8+y],D=a[l+0+y]-a[l+12+y];N[0+y]=S+k,N[8+y]=S-k,N[4+y]=D+_,N[12+y]=D-_}for(y=0;4>y;++y)S=(a=N[0+4*y]+3)+N[3+4*y],k=N[1+4*y]+N[2+4*y],_=N[1+4*y]-N[2+4*y],D=a-N[3+4*y],d[m+0]=S+k>>3,d[m+16]=D+_>>3,d[m+32]=S-k>>3,d[m+48]=D-_>>3,m+=64}function wa(a,l,d){var m,y=l-32,N=wr,S=255-a[y-1];for(m=0;m<d;++m){var k,_=N,D=S+a[l-1];for(k=0;k<d;++k)a[l+k]=_[D+a[y+k]];l+=32}}function Ms(a,l){wa(a,l,4)}function Bs(a,l){wa(a,l,8)}function qs(a,l){wa(a,l,16)}function bn(a,l){var d;for(d=0;16>d;++d)n(a,l+32*d,a,l-32,16)}function Bi(a,l){var d;for(d=16;0<d;--d)o(a,l,a[l-1],16),l+=32}function qi(a,l,d){var m;for(m=0;16>m;++m)o(l,d+32*m,a,16)}function go(a,l){var d,m=16;for(d=0;16>d;++d)m+=a[l-1+32*d]+a[l+d-32];qi(m>>5,a,l)}function Qt(a,l){var d,m=8;for(d=0;16>d;++d)m+=a[l-1+32*d];qi(m>>4,a,l)}function zs(a,l){var d,m=8;for(d=0;16>d;++d)m+=a[l+d-32];qi(m>>4,a,l)}function mo(a,l){qi(128,a,l)}function Ke(a,l,d){return a+2*l+d+2>>2}function Us(a,l){var d,m=l-32;for(m=new Uint8Array([Ke(a[m-1],a[m+0],a[m+1]),Ke(a[m+0],a[m+1],a[m+2]),Ke(a[m+1],a[m+2],a[m+3]),Ke(a[m+2],a[m+3],a[m+4])]),d=0;4>d;++d)n(a,l+32*d,m,0,m.length)}function Hs(a,l){var d=a[l-1],m=a[l-1+32],y=a[l-1+64],N=a[l-1+96];ge(a,l+0,16843009*Ke(a[l-1-32],d,m)),ge(a,l+32,16843009*Ke(d,m,y)),ge(a,l+64,16843009*Ke(m,y,N)),ge(a,l+96,16843009*Ke(y,N,N))}function nn(a,l){var d,m=4;for(d=0;4>d;++d)m+=a[l+d-32]+a[l-1+32*d];for(m>>=3,d=0;4>d;++d)o(a,l+32*d,m,4)}function vo(a,l){var d=a[l-1+0],m=a[l-1+32],y=a[l-1+64],N=a[l-1-32],S=a[l+0-32],k=a[l+1-32],_=a[l+2-32],D=a[l+3-32];a[l+0+96]=Ke(m,y,a[l-1+96]),a[l+1+96]=a[l+0+64]=Ke(d,m,y),a[l+2+96]=a[l+1+64]=a[l+0+32]=Ke(N,d,m),a[l+3+96]=a[l+2+64]=a[l+1+32]=a[l+0+0]=Ke(S,N,d),a[l+3+64]=a[l+2+32]=a[l+1+0]=Ke(k,S,N),a[l+3+32]=a[l+2+0]=Ke(_,k,S),a[l+3+0]=Ke(D,_,k)}function bo(a,l){var d=a[l+1-32],m=a[l+2-32],y=a[l+3-32],N=a[l+4-32],S=a[l+5-32],k=a[l+6-32],_=a[l+7-32];a[l+0+0]=Ke(a[l+0-32],d,m),a[l+1+0]=a[l+0+32]=Ke(d,m,y),a[l+2+0]=a[l+1+32]=a[l+0+64]=Ke(m,y,N),a[l+3+0]=a[l+2+32]=a[l+1+64]=a[l+0+96]=Ke(y,N,S),a[l+3+32]=a[l+2+64]=a[l+1+96]=Ke(N,S,k),a[l+3+64]=a[l+2+96]=Ke(S,k,_),a[l+3+96]=Ke(k,_,_)}function zi(a,l){var d=a[l-1+0],m=a[l-1+32],y=a[l-1+64],N=a[l-1-32],S=a[l+0-32],k=a[l+1-32],_=a[l+2-32],D=a[l+3-32];a[l+0+0]=a[l+1+64]=N+S+1>>1,a[l+1+0]=a[l+2+64]=S+k+1>>1,a[l+2+0]=a[l+3+64]=k+_+1>>1,a[l+3+0]=_+D+1>>1,a[l+0+96]=Ke(y,m,d),a[l+0+64]=Ke(m,d,N),a[l+0+32]=a[l+1+96]=Ke(d,N,S),a[l+1+32]=a[l+2+96]=Ke(N,S,k),a[l+2+32]=a[l+3+96]=Ke(S,k,_),a[l+3+32]=Ke(k,_,D)}function xa(a,l){var d=a[l+0-32],m=a[l+1-32],y=a[l+2-32],N=a[l+3-32],S=a[l+4-32],k=a[l+5-32],_=a[l+6-32],D=a[l+7-32];a[l+0+0]=d+m+1>>1,a[l+1+0]=a[l+0+64]=m+y+1>>1,a[l+2+0]=a[l+1+64]=y+N+1>>1,a[l+3+0]=a[l+2+64]=N+S+1>>1,a[l+0+32]=Ke(d,m,y),a[l+1+32]=a[l+0+96]=Ke(m,y,N),a[l+2+32]=a[l+1+96]=Ke(y,N,S),a[l+3+32]=a[l+2+96]=Ke(N,S,k),a[l+3+64]=Ke(S,k,_),a[l+3+96]=Ke(k,_,D)}function Ws(a,l){var d=a[l-1+0],m=a[l-1+32],y=a[l-1+64],N=a[l-1+96];a[l+0+0]=d+m+1>>1,a[l+2+0]=a[l+0+32]=m+y+1>>1,a[l+2+32]=a[l+0+64]=y+N+1>>1,a[l+1+0]=Ke(d,m,y),a[l+3+0]=a[l+1+32]=Ke(m,y,N),a[l+3+32]=a[l+1+64]=Ke(y,N,N),a[l+3+64]=a[l+2+64]=a[l+0+96]=a[l+1+96]=a[l+2+96]=a[l+3+96]=N}function $s(a,l){var d=a[l-1+0],m=a[l-1+32],y=a[l-1+64],N=a[l-1+96],S=a[l-1-32],k=a[l+0-32],_=a[l+1-32],D=a[l+2-32];a[l+0+0]=a[l+2+32]=d+S+1>>1,a[l+0+32]=a[l+2+64]=m+d+1>>1,a[l+0+64]=a[l+2+96]=y+m+1>>1,a[l+0+96]=N+y+1>>1,a[l+3+0]=Ke(k,_,D),a[l+2+0]=Ke(S,k,_),a[l+1+0]=a[l+3+32]=Ke(d,S,k),a[l+1+32]=a[l+3+64]=Ke(m,d,S),a[l+1+64]=a[l+3+96]=Ke(y,m,d),a[l+1+96]=Ke(N,y,m)}function Vs(a,l){var d;for(d=0;8>d;++d)n(a,l+32*d,a,l-32,8)}function Na(a,l){var d;for(d=0;8>d;++d)o(a,l,a[l-1],8),l+=32}function ui(a,l,d){var m;for(m=0;8>m;++m)o(l,d+32*m,a,8)}function On(a,l){var d,m=8;for(d=0;8>d;++d)m+=a[l+d-32]+a[l-1+32*d];ui(m>>4,a,l)}function Gs(a,l){var d,m=4;for(d=0;8>d;++d)m+=a[l+d-32];ui(m>>3,a,l)}function ci(a,l){var d,m=4;for(d=0;8>d;++d)m+=a[l-1+32*d];ui(m>>3,a,l)}function Sa(a,l){ui(128,a,l)}function Ui(a,l,d){var m=a[l-d],y=a[l+0],N=3*(y-m)+Qs[1020+a[l-2*d]-a[l+d]],S=jo[112+(N+4>>3)];a[l-d]=wr[255+m+jo[112+(N+3>>3)]],a[l+0]=wr[255+y-S]}function yo(a,l,d,m){var y=a[l+0],N=a[l+d];return Cr[255+a[l-2*d]-a[l-d]]>m||Cr[255+N-y]>m}function wo(a,l,d,m){return 4*Cr[255+a[l-d]-a[l+0]]+Cr[255+a[l-2*d]-a[l+d]]<=m}function xo(a,l,d,m,y){var N=a[l-3*d],S=a[l-2*d],k=a[l-d],_=a[l+0],D=a[l+d],$=a[l+2*d],re=a[l+3*d];return 4*Cr[255+k-_]+Cr[255+S-D]>m?0:Cr[255+a[l-4*d]-N]<=y&&Cr[255+N-S]<=y&&Cr[255+S-k]<=y&&Cr[255+re-$]<=y&&Cr[255+$-D]<=y&&Cr[255+D-_]<=y}function No(a,l,d,m){var y=2*m+1;for(m=0;16>m;++m)wo(a,l+m,d,y)&&Ui(a,l+m,d)}function an(a,l,d,m){var y=2*m+1;for(m=0;16>m;++m)wo(a,l+m*d,1,y)&&Ui(a,l+m*d,1)}function yn(a,l,d,m){var y;for(y=3;0<y;--y)No(a,l+=4*d,d,m)}function Ys(a,l,d,m){var y;for(y=3;0<y;--y)an(a,l+=4,d,m)}function Mn(a,l,d,m,y,N,S,k){for(N=2*N+1;0<y--;){if(xo(a,l,d,N,S))if(yo(a,l,d,k))Ui(a,l,d);else{var _=a,D=l,$=d,re=_[D-2*$],ne=_[D-$],X=_[D+0],Ne=_[D+$],me=_[D+2*$],V=27*(ye=Qs[1020+3*(X-ne)+Qs[1020+re-Ne]])+63>>7,Y=18*ye+63>>7,ye=9*ye+63>>7;_[D-3*$]=wr[255+_[D-3*$]+ye],_[D-2*$]=wr[255+re+Y],_[D-$]=wr[255+ne+V],_[D+0]=wr[255+X-V],_[D+$]=wr[255+Ne-Y],_[D+2*$]=wr[255+me-ye]}l+=m}}function zr(a,l,d,m,y,N,S,k){for(N=2*N+1;0<y--;){if(xo(a,l,d,N,S))if(yo(a,l,d,k))Ui(a,l,d);else{var _=a,D=l,$=d,re=_[D-$],ne=_[D+0],X=_[D+$],Ne=jo[112+((me=3*(ne-re))+4>>3)],me=jo[112+(me+3>>3)],V=Ne+1>>1;_[D-2*$]=wr[255+_[D-2*$]+V],_[D-$]=wr[255+re+me],_[D+0]=wr[255+ne-Ne],_[D+$]=wr[255+X-V]}l+=m}}function Aa(a,l,d,m,y,N){Mn(a,l,d,1,16,m,y,N)}function fi(a,l,d,m,y,N){Mn(a,l,1,d,16,m,y,N)}function Js(a,l,d,m,y,N){var S;for(S=3;0<S;--S)zr(a,l+=4*d,d,1,16,m,y,N)}function Hi(a,l,d,m,y,N){var S;for(S=3;0<S;--S)zr(a,l+=4,1,d,16,m,y,N)}function Ks(a,l,d,m,y,N,S,k){Mn(a,l,y,1,8,N,S,k),Mn(d,m,y,1,8,N,S,k)}function La(a,l,d,m,y,N,S,k){Mn(a,l,1,y,8,N,S,k),Mn(d,m,1,y,8,N,S,k)}function Pa(a,l,d,m,y,N,S,k){zr(a,l+4*y,y,1,8,N,S,k),zr(d,m+4*y,y,1,8,N,S,k)}function So(a,l,d,m,y,N,S,k){zr(a,l+4,1,y,8,N,S,k),zr(d,m+4,1,y,8,N,S,k)}function Wi(){this.ba=new Tr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new _t,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ka(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function _a(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ao(){this.ua=0,this.Wa=new M,this.vb=new M,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new q,this.yc=new E}function Xs(){this.xb=this.a=0,this.l=new Oi,this.ca=new Tr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ao,this.ab=0,this.gc=s(4,_a),this.Oc=0}function $i(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Oi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function hi(a,l,d,m,y,N,S){for(a=a==null?0:a[l+0],l=0;l<S;++l)y[N+l]=a+d[m+l]&255,a=y[N+l]}function Ca(a,l,d,m,y,N,S){var k;if(a==null)hi(null,null,d,m,y,N,S);else for(k=0;k<S;++k)y[N+k]=a[l+k]+d[m+k]&255}function Bn(a,l,d,m,y,N,S){if(a==null)hi(null,null,d,m,y,N,S);else{var k,_=a[l+0],D=_,$=_;for(k=0;k<S;++k)D=$+(_=a[l+k])-D,$=d[m+k]+(-256&D?0>D?0:255:D)&255,D=_,y[N+k]=$}}function Fa(a,l,d,m){var y=l.width,N=l.o;if(e(a!=null&&l!=null),0>d||0>=m||d+m>N)return null;if(!a.Cc){if(a.ga==null){var S;if(a.ga=new $i,(S=a.ga==null)||(S=l.width*l.o,e(a.Gb.length==0),a.Gb=i(S),a.Uc=0,a.Gb==null?S=0:(a.mb=a.Gb,a.nb=a.Uc,a.rc=null,S=1),S=!S),!S){S=a.ga;var k=a.Fa,_=a.P,D=a.qc,$=a.mb,re=a.nb,ne=_+1,X=D-1,Ne=S.l;if(e(k!=null&&$!=null&&l!=null),$n[0]=null,$n[1]=hi,$n[2]=Ca,$n[3]=Bn,S.ca=$,S.tb=re,S.c=l.width,S.i=l.height,e(0<S.c&&0<S.i),1>=D)l=0;else if(S.$a=k[_+0]>>0&3,S.Z=k[_+0]>>2&3,S.Lc=k[_+0]>>4&3,_=k[_+0]>>6&3,0>S.$a||1<S.$a||4<=S.Z||1<S.Lc||_)l=0;else if(Ne.put=Zr,Ne.ac=Jt,Ne.bc=Qr,Ne.ma=S,Ne.width=l.width,Ne.height=l.height,Ne.Da=l.Da,Ne.v=l.v,Ne.va=l.va,Ne.j=l.j,Ne.o=l.o,S.$a)e:{e(S.$a==1),l=Ar();t:for(;;){if(l==null){l=0;break e}if(e(S!=null),S.mc=l,l.c=S.c,l.i=S.i,l.l=S.l,l.l.ma=S,l.l.width=S.c,l.l.height=S.i,l.a=0,ee(l.m,k,ne,X),!rn(S.c,S.i,1,l,null)||(l.ab==1&&l.gc[0].hc==3&&vn(l.s)?(S.ic=1,k=l.c*l.i,l.Ta=null,l.Ua=0,l.V=i(k),l.Ba=0,l.V==null?(l.a=1,l=0):l=1):(S.ic=0,l=li(l,S.c)),!l))break t;l=1;break e}S.mc=null,l=0}else l=X>=S.c*S.i;S=!l}if(S)return null;a.ga.Lc!=1?a.Ga=0:m=N-d}e(a.ga!=null),e(d+m<=N);e:{if(l=(k=a.ga).c,N=k.l.o,k.$a==0){if(ne=a.rc,X=a.Vc,Ne=a.Fa,_=a.P+1+d*l,D=a.mb,$=a.nb+d*l,e(_<=a.P+a.qc),k.Z!=0)for(e($n[k.Z]!=null),S=0;S<m;++S)$n[k.Z](ne,X,Ne,_,D,$,l),ne=D,X=$,$+=l,_+=l;else for(S=0;S<m;++S)n(D,$,Ne,_,l),ne=D,X=$,$+=l,_+=l;a.rc=ne,a.Vc=X}else{if(e(k.mc!=null),l=d+m,e((S=k.mc)!=null),e(l<=S.i),S.C>=l)l=1;else if(k.ic||Q(),k.ic){k=S.V,ne=S.Ba,X=S.c;var me=S.i,V=(Ne=1,_=S.$/X,D=S.$%X,$=S.m,re=S.s,S.$),Y=X*me,ye=X*l,Ae=re.wc,xe=V<ye?Bt(re,D,_):null;e(V<=Y),e(l<=me),e(vn(re));t:for(;;){for(;!$.h&&V<ye;){if(D&Ae||(xe=Bt(re,D,_)),e(xe!=null),K($),256>(me=cr(xe.G[0],xe.H[0],$)))k[ne+V]=me,++V,++D>=X&&(D=0,++_<=l&&!(_%16)&&Mr(S,_));else{if(!(280>me)){Ne=0;break t}me=Rr(me-256,$);var Re,je=cr(xe.G[4],xe.H[4],$);if(K($),!(V>=(je=en(X,je=Rr(je,$)))&&Y-V>=me)){Ne=0;break t}for(Re=0;Re<me;++Re)k[ne+V+Re]=k[ne+V+Re-je];for(V+=me,D+=me;D>=X;)D-=X,++_<=l&&!(_%16)&&Mr(S,_);V<ye&&D&Ae&&(xe=Bt(re,D,_))}e($.h==B($))}Mr(S,_>l?l:_);break t}!Ne||$.h&&V<Y?(Ne=0,S.a=$.h?5:3):S.$=V,l=Ne}else l=Br(S,S.V,S.Ba,S.c,S.i,l,Ei);if(!l){m=0;break e}}d+m>=N&&(a.Cc=1),m=1}if(!m)return null;if(a.Cc&&((m=a.ga)!=null&&(m.mc=null),a.ga=null,0<a.Ga))return alert("todo:WebPDequantizeLevels"),null}return a.nb+d*y}function f(a,l,d,m,y,N){for(;0<y--;){var S,k=a,_=l+(d?1:0),D=a,$=l+(d?0:3);for(S=0;S<m;++S){var re=D[$+4*S];re!=255&&(re*=32897,k[_+4*S+0]=k[_+4*S+0]*re>>23,k[_+4*S+1]=k[_+4*S+1]*re>>23,k[_+4*S+2]=k[_+4*S+2]*re>>23)}l+=N}}function w(a,l,d,m,y){for(;0<m--;){var N;for(N=0;N<d;++N){var S=a[l+2*N+0],k=15&(D=a[l+2*N+1]),_=4369*k,D=(240&D|D>>4)*_>>16;a[l+2*N+0]=(240&S|S>>4)*_>>16&240|(15&S|S<<4)*_>>16>>4&15,a[l+2*N+1]=240&D|k}l+=y}}function T(a,l,d,m,y,N,S,k){var _,D,$=255;for(D=0;D<y;++D){for(_=0;_<m;++_){var re=a[l+_];N[S+4*_]=re,$&=re}l+=d,S+=k}return $!=255}function W(a,l,d,m,y){var N;for(N=0;N<y;++N)d[m+N]=a[l+N]>>8}function Q(){_r=f,Nt=w,St=T,Dt=W}function be(a,l,d){z[a]=function(m,y,N,S,k,_,D,$,re,ne,X,Ne,me,V,Y,ye,Ae){var xe,Re=Ae-1>>1,je=k[_+0]|D[$+0]<<16,He=re[ne+0]|X[Ne+0]<<16;e(m!=null);var Ie=3*je+He+131074>>2;for(l(m[y+0],255&Ie,Ie>>16,me,V),N!=null&&(Ie=3*He+je+131074>>2,l(N[S+0],255&Ie,Ie>>16,Y,ye)),xe=1;xe<=Re;++xe){var ct=k[_+xe]|D[$+xe]<<16,dt=re[ne+xe]|X[Ne+xe]<<16,lt=je+ct+He+dt+524296,at=lt+2*(ct+He)>>3;Ie=at+je>>1,je=(lt=lt+2*(je+dt)>>3)+ct>>1,l(m[y+2*xe-1],255&Ie,Ie>>16,me,V+(2*xe-1)*d),l(m[y+2*xe-0],255&je,je>>16,me,V+(2*xe-0)*d),N!=null&&(Ie=lt+He>>1,je=at+dt>>1,l(N[S+2*xe-1],255&Ie,Ie>>16,Y,ye+(2*xe-1)*d),l(N[S+2*xe+0],255&je,je>>16,Y,ye+(2*xe+0)*d)),je=ct,He=dt}1&Ae||(Ie=3*je+He+131074>>2,l(m[y+Ae-1],255&Ie,Ie>>16,me,V+(Ae-1)*d),N!=null&&(Ie=3*He+je+131074>>2,l(N[S+Ae-1],255&Ie,Ie>>16,Y,ye+(Ae-1)*d)))}}function Le(){Fr[Eo]=yh,Fr[Io]=Su,Fr[bu]=wh,Fr[Do]=Au,Fr[To]=Lu,Fr[el]=Pu,Fr[yu]=xh,Fr[tl]=Su,Fr[rl]=Au,Fr[Ro]=Lu,Fr[nl]=Pu}function Te(a){return a&-16384?0>a?0:255:a>>Nh}function Ue(a,l){return Te((19077*a>>8)+(26149*l>>8)-14234)}function et(a,l,d){return Te((19077*a>>8)-(6419*l>>8)-(13320*d>>8)+8708)}function Ze(a,l){return Te((19077*a>>8)+(33050*l>>8)-17685)}function ot(a,l,d,m,y){m[y+0]=Ue(a,d),m[y+1]=et(a,l,d),m[y+2]=Ze(a,l)}function Pt(a,l,d,m,y){m[y+0]=Ze(a,l),m[y+1]=et(a,l,d),m[y+2]=Ue(a,d)}function Ct(a,l,d,m,y){var N=et(a,l,d);l=N<<3&224|Ze(a,l)>>3,m[y+0]=248&Ue(a,d)|N>>5,m[y+1]=l}function qt(a,l,d,m,y){var N=240&Ze(a,l)|15;m[y+0]=240&Ue(a,d)|et(a,l,d)>>4,m[y+1]=N}function er(a,l,d,m,y){m[y+0]=255,ot(a,l,d,m,y+1)}function $t(a,l,d,m,y){Pt(a,l,d,m,y),m[y+3]=255}function Ur(a,l,d,m,y){ot(a,l,d,m,y),m[y+3]=255}function yr(a,l){return 0>a?0:a>l?l:a}function on(a,l,d){z[a]=function(m,y,N,S,k,_,D,$,re){for(var ne=$+(-2&re)*d;$!=ne;)l(m[y+0],N[S+0],k[_+0],D,$),l(m[y+1],N[S+0],k[_+0],D,$+d),y+=2,++S,++_,$+=2*d;1&re&&l(m[y+0],N[S+0],k[_+0],D,$)}}function Lo(a,l,d){return d==0?a==0?l==0?6:5:l==0?4:0:d}function ja(a,l,d,m,y){switch(a>>>30){case 3:Nn(l,d,m,y,0);break;case 2:It(l,d,m,y);break;case 1:lr(l,d,m,y)}}function Ea(a,l){var d,m,y=l.M,N=l.Nb,S=a.oc,k=a.pc+40,_=a.oc,D=a.pc+584,$=a.oc,re=a.pc+600;for(d=0;16>d;++d)S[k+32*d-1]=129;for(d=0;8>d;++d)_[D+32*d-1]=129,$[re+32*d-1]=129;for(0<y?S[k-1-32]=_[D-1-32]=$[re-1-32]=129:(o(S,k-32-1,127,21),o(_,D-32-1,127,9),o($,re-32-1,127,9)),m=0;m<a.za;++m){var ne=l.ya[l.aa+m];if(0<m){for(d=-1;16>d;++d)n(S,k+32*d-4,S,k+32*d+12,4);for(d=-1;8>d;++d)n(_,D+32*d-4,_,D+32*d+4,4),n($,re+32*d-4,$,re+32*d+4,4)}var X=a.Gd,Ne=a.Hd+m,me=ne.ad,V=ne.Hc;if(0<y&&(n(S,k-32,X[Ne].y,0,16),n(_,D-32,X[Ne].f,0,8),n($,re-32,X[Ne].ea,0,8)),ne.Za){var Y=S,ye=k-32+16;for(0<y&&(m>=a.za-1?o(Y,ye,X[Ne].y[15],4):n(Y,ye,X[Ne+1].y,0,4)),d=0;4>d;d++)Y[ye+128+d]=Y[ye+256+d]=Y[ye+384+d]=Y[ye+0+d];for(d=0;16>d;++d,V<<=2)Y=S,ye=k+_u[d],Hr[ne.Ob[d]](Y,ye),ja(V,me,16*+d,Y,ye)}else if(Y=Lo(m,y,ne.Ob[0]),Wn[Y](S,k),V!=0)for(d=0;16>d;++d,V<<=2)ja(V,me,16*+d,S,k+_u[d]);for(d=ne.Gc,Y=Lo(m,y,ne.Dd),An[Y](_,D),An[Y]($,re),V=me,Y=_,ye=D,255&(ne=d>>0)&&(170&ne?Oa(V,256,Y,ye):Pr(V,256,Y,ye)),ne=$,V=re,255&(d>>=8)&&(170&d?Oa(me,320,ne,V):Pr(me,320,ne,V)),y<a.Ub-1&&(n(X[Ne].y,0,S,k+480,16),n(X[Ne].f,0,_,D+224,8),n(X[Ne].ea,0,$,re+224,8)),d=8*N*a.B,X=a.sa,Ne=a.ta+16*m+16*N*a.R,me=a.qa,ne=a.ra+8*m+d,V=a.Ha,Y=a.Ia+8*m+d,d=0;16>d;++d)n(X,Ne+d*a.R,S,k+32*d,16);for(d=0;8>d;++d)n(me,ne+d*a.B,_,D+32*d,8),n(V,Y+d*a.B,$,re+32*d,8)}}function Vi(a,l,d,m,y,N,S,k,_){var D=[0],$=[0],re=0,ne=_!=null?_.kd:0,X=_??new ka;if(a==null||12>d)return 7;X.data=a,X.w=l,X.ha=d,l=[l],d=[d],X.gb=[X.gb];e:{var Ne=l,me=d,V=X.gb;if(e(a!=null),e(me!=null),e(V!=null),V[0]=0,12<=me[0]&&!r(a,Ne[0],"RIFF")){if(r(a,Ne[0]+8,"WEBP")){V=3;break e}var Y=Ce(a,Ne[0]+4);if(12>Y||4294967286<Y){V=3;break e}if(ne&&Y>me[0]-8){V=7;break e}V[0]=Y,Ne[0]+=12,me[0]-=12}V=0}if(V!=0)return V;for(Y=0<X.gb[0],d=d[0];;){e:{var ye=a;me=l,V=d;var Ae=D,xe=$,Re=Ne=[0];if((Ie=re=[re])[0]=0,8>V[0])V=7;else{if(!r(ye,me[0],"VP8X")){if(Ce(ye,me[0]+4)!=10){V=3;break e}if(18>V[0]){V=7;break e}var je=Ce(ye,me[0]+8),He=1+_e(ye,me[0]+12);if(2147483648<=He*(ye=1+_e(ye,me[0]+15))){V=3;break e}Re!=null&&(Re[0]=je),Ae!=null&&(Ae[0]=He),xe!=null&&(xe[0]=ye),me[0]+=18,V[0]-=18,Ie[0]=1}V=0}}if(re=re[0],Ne=Ne[0],V!=0)return V;if(me=!!(2&Ne),!Y&&re)return 3;if(N!=null&&(N[0]=!!(16&Ne)),S!=null&&(S[0]=me),k!=null&&(k[0]=0),S=D[0],Ne=$[0],re&&me&&_==null){V=0;break}if(4>d){V=7;break}if(Y&&re||!Y&&!re&&!r(a,l[0],"ALPH")){d=[d],X.na=[X.na],X.P=[X.P],X.Sa=[X.Sa];e:{je=a,V=l,Y=d;var Ie=X.gb;Ae=X.na,xe=X.P,Re=X.Sa,He=22,e(je!=null),e(Y!=null),ye=V[0];var ct=Y[0];for(e(Ae!=null),e(Re!=null),Ae[0]=null,xe[0]=null,Re[0]=0;;){if(V[0]=ye,Y[0]=ct,8>ct){V=7;break e}var dt=Ce(je,ye+4);if(4294967286<dt){V=3;break e}var lt=8+dt+1&-2;if(He+=lt,0<Ie&&He>Ie){V=3;break e}if(!r(je,ye,"VP8 ")||!r(je,ye,"VP8L")){V=0;break e}if(ct[0]<lt){V=7;break e}r(je,ye,"ALPH")||(Ae[0]=je,xe[0]=ye+8,Re[0]=dt),ye+=lt,ct-=lt}}if(d=d[0],X.na=X.na[0],X.P=X.P[0],X.Sa=X.Sa[0],V!=0)break}d=[d],X.Ja=[X.Ja],X.xa=[X.xa];e:if(Ie=a,V=l,Y=d,Ae=X.gb[0],xe=X.Ja,Re=X.xa,je=V[0],ye=!r(Ie,je,"VP8 "),He=!r(Ie,je,"VP8L"),e(Ie!=null),e(Y!=null),e(xe!=null),e(Re!=null),8>Y[0])V=7;else{if(ye||He){if(Ie=Ce(Ie,je+4),12<=Ae&&Ie>Ae-12){V=3;break e}if(ne&&Ie>Y[0]-8){V=7;break e}xe[0]=Ie,V[0]+=8,Y[0]-=8,Re[0]=He}else Re[0]=5<=Y[0]&&Ie[je+0]==47&&!(Ie[je+4]>>5),xe[0]=Y[0];V=0}if(d=d[0],X.Ja=X.Ja[0],X.xa=X.xa[0],l=l[0],V!=0)break;if(4294967286<X.Ja)return 3;if(k==null||me||(k[0]=X.xa?2:1),S=[S],Ne=[Ne],X.xa){if(5>d){V=7;break}k=S,ne=Ne,me=N,a==null||5>d?a=0:5<=d&&a[l+0]==47&&!(a[l+4]>>5)?(Y=[0],Ie=[0],Ae=[0],ee(xe=new L,a,l,d),$e(xe,Y,Ie,Ae)?(k!=null&&(k[0]=Y[0]),ne!=null&&(ne[0]=Ie[0]),me!=null&&(me[0]=Ae[0]),a=1):a=0):a=0}else{if(10>d){V=7;break}k=Ne,a==null||10>d||!lo(a,l+3,d-3)?a=0:(ne=a[l+0]|a[l+1]<<8|a[l+2]<<16,me=16383&(a[l+7]<<8|a[l+6]),a=16383&(a[l+9]<<8|a[l+8]),1&ne||3<(ne>>1&7)||!(ne>>4&1)||ne>>5>=X.Ja||!me||!a?a=0:(S&&(S[0]=me),k&&(k[0]=a),a=1))}if(!a||(S=S[0],Ne=Ne[0],re&&(D[0]!=S||$[0]!=Ne)))return 3;_!=null&&(_[0]=X,_.offset=l-_.w,e(4294967286>l-_.w),e(_.offset==_.ha-d));break}return V==0||V==7&&re&&_==null?(N!=null&&(N[0]|=X.na!=null&&0<X.na.length),m!=null&&(m[0]=S),y!=null&&(y[0]=Ne),0):V}function Ia(a,l,d){var m=l.width,y=l.height,N=0,S=0,k=m,_=y;if(l.Da=a!=null&&0<a.Da,l.Da&&(k=a.cd,_=a.bd,N=a.v,S=a.j,11>d||(N&=-2,S&=-2),0>N||0>S||0>=k||0>=_||N+k>m||S+_>y))return 0;if(l.v=N,l.j=S,l.va=N+k,l.o=S+_,l.U=k,l.T=_,l.da=a!=null&&0<a.da,l.da){if(!qe(k,_,d=[a.ib],N=[a.hb]))return 0;l.ib=d[0],l.hb=N[0]}return l.ob=a!=null&&a.ob,l.Kb=a==null||!a.Sd,l.da&&(l.ob=l.ib<3*m/4&&l.hb<3*y/4,l.Kb=0),1}function Da(a){if(a==null)return 2;if(11>a.S){var l=a.f.RGBA;l.fb+=(a.height-1)*l.A,l.A=-l.A}else l=a.f.kb,a=a.height,l.O+=(a-1)*l.fa,l.fa=-l.fa,l.N+=(a-1>>1)*l.Ab,l.Ab=-l.Ab,l.W+=(a-1>>1)*l.Db,l.Db=-l.Db,l.F!=null&&(l.J+=(a-1)*l.lb,l.lb=-l.lb);return 0}function Gi(a,l,d,m){if(m==null||0>=a||0>=l)return 2;if(d!=null){if(d.Da){var y=d.cd,N=d.bd,S=-2&d.v,k=-2&d.j;if(0>S||0>k||0>=y||0>=N||S+y>a||k+N>l)return 2;a=y,l=N}if(d.da){if(!qe(a,l,y=[d.ib],N=[d.hb]))return 2;a=y[0],l=N[0]}}m.width=a,m.height=l;e:{var _=m.width,D=m.height;if(a=m.S,0>=_||0>=D||!(a>=Eo&&13>a))a=2;else{if(0>=m.Rd&&m.sd==null){S=N=y=l=0;var $=(k=_*Cu[a])*D;if(11>a||(N=(D+1)/2*(l=(_+1)/2),a==12&&(S=(y=_)*D)),(D=i($+2*N+S))==null){a=1;break e}m.sd=D,11>a?((_=m.f.RGBA).eb=D,_.fb=0,_.A=k,_.size=$):((_=m.f.kb).y=D,_.O=0,_.fa=k,_.Fd=$,_.f=D,_.N=0+$,_.Ab=l,_.Cd=N,_.ea=D,_.W=0+$+N,_.Db=l,_.Ed=N,a==12&&(_.F=D,_.J=0+$+2*N),_.Tc=S,_.lb=y)}if(l=1,y=m.S,N=m.width,S=m.height,y>=Eo&&13>y)if(11>y)a=m.f.RGBA,l&=(k=Math.abs(a.A))*(S-1)+N<=a.size,l&=k>=N*Cu[y],l&=a.eb!=null;else{a=m.f.kb,k=(N+1)/2,$=(S+1)/2,_=Math.abs(a.fa),D=Math.abs(a.Ab);var re=Math.abs(a.Db),ne=Math.abs(a.lb),X=ne*(S-1)+N;l&=_*(S-1)+N<=a.Fd,l&=D*($-1)+k<=a.Cd,l=(l&=re*($-1)+k<=a.Ed)&_>=N&D>=k&re>=k,l&=a.y!=null,l&=a.f!=null,l&=a.ea!=null,y==12&&(l&=ne>=N,l&=X<=a.Tc,l&=a.F!=null)}else l=0;a=l?0:2}}return a!=0||d!=null&&d.fd&&(a=Da(m)),a}var Kt=64,Yi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ji=24,Ki=32,Ta=8,hr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Se("Predictor0","PredictorAdd0"),z.Predictor0=function(){return 4278190080},z.Predictor1=function(a){return a},z.Predictor2=function(a,l,d){return l[d+0]},z.Predictor3=function(a,l,d){return l[d+1]},z.Predictor4=function(a,l,d){return l[d-1]},z.Predictor5=function(a,l,d){return Ee(Ee(a,l[d+1]),l[d+0])},z.Predictor6=function(a,l,d){return Ee(a,l[d-1])},z.Predictor7=function(a,l,d){return Ee(a,l[d+0])},z.Predictor8=function(a,l,d){return Ee(l[d-1],l[d+0])},z.Predictor9=function(a,l,d){return Ee(l[d+0],l[d+1])},z.Predictor10=function(a,l,d){return Ee(Ee(a,l[d-1]),Ee(l[d+0],l[d+1]))},z.Predictor11=function(a,l,d){var m=l[d+0];return 0>=Ge(m>>24&255,a>>24&255,(l=l[d-1])>>24&255)+Ge(m>>16&255,a>>16&255,l>>16&255)+Ge(m>>8&255,a>>8&255,l>>8&255)+Ge(255&m,255&a,255&l)?m:a},z.Predictor12=function(a,l,d){var m=l[d+0];return(ze((a>>24&255)+(m>>24&255)-((l=l[d-1])>>24&255))<<24|ze((a>>16&255)+(m>>16&255)-(l>>16&255))<<16|ze((a>>8&255)+(m>>8&255)-(l>>8&255))<<8|ze((255&a)+(255&m)-(255&l)))>>>0},z.Predictor13=function(a,l,d){var m=l[d-1];return(Je((a=Ee(a,l[d+0]))>>24&255,m>>24&255)<<24|Je(a>>16&255,m>>16&255)<<16|Je(a>>8&255,m>>8&255)<<8|Je(a>>0&255,m>>0&255))>>>0};var Zs=z.PredictorAdd0;z.PredictorAdd1=nt,Se("Predictor2","PredictorAdd2"),Se("Predictor3","PredictorAdd3"),Se("Predictor4","PredictorAdd4"),Se("Predictor5","PredictorAdd5"),Se("Predictor6","PredictorAdd6"),Se("Predictor7","PredictorAdd7"),Se("Predictor8","PredictorAdd8"),Se("Predictor9","PredictorAdd9"),Se("Predictor10","PredictorAdd10"),Se("Predictor11","PredictorAdd11"),Se("Predictor12","PredictorAdd12"),Se("Predictor13","PredictorAdd13");var Ra=z.PredictorAdd2;it("ColorIndexInverseTransform","MapARGB","32b",function(a){return a>>8&255},function(a){return a}),it("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(a){return a},function(a){return a>>8&255});var Po,Lr=z.ColorIndexInverseTransform,Xi=z.MapARGB,ko=z.VP8LColorIndexInverseTransformAlpha,_o=z.MapAlpha,qn=z.VP8LPredictorsAdd=[];qn.length=16,(z.VP8LPredictors=[]).length=16,(z.VP8LPredictorsAdd_C=[]).length=16,(z.VP8LPredictors_C=[]).length=16;var di,dr,sr,zn,wn,xn,Zi,Nn,It,Oa,lr,Pr,Qi,Co,Ma,pi,gi,Un,mi,ea,vi,Hn,Ba,kr,_r,Nt,St,Dt,Wt=i(511),Sn=i(2041),qa=i(225),ta=i(767),Fo=0,Qs=Sn,jo=qa,wr=ta,Cr=Wt,Eo=0,Io=1,bu=2,Do=3,To=4,el=5,yu=6,tl=7,rl=8,Ro=9,nl=10,ah=[2,3,7],oh=[3,3,11],wu=[280,256,256,256,40],sh=[0,1,1,1,0],lh=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],uh=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ch=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],fh=8,il=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],al=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],za=null,hh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],dh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],xu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ph=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],gh=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],mh=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],vh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Wn=[],Hr=[],An=[],bh=1,Nu=2,$n=[],Fr=[];be("UpsampleRgbLinePair",ot,3),be("UpsampleBgrLinePair",Pt,3),be("UpsampleRgbaLinePair",Ur,4),be("UpsampleBgraLinePair",$t,4),be("UpsampleArgbLinePair",er,4),be("UpsampleRgba4444LinePair",qt,2),be("UpsampleRgb565LinePair",Ct,2);var yh=z.UpsampleRgbLinePair,wh=z.UpsampleBgrLinePair,Su=z.UpsampleRgbaLinePair,Au=z.UpsampleBgraLinePair,Lu=z.UpsampleArgbLinePair,Pu=z.UpsampleRgba4444LinePair,xh=z.UpsampleRgb565LinePair,Oo=16,Mo=1<<Oo-1,Ua=-227,ol=482,Nh=6,ku=0,Sh=i(256),Ah=i(256),Lh=i(256),Ph=i(256),kh=i(ol-Ua),_h=i(ol-Ua);on("YuvToRgbRow",ot,3),on("YuvToBgrRow",Pt,3),on("YuvToRgbaRow",Ur,4),on("YuvToBgraRow",$t,4),on("YuvToArgbRow",er,4),on("YuvToRgba4444Row",qt,2),on("YuvToRgb565Row",Ct,2);var _u=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bo=[0,2,8],Ch=[8,7,6,4,4,2,2,2,1,1,1,1],Fh=1;this.WebPDecodeRGBA=function(a,l,d,m,y){var N=Io,S=new Wi,k=new Tr;S.ba=k,k.S=N,k.width=[k.width],k.height=[k.height];var _=k.width,D=k.height,$=new mn;if($==null||a==null)var re=2;else e($!=null),re=Vi(a,l,d,$.width,$.height,$.Pd,$.Qd,$.format,null);if(re!=0?_=0:(_!=null&&(_[0]=$.width[0]),D!=null&&(D[0]=$.height[0]),_=1),_){k.width=k.width[0],k.height=k.height[0],m!=null&&(m[0]=k.width),y!=null&&(y[0]=k.height);e:{if(m=new Oi,(y=new ka).data=a,y.w=l,y.ha=d,y.kd=1,l=[0],e(y!=null),((a=Vi(y.data,y.w,y.ha,null,null,null,l,null,y))==0||a==7)&&l[0]&&(a=4),(l=a)==0){if(e(S!=null),m.data=y.data,m.w=y.w+y.offset,m.ha=y.ha-y.offset,m.put=Zr,m.ac=Jt,m.bc=Qr,m.ma=S,y.xa){if((a=Ar())==null){S=1;break e}if(function(ne,X){var Ne=[0],me=[0],V=[0];t:for(;;){if(ne==null)return 0;if(X==null)return ne.a=2,0;if(ne.l=X,ne.a=0,ee(ne.m,X.data,X.w,X.ha),!$e(ne.m,Ne,me,V)){ne.a=3;break t}if(ne.xb=Nu,X.width=Ne[0],X.height=me[0],!rn(Ne[0],me[0],1,ne,null))break t;return 1}return e(ne.a!=0),0}(a,m)){if(m=(l=Gi(m.width,m.height,S.Oa,S.ba))==0){t:{m=a;r:for(;;){if(m==null){m=0;break t}if(e(m.s.yc!=null),e(m.s.Ya!=null),e(0<m.s.Wb),e((d=m.l)!=null),e((y=d.ma)!=null),m.xb!=0){if(m.ca=y.ba,m.tb=y.tb,e(m.ca!=null),!Ia(y.Oa,d,Do)){m.a=2;break r}if(!li(m,d.width)||d.da)break r;if((d.da||ft(m.ca.S))&&Q(),11>m.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),m.ca.f.kb.F!=null&&Q()),m.Pb&&0<m.s.ua&&m.s.vb.X==null&&!Be(m.s.vb,m.s.Wa.Xa)){m.a=1;break r}m.xb=0}if(!Br(m,m.V,m.Ba,m.c,m.i,d.o,ji))break r;y.Dc=m.Ma,m=1;break t}e(m.a!=0),m=0}m=!m}m&&(l=a.a)}else l=a.a}else{if((a=new Is)==null){S=1;break e}if(a.Fa=y.na,a.P=y.P,a.qc=y.Sa,uo(a,m)){if((l=Gi(m.width,m.height,S.Oa,S.ba))==0){if(a.Aa=0,d=S.Oa,e((y=a)!=null),d!=null){if(0<(_=0>(_=d.Md)?0:100<_?255:255*_/100)){for(D=$=0;4>D;++D)12>(re=y.pb[D]).lc&&(re.ia=_*Ch[0>re.lc?0:re.lc]>>3),$|=re.ia;$&&(alert("todo:VP8InitRandom"),y.ia=1)}y.Ga=d.Id,100<y.Ga?y.Ga=100:0>y.Ga&&(y.Ga=0)}Ds(a,m)||(l=a.a)}}else l=a.a}l==0&&S.Oa!=null&&S.Oa.fd&&(l=Da(S.ba))}S=l}N=S!=0?null:11>N?k.f.RGBA.eb:k.f.kb.y}else N=null;return N};var Cu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(z,ae){for(var pe="",C=0;C<4;C++)pe+=String.fromCharCode(z[ae++]);return pe}function g(z,ae){return(z[ae+0]<<0|z[ae+1]<<8|z[ae+2]<<16)>>>0}function v(z,ae){return(z[ae+0]<<0|z[ae+1]<<8|z[ae+2]<<16|z[ae+3]<<24)>>>0}new c;var b=[0],p=[0],A=[],P=new c,j=t,x=function(z,ae){var pe={},C=0,E=!1,H=0,q=0;if(pe.frames=[],!function(I,B,U,K){for(var ie=0;ie<K;ie++)if(I[B+ie]!=U.charCodeAt(ie))return!0;return!1}(z,ae,"RIFF",4)){for(v(z,ae+=4),ae+=8;ae<z.length;){var ce=h(z,ae),le=v(z,ae+=4);ae+=4;var fe=le+(1&le);switch(ce){case"VP8 ":case"VP8L":pe.frames[C]===void 0&&(pe.frames[C]={}),(ve=pe.frames[C]).src_off=E?q:ae-8,ve.src_size=H+le+8,C++,E&&(E=!1,H=0,q=0);break;case"VP8X":(ve=pe.header={}).feature_flags=z[ae];var ee=ae+4;ve.canvas_width=1+g(z,ee),ee+=3,ve.canvas_height=1+g(z,ee),ee+=3;break;case"ALPH":E=!0,H=fe+8,q=ae-8;break;case"ANIM":(ve=pe.header).bgcolor=v(z,ae),ee=ae+4,ve.loop_count=(Pe=z)[(L=ee)+0]<<0|Pe[L+1]<<8,ee+=2;break;case"ANMF":var he,ve;(ve=pe.frames[C]={}).offset_x=2*g(z,ae),ae+=3,ve.offset_y=2*g(z,ae),ae+=3,ve.width=1+g(z,ae),ae+=3,ve.height=1+g(z,ae),ae+=3,ve.duration=g(z,ae),ae+=3,he=z[ae++],ve.dispose=1&he,ve.blend=he>>1&1}ce!="ANMF"&&(ae+=fe)}var Pe,L;return pe}}(j,0);x.response=j,x.rgbaoutput=!0,x.dataurl=!1;var F=x.header?x.header:null,R=x.frames?x.frames:null;if(F){F.loop_counter=F.loop_count,b=[F.canvas_height],p=[F.canvas_width];for(var G=0;G<R.length&&R[G].blend!=0;G++);}var te=R[0],ue=P.WebPDecodeRGBA(j,te.src_off,te.src_size,p,b);te.rgba=ue,te.imgwidth=p[0],te.imgheight=b[0];for(var Z=0;Z<p[0]*b[0]*4;Z++)A[Z]=ue[Z];return this.width=p,this.height=b,this.data=A,this}(function(t){var e=function(){return typeof $l=="function"},r=function(b,p,A,P){var j=4,x=s;switch(P){case t.image_compression.FAST:j=1,x=i;break;case t.image_compression.MEDIUM:j=6,x=u;break;case t.image_compression.SLOW:j=9,x=c}b=n(b,p,A,x);var F=$l(b,{level:j});return t.__addimage__.arrayBufferToBinaryString(F)},n=function(b,p,A,P){for(var j,x,F,R=b.length/p,G=new Uint8Array(b.length+R),te=g(),ue=0;ue<R;ue+=1){if(F=ue*p,j=b.subarray(F,F+p),P)G.set(P(j,A,x),F+ue);else{for(var Z,z=te.length,ae=[];Z<z;Z+=1)ae[Z]=te[Z](j,A,x);var pe=v(ae.concat());G.set(ae[pe],F+ue)}x=j}return G},o=function(b){var p=Array.apply([],b);return p.unshift(0),p},i=function(b,p){var A,P=[],j=b.length;P[0]=1;for(var x=0;x<j;x+=1)A=b[x-p]||0,P[x+1]=b[x]-A+256&255;return P},s=function(b,p,A){var P,j=[],x=b.length;j[0]=2;for(var F=0;F<x;F+=1)P=A&&A[F]||0,j[F+1]=b[F]-P+256&255;return j},u=function(b,p,A){var P,j,x=[],F=b.length;x[0]=3;for(var R=0;R<F;R+=1)P=b[R-p]||0,j=A&&A[R]||0,x[R+1]=b[R]+256-(P+j>>>1)&255;return x},c=function(b,p,A){var P,j,x,F,R=[],G=b.length;R[0]=4;for(var te=0;te<G;te+=1)P=b[te-p]||0,j=A&&A[te]||0,x=A&&A[te-p]||0,F=h(P,j,x),R[te+1]=b[te]-F+256&255;return R},h=function(b,p,A){if(b===p&&p===A)return b;var P=Math.abs(p-A),j=Math.abs(b-A),x=Math.abs(b+p-A-A);return P<=j&&P<=x?b:j<=x?p:A},g=function(){return[o,i,s,u,c]},v=function(b){var p=b.map(function(A){return A.reduce(function(P,j){return P+Math.abs(j)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(b,p,A,P){var j,x,F,R,G,te,ue,Z,z,ae,pe,C,E,H,q,ce=this.decode.FLATE_DECODE,le="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(F=new Dd(b)).imgData,x=F.bits,j=F.colorSpace,G=F.colors,[4,6].indexOf(F.colorType)!==-1){if(F.bits===8){z=(Z=F.pixelBitlength==32?new Uint32Array(F.decodePixels().buffer):F.pixelBitlength==16?new Uint16Array(F.decodePixels().buffer):new Uint8Array(F.decodePixels().buffer)).length,pe=new Uint8Array(z*F.colors),ae=new Uint8Array(z);var fe,ee=F.pixelBitlength-F.bits;for(H=0,q=0;H<z;H++){for(E=Z[H],fe=0;fe<ee;)pe[q++]=E>>>fe&255,fe+=F.bits;ae[H]=E>>>fe&255}}if(F.bits===16){z=(Z=new Uint32Array(F.decodePixels().buffer)).length,pe=new Uint8Array(z*(32/F.pixelBitlength)*F.colors),ae=new Uint8Array(z*(32/F.pixelBitlength)),C=F.colors>1,H=0,q=0;for(var he=0;H<z;)E=Z[H++],pe[q++]=E>>>0&255,C&&(pe[q++]=E>>>16&255,E=Z[H++],pe[q++]=E>>>0&255),ae[he++]=E>>>16&255;x=8}P!==t.image_compression.NONE&&e()?(b=r(pe,F.width*F.colors,F.colors,P),ue=r(ae,F.width,1,P)):(b=pe,ue=ae,ce=void 0)}if(F.colorType===3&&(j=this.color_spaces.INDEXED,te=F.palette,F.transparency.indexed)){var ve=F.transparency.indexed,Pe=0;for(H=0,z=ve.length;H<z;++H)Pe+=ve[H];if((Pe/=255)===z-1&&ve.indexOf(0)!==-1)R=[ve.indexOf(0)];else if(Pe!==z){for(Z=F.decodePixels(),ae=new Uint8Array(Z.length),H=0,z=Z.length;H<z;H++)ae[H]=ve[Z[H]];ue=r(ae,F.width,1)}}var L=function(I){var B;switch(I){case t.image_compression.FAST:B=11;break;case t.image_compression.MEDIUM:B=13;break;case t.image_compression.SLOW:B=14;break;default:B=12}return B}(P);return ce===this.decode.FLATE_DECODE&&(le="/Predictor "+L+" "),le+="/Colors "+G+" /BitsPerComponent "+x+" /Columns "+F.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(ue&&this.__addimage__.isArrayBuffer(ue)||this.__addimage__.isArrayBufferView(ue))&&(ue=this.__addimage__.arrayBufferToBinaryString(ue)),{alias:A,data:b,index:p,filter:ce,decodeParameters:le,transparency:R,palette:te,sMask:ue,predictor:L,width:F.width,height:F.height,bitsPerComponent:x,colorSpace:j}}}})(We.API),function(t){t.processGIF89A=function(e,r,n,o){var i=new Td(e),s=i.width,u=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:s,height:u},g=new Pl(100).encode(h,100);return t.processJPEG.call(this,g,r,n,o)},t.processGIF87A=t.processGIF89A}(We.API),Vr.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:o,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Vr.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){wt.log("bit decode error:"+r)}},Vr.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,o=0;o<e;o++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*o*4,u=0;u<8&&8*o+u<this.width;u++){var c=this.palette[i>>7-u&1];this.data[s+4*u]=c.blue,this.data[s+4*u+1]=c.green,this.data[s+4*u+2]=c.red,this.data[s+4*u+3]=255}r!==0&&(this.pos+=4-r)}},Vr.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,o=0;o<t;o++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*o*4,u=i>>4,c=15&i,h=this.palette[u];if(this.data[s]=h.blue,this.data[s+1]=h.green,this.data[s+2]=h.red,this.data[s+3]=255,2*o+1>=this.width)break;h=this.palette[c],this.data[s+4]=h.blue,this.data[s+4+1]=h.green,this.data[s+4+2]=h.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Vr.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var o=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(o<this.palette.length){var s=this.palette[o];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Vr.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&e)/e*255|0,u=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,h=i>>15?255:0,g=n*this.width*4+4*o;this.data[g]=c,this.data[g+1]=u,this.data[g+2]=s,this.data[g+3]=h}this.pos+=t}},Vr.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var o=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(s&e)/e*255|0,c=(s>>5&r)/r*255|0,h=(s>>11)/e*255|0,g=o*this.width*4+4*i;this.data[g]=h,this.data[g+1]=c,this.data[g+2]=u,this.data[g+3]=255}this.pos+=t}},Vr.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=i,this.data[s+1]=o,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Vr.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*r;this.data[u]=i,this.data[u+1]=o,this.data[u+2]=n,this.data[u+3]=s}},Vr.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,o){var i=new Vr(e,!1),s=i.width,u=i.height,c={data:i.getData(),width:s,height:u},h=new Pl(100).encode(c,100);return t.processJPEG.call(this,h,r,n,o)}}(We.API),pc.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,o){var i=new pc(e),s=i.width,u=i.height,c={data:i.getData(),width:s,height:u},h=new Pl(100).encode(c,100);return t.processJPEG.call(this,h,r,n,o)}}(We.API),We.API.processRGBA=function(t,e,r){for(var n=t.data,o=n.length,i=new Uint8Array(o/4*3),s=new Uint8Array(o/4),u=0,c=0,h=0;h<o;h+=4){var g=n[h],v=n[h+1],b=n[h+2],p=n[h+3];i[u++]=g,i[u++]=v,i[u++]=b,s[c++]=p}var A=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:A,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},We.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},sa=We.API,Qo=sa.getCharWidthsArray=function(t,e){var r,n,o=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:o.metadata.Unicode.widths,c=u.fof?u.fof:1,h=e.kerning?e.kerning:o.metadata.Unicode.kerning,g=h.fof?h.fof:1,v=e.doKerning!==!1,b=0,p=t.length,A=0,P=u[0]||c,j=[];for(r=0;r<p;r++)n=t.charCodeAt(r),typeof o.metadata.widthOfString=="function"?j.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(b=v&&gt(h[n])==="object"&&!isNaN(parseInt(h[n][A],10))?h[n][A]/g:0,j.push((u[n]||P)/c+b)),A=n;return j},cc=sa.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),o=e.charSpace||this.internal.getCharSpace();return sa.processArabic&&(t=sa.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,o)/r:Qo.apply(this,arguments).reduce(function(i,s){return i+s},0)},fc=function(t,e,r,n){for(var o=[],i=0,s=t.length,u=0;i!==s&&u+e[i]<r;)u+=e[i],i++;o.push(t.slice(0,i));var c=i;for(u=0;i!==s;)u+e[i]>n&&(o.push(t.slice(c,i)),u=0,c=i),u+=e[i],i++;return c!==i&&o.push(t.slice(c,i)),o},hc=function(t,e,r){r||(r={});var n,o,i,s,u,c,h,g=[],v=[g],b=r.textIndent||0,p=0,A=0,P=t.split(" "),j=Qo.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?P[0].length+2:r.lineIndent||0){var x=Array(c).join(" "),F=[];P.map(function(G){(G=G.split(/\s*\n/)).length>1?F=F.concat(G.map(function(te,ue){return(ue&&te.length?`
`:"")+te})):F.push(G[0])}),P=F,c=cc.apply(this,[x,r])}for(i=0,s=P.length;i<s;i++){var R=0;if(n=P[i],c&&n[0]==`
`&&(n=n.substr(1),R=1),b+p+(A=(o=Qo.apply(this,[n,r])).reduce(function(G,te){return G+te},0))>e||R){if(A>e){for(u=fc.apply(this,[n,o,e-(b+p),e]),g.push(u.shift()),g=[u.pop()];u.length;)v.push([u.shift()]);A=o.slice(n.length-(g[0]?g[0].length:0)).reduce(function(G,te){return G+te},0)}else g=[n];v.push(g),b=A+c,p=j}else g.push(n),b+=p+A,p=j}return h=c?function(G,te){return(te?x:"")+G.join(" ")}:function(G){return G.join(" ")},v.map(h)},sa.splitTextToSize=function(t,e,r){var n,o=(r=r||{}).fontSize||this.internal.getFontSize(),i=function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var v=this.internal.getFont(g.fontName,g.fontStyle);return v.metadata.Unicode?{widths:v.metadata.Unicode.widths||{0:1},kerning:v.metadata.Unicode.kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/o;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/o:0,i.lineIndent=r.lineIndent;var u,c,h=[];for(u=0,c=n.length;u<c;u++)h=h.concat(hc.apply(this,[n[u],s,i]));return h},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},o=0;o<e.length;o++)r[e[o]]="0123456789abcdef"[o],n["0123456789abcdef"[o]]=e[o];var i=function(v){return"0x"+parseInt(v,10).toString(16)},s=t.__fontmetrics__.compress=function(v){var b,p,A,P,j=["{"];for(var x in v){if(b=v[x],isNaN(parseInt(x,10))?p="'"+x+"'":(x=parseInt(x,10),p=(p=i(x).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof b=="number")b<0?(A=i(b).slice(3),P="-"):(A=i(b).slice(2),P=""),A=P+A.slice(0,-1)+n[A.slice(-1)];else{if(gt(b)!=="object")throw new Error("Don't know what to do with value type "+gt(b)+".");A=s(b)}j.push(p+A)}return j.push("}"),j.join("")},u=t.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,p,A,P,j={},x=1,F=j,R=[],G="",te="",ue=v.length-1,Z=1;Z<ue;Z+=1)(P=v[Z])=="'"?b?(A=b.join(""),b=void 0):b=[]:b?b.push(P):P=="{"?(R.push([F,A]),F={},A=void 0):P=="}"?((p=R.pop())[0][p[1]]=F,A=void 0,F=p[0]):P=="-"?x=-1:A===void 0?r.hasOwnProperty(P)?(G+=r[P],A=parseInt(G,16)*x,x=1,G=""):G+=P:r.hasOwnProperty(P)?(te+=r[P],F[A]=parseInt(te,16)*x,x=1,A=void 0,te=""):te+=P;return j},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},g={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(v){var b=v.font,p=g.Unicode[b.postScriptName];p&&(b.metadata.Unicode={},b.metadata.Unicode.widths=p.widths,b.metadata.Unicode.kerning=p.kerning);var A=h.Unicode[b.postScriptName];A&&(b.metadata.Unicode.encoding=A,b.encoding=A.codePages[0])}])}(We.API),function(t){var e=function(r){for(var n=r.length,o=new Uint8Array(n),i=0;i<n;i++)o[i]=r.charCodeAt(i);return o};t.API.events.push(["addFont",function(r){var n=void 0,o=r.font,i=r.instance;if(!o.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(n=i.existsFileInVFS(o.postScriptName)===!1?i.loadFile(o.postScriptName):i.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(s,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(Za(u)),s.metadata=t.API.TTFFont.open(u),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(o,n)}}])}(We),function(t){function e(){return(Ve.canvg?Promise.resolve(Ve.canvg):Bl(()=>import("./index.es-CIBaqmlP.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}We.API.addSvgAsImage=function(r,n,o,i,s,u,c,h){if(isNaN(n)||isNaN(o))throw wt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw wt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var g=document.createElement("canvas");g.width=i,g.height=s;var v=g.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,g.width,g.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(A){return A.fromString(v,r,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(b)}).then(function(){p.addImage(g.toDataURL("image/jpeg",1),n,o,i,s,c,h)})}}(),We.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var o=0;o<this.internal.pages[n].length;o++)this.internal.pages[n][o]=this.internal.pages[n][o].replace(e,r);return this},We.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,o,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(s),c=[],h=0,g=0,v=0;function b(A,P){var j,x=!1;for(j=0;j<A.length;j+=1)A[j]===P&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=u.length;for(v=0;v<p;v+=1)r[u[v]].value=r[u[v]].defaultValue,r[u[v]].explicitSet=!1}if(gt(t)==="object"){for(o in t)if(i=t[o],b(u,o)&&i!==void 0){if(r[o].type==="boolean"&&typeof i=="boolean")r[o].value=i;else if(r[o].type==="name"&&b(r[o].valueSet,i))r[o].value=i;else if(r[o].type==="integer"&&Number.isInteger(i))r[o].value=i;else if(r[o].type==="array"){for(h=0;h<i.length;h+=1)if(n=!0,i[h].length===1&&typeof i[h][0]=="number")c.push(String(i[h]-1));else if(i[h].length>1){for(g=0;g<i[h].length;g+=1)typeof i[h][g]!="number"&&(n=!1);n===!0&&c.push([i[h][0]-1,i[h][1]-1].join(" "))}r[o].value="["+c.join(" ")+"]"}else r[o].value=r[o].defaultValue;r[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,P=[];for(A in r)r[A].explicitSet===!0&&(r[A].type==="name"?P.push("/"+A+" /"+r[A].value):P.push("/"+A+" "+r[A].value));P.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+P.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=i.length+s.length+u.length+o.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(o+i+s+u+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,o){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(We.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,s){for(var u,c=s.metadata.Unicode.widths,h=["","0","00","000","0000"],g=[""],v=0,b=i.length;v<b;++v){if(u=s.metadata.characterToGlyph(i.charCodeAt(v)),s.metadata.glyIdsUsed.push(u),s.metadata.toUnicode[u]=i.charCodeAt(v),c.indexOf(u)==-1&&(c.push(u),c.push([parseInt(s.metadata.widthOfGlyph(u),10)])),u=="0")return g.join("");u=u.toString(16),g.push(h[4-u.length],u)}return g.join("")},n=function(i){var s,u,c,h,g,v,b;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],v=0,b=(u=Object.keys(i).sort(function(p,A){return p-A})).length;v<b;v++)s=u[v],c.length>=100&&(g+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(h=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+h+">"));return c.length&&(g+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),g+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(s){var u=s.font,c=s.out,h=s.newObject,g=s.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="Identity-H"){for(var v=u.metadata.Unicode.widths,b=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),p="",A=0;A<b.length;A++)p+=String.fromCharCode(b[A]);var P=h();g({data:p,addLength1:!0,objectId:P}),c("endobj");var j=h();g({data:n(u.metadata.toUnicode),addLength1:!0,objectId:j}),c("endobj");var x=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+ua(u.fontName)),c("/FontFile2 "+P+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),c("/Flags "+u.metadata.flags),c("/StemV "+u.metadata.stemV),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c(">>"),c("endobj");var F=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+ua(u.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+t.API.PDFObject.convert(v)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+u.encoding+")"),c(">>"),c(">>"),c("endobj"),u.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+j+" 0 R"),c("/BaseFont /"+ua(u.fontName)),c("/Encoding /"+u.encoding),c("/DescendantFonts ["+F+" 0 R]"),c(">>"),c("endobj"),u.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(s){var u=s.font,c=s.out,h=s.newObject,g=s.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var v=u.metadata.rawData,b="",p=0;p<v.length;p++)b+=String.fromCharCode(v[p]);var A=h();g({data:b,addLength1:!0,objectId:A}),c("endobj");var P=h();g({data:n(u.metadata.toUnicode),addLength1:!0,objectId:P}),c("endobj");var j=h();c("<<"),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c("/StemV "+u.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+A+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),c("/FontName /"+ua(u.fontName)),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c(">>"),c("endobj"),u.objectNumber=h();for(var x=0;x<u.metadata.hmtx.widths.length;x++)u.metadata.hmtx.widths[x]=parseInt(u.metadata.hmtx.widths[x]*(1e3/u.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+P+" 0 R/BaseFont/"+ua(u.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),c("endobj"),u.isAlreadyPutted=!0}})(i)}]);var o=function(i){var s,u=i.text||"",c=i.x,h=i.y,g=i.options||{},v=i.mutex||{},b=v.pdfEscape,p=v.activeFontKey,A=v.fonts,P=p,j="",x=0,F="",R=A[P].encoding;if(A[P].encoding!=="Identity-H")return{text:u,x:c,y:h,options:g,mutex:v};for(F=u,P=p,Array.isArray(u)&&(F=u[0]),x=0;x<F.length;x+=1)A[P].metadata.hasOwnProperty("cmap")&&(s=A[P].metadata.cmap.unicode.codeMap[F[x].charCodeAt(0)]),s||F[x].charCodeAt(0)<256&&A[P].metadata.hasOwnProperty("Unicode")?j+=F[x]:j+="";var G="";return parseInt(P.slice(1))<14||R==="WinAnsiEncoding"?G=b(j,P).split("").map(function(te){return te.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(G=r(j,A[P])),v.isHex=!0,{text:G,x:c,y:h,options:g,mutex:v}};e.events.push(["postProcessText",function(i){var s=i.text||"",u=[],c={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var h=0;for(h=0;h<s.length;h+=1)Array.isArray(s[h])&&s[h].length===3?u.push([o(Object.assign({},c,{text:s[h][0]})).text,s[h][1],s[h][2]]):u.push(o(Object.assign({},c,{text:s[h]})).text);i.text=u}else i.text=o(Object.assign({},c,{text:s})).text}])}(We),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(We.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var o,i,s,u,c,h,g,v=e,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},P={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),F=!1,R=0;this.__bidiEngine__={};var G=function(C){var E=C.charCodeAt(),H=E>>8,q=P[H];return q!==void 0?v[256*q+(255&E)]:H===252||H===253?"AL":x.test(H)?"L":H===8?"R":"N"},te=function(C){for(var E,H=0;H<C.length;H++){if((E=G(C.charAt(H)))==="L")return!1;if(E==="R")return!0}return!1},ue=function(C,E,H,q){var ce,le,fe,ee,he=E[q];switch(he){case"L":case"R":F=!1;break;case"N":case"AN":break;case"EN":F&&(he="AN");break;case"AL":F=!0,he="R";break;case"WS":he="N";break;case"CS":q<1||q+1>=E.length||(ce=H[q-1])!=="EN"&&ce!=="AN"||(le=E[q+1])!=="EN"&&le!=="AN"?he="N":F&&(le="AN"),he=le===ce?le:"N";break;case"ES":he=(ce=q>0?H[q-1]:"B")==="EN"&&q+1<E.length&&E[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&H[q-1]==="EN"){he="EN";break}if(F){he="N";break}for(fe=q+1,ee=E.length;fe<ee&&E[fe]==="ET";)fe++;he=fe<ee&&E[fe]==="EN"?"EN":"N";break;case"NSM":if(s&&!u){for(ee=E.length,fe=q+1;fe<ee&&E[fe]==="NSM";)fe++;if(fe<ee){var ve=C[q],Pe=ve>=1425&&ve<=2303||ve===64286;if(ce=E[fe],Pe&&(ce==="R"||ce==="AL")){he="R";break}}}he=q<1||(ce=E[q-1])==="B"?"N":H[q-1];break;case"B":F=!1,o=!0,he=R;break;case"S":i=!0,he="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":F=!1;break;case"BN":he="N"}return he},Z=function(C,E,H){var q=C.split("");return H&&z(q,H,{hiLevel:R}),q.reverse(),E&&E.reverse(),q.join("")},z=function(C,E,H){var q,ce,le,fe,ee,he=-1,ve=C.length,Pe=0,L=[],I=R?p:b,B=[];for(F=!1,o=!1,i=!1,ce=0;ce<ve;ce++)B[ce]=G(C[ce]);for(le=0;le<ve;le++){if(ee=Pe,L[le]=ue(C,B,L,le),q=240&(Pe=I[ee][A[L[le]]]),Pe&=15,E[le]=fe=I[Pe][5],q>0)if(q===16){for(ce=he;ce<le;ce++)E[ce]=1;he=-1}else he=-1;if(I[Pe][6])he===-1&&(he=le);else if(he>-1){for(ce=he;ce<le;ce++)E[ce]=fe;he=-1}B[le]==="B"&&(E[le]=0),H.hiLevel|=fe}i&&function(U,K,ie){for(var oe=0;oe<ie;oe++)if(U[oe]==="S"){K[oe]=R;for(var O=oe-1;O>=0&&U[O]==="WS";O--)K[O]=R}}(B,E,ve)},ae=function(C,E,H,q,ce){if(!(ce.hiLevel<C)){if(C===1&&R===1&&!o)return E.reverse(),void(H&&H.reverse());for(var le,fe,ee,he,ve=E.length,Pe=0;Pe<ve;){if(q[Pe]>=C){for(ee=Pe+1;ee<ve&&q[ee]>=C;)ee++;for(he=Pe,fe=ee-1;he<fe;he++,fe--)le=E[he],E[he]=E[fe],E[fe]=le,H&&(le=H[he],H[he]=H[fe],H[fe]=le);Pe=ee}Pe++}}},pe=function(C,E,H){var q=C.split(""),ce={hiLevel:R};return H||(H=[]),z(q,H,ce),function(le,fe,ee){if(ee.hiLevel!==0&&g)for(var he,ve=0;ve<le.length;ve++)fe[ve]===1&&(he=j.indexOf(le[ve]))>=0&&(le[ve]=j[he+1])}(q,H,ce),ae(2,q,E,H,ce),ae(1,q,E,H,ce),q.join("")};return this.__bidiEngine__.doBidiReorder=function(C,E,H){if(function(ce,le){if(le)for(var fe=0;fe<ce.length;fe++)le[fe]=fe;u===void 0&&(u=te(ce)),h===void 0&&(h=te(ce))}(C,E),s||!c||h)if(s&&c&&u^h)R=u?1:0,C=Z(C,E,H);else if(!s&&c&&h)R=u?1:0,C=pe(C,E,H),C=Z(C,E);else if(!s||u||c||h){if(s&&!c&&u^h)C=Z(C,E),u?(R=0,C=pe(C,E,H)):(R=1,C=pe(C,E,H),C=Z(C,E));else if(s&&u&&!c&&h)R=1,C=pe(C,E,H),C=Z(C,E);else if(!s&&!c&&u^h){var q=g;u?(R=1,C=pe(C,E,H),R=0,g=!1,C=pe(C,E,H),g=q):(R=0,C=pe(C,E,H),C=Z(C,E),R=1,g=!1,C=pe(C,E,H),g=q,C=Z(C,E))}}else R=0,C=pe(C,E,H);else R=u?1:0,C=pe(C,E,H);return C},this.__bidiEngine__.setOptions=function(C){C&&(s=C.isInputVisual,c=C.isOutputVisual,u=C.isInputRtl,h=C.isOutputRtl,g=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var o=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(o)==="[object Array]"){var u=0;for(s=[],u=0;u<o.length;u+=1)Object.prototype.toString.call(o[u])==="[object Array]"?s.push([r.doBidiReorder(o[u][0]),o[u][1],o[u][2]]):s.push([r.doBidiReorder(o[u])]);n.text=s}else n.text=r.doBidiReorder(o);r.setOptions({isInputVisual:!0})}])}(We),We.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new ai(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Kd(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Rd(this.contents),this.head=new Md(this),this.name=new Hd(this),this.cmap=new sf(this),this.toUnicode={},this.hhea=new Bd(this),this.maxp=new Wd(this),this.hmtx=new $d(this),this.post=new zd(this),this.os2=new qd(this),this.loca=new Jd(this),this.glyf=new Vd(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,o,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,u,c,h;for(h=[],s=0,u=(c=this.bbox).length;s<u;s++)e=c[s],h.push(Math.round(e*this.scaleFactor));return h}.call(this),this.stemV=0,this.post.exists?(n=255&(o=this.post.italic_angle),(32768&(r=o>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var o,i,s,u;for(s=0,i=0,u=(e=""+e).length;0<=u?i<u:i>u;i=0<=u?++i:--i)o=e.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(o))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Kr,ai=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,o;for(o=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)o.push(this.writeByte(e.charCodeAt(r)));return o},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,o,i,s,u,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),o=this.readByte(),i=this.readByte(),s=this.readByte(),u=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^o)+16777216*(255^i)+65536*(255^s)+256*(255^u)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*o+16777216*i+65536*s+256*u+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,o,i;for(i=[],n=0,o=e.length;n<o;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),Rd=function(){var t;function e(r){var n,o,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},o=0,i=this.tableCount;0<=i?o<i:o>i;o=0<=i?++o:--o)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,o,i,s,u,c,h,g,v,b,p,A,P;for(P in p=Object.keys(r).length,c=Math.log(2),v=16*Math.floor(Math.log(p)/c),s=Math.floor(v/c),g=16*p-v,(o=new ai).writeInt(this.scalarType),o.writeShort(p),o.writeShort(v),o.writeShort(s),o.writeShort(g),i=16*p,h=o.pos+i,u=null,A=[],r)for(b=r[P],o.writeString(P),o.writeInt(t(b)),o.writeInt(h),o.writeInt(b.length),A=A.concat(b),P==="head"&&(u=h),h+=b.length;h%4;)A.push(0),h++;return o.write(A),n=2981146554-t(o.data),o.pos=u+8,o.writeUInt32(n),o.data},t=function(r){var n,o,i,s;for(r=lf.call(r);r.length%4;)r.push(0);for(i=new ai(r),o=0,n=0,s=r.length;n<s;n=n+=4)o+=i.readUInt32();return 4294967295&o},e}(),Od={}.hasOwnProperty,pn=function(t,e){for(var r in e)Od.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Kr=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Md=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return pn(e,Kr),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new ai).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),gc=function(){function t(e,r){var n,o,i,s,u,c,h,g,v,b,p,A,P,j,x,F,R;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),v=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),b=p/2,e.pos+=6,i=function(){var G,te;for(te=[],c=G=0;0<=b?G<b:G>b;c=0<=b?++G:--G)te.push(e.readUInt16());return te}(),e.pos+=2,P=function(){var G,te;for(te=[],c=G=0;0<=b?G<b:G>b;c=0<=b?++G:--G)te.push(e.readUInt16());return te}(),h=function(){var G,te;for(te=[],c=G=0;0<=b?G<b:G>b;c=0<=b?++G:--G)te.push(e.readUInt16());return te}(),g=function(){var G,te;for(te=[],c=G=0;0<=b?G<b:G>b;c=0<=b?++G:--G)te.push(e.readUInt16());return te}(),o=(this.length-e.pos+this.offset)/2,u=function(){var G,te;for(te=[],c=G=0;0<=o?G<o:G>o;c=0<=o?++G:--G)te.push(e.readUInt16());return te}(),c=x=0,R=i.length;x<R;c=++x)for(j=i[c],n=F=A=P[c];A<=j?F<=j:F>=j;n=A<=j?++F:--F)g[c]===0?s=n+h[c]:(s=u[g[c]/2+(n-A)-(b-c)]||0)!==0&&(s+=h[c]),this.codeMap[n]=65535&s}e.pos=v}return t.encode=function(e,r){var n,o,i,s,u,c,h,g,v,b,p,A,P,j,x,F,R,G,te,ue,Z,z,ae,pe,C,E,H,q,ce,le,fe,ee,he,ve,Pe,L,I,B,U,K,ie,oe,O,ge,we,_e;switch(q=new ai,s=Object.keys(e).sort(function(Ce,Be){return Ce-Be}),r){case"macroman":for(P=0,j=function(){var Ce=[];for(A=0;A<256;++A)Ce.push(0);return Ce}(),F={0:0},i={},ce=0,he=s.length;ce<he;ce++)F[O=e[o=s[ce]]]==null&&(F[O]=++P),i[o]={old:e[o],new:F[e[o]]},j[o]=F[e[o]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(j),{charMap:i,subtable:q.data,maxGlyphID:P+1};case"unicode":for(E=[],v=[],R=0,F={},n={},x=h=null,le=0,ve=s.length;le<ve;le++)F[te=e[o=s[le]]]==null&&(F[te]=++R),n[o]={old:te,new:F[te]},u=F[te]-o,x!=null&&u===h||(x&&v.push(x),E.push(o),h=u),x=o;for(x&&v.push(x),v.push(65535),E.push(65535),pe=2*(ae=E.length),z=2*Math.pow(Math.log(ae)/Math.LN2,2),b=Math.log(z/2)/Math.LN2,Z=2*ae-z,c=[],ue=[],p=[],A=fe=0,Pe=E.length;fe<Pe;A=++fe){if(C=E[A],g=v[A],C===65535){c.push(0),ue.push(0);break}if(C-(H=n[C].new)>=32768)for(c.push(0),ue.push(2*(p.length+ae-A)),o=ee=C;C<=g?ee<=g:ee>=g;o=C<=g?++ee:--ee)p.push(n[o].new);else c.push(H-C),ue.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*ae+2*p.length),q.writeUInt16(0),q.writeUInt16(pe),q.writeUInt16(z),q.writeUInt16(b),q.writeUInt16(Z),ie=0,L=v.length;ie<L;ie++)o=v[ie],q.writeUInt16(o);for(q.writeUInt16(0),oe=0,I=E.length;oe<I;oe++)o=E[oe],q.writeUInt16(o);for(ge=0,B=c.length;ge<B;ge++)u=c[ge],q.writeUInt16(u);for(we=0,U=ue.length;we<U;we++)G=ue[we],q.writeUInt16(G);for(_e=0,K=p.length;_e<K;_e++)P=p[_e],q.writeUInt16(P);return{charMap:n,subtable:q.data,maxGlyphID:R+1}}},t}(),sf=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return pn(e,Kr),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,o,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)n=new gc(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var o,i;return n==null&&(n="macroman"),o=gc.encode(r,n),(i=new ai).writeUInt16(0),i.writeUInt16(1),o.table=i.data.concat(o.subtable),o},e}(),Bd=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return pn(e,Kr),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),qd=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return pn(e,Kr),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,o;for(o=[],n=0;n<10;++n)o.push(r.readByte());return o}(),this.charRange=function(){var n,o;for(o=[],n=0;n<4;++n)o.push(r.readInt());return o}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,o;for(o=[],n=0;n<2;n=++n)o.push(r.readInt());return o}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),zd=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return pn(e,Kr),e.prototype.tag="post",e.prototype.parse=function(r){var n,o,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(o=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=o?s<o:s>o;s=0<=o?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return o=r.readUInt16(),this.offsets=r.read(o);case 196608:break;case 262144:return this.map=function(){var u,c,h;for(h=[],s=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;s=0<=c?++u:--u)h.push(r.readUInt32());return h}.call(this)}},e}(),Ud=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Hd=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return pn(e,Kr),e.prototype.tag="name",e.prototype.parse=function(r){var n,o,i,s,u,c,h,g,v,b,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),o=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)o.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(h={},s=v=0,b=o.length;v<b;s=++v)i=o[s],r.pos=i.offset,g=r.readString(i.length),u=new Ud(g,i),h[p=i.nameID]==null&&(h[p]=[]),h[i.nameID].push(u);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),Wd=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return pn(e,Kr),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),$d=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return pn(e,Kr),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,o,i,s,u,c,h;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var g,v;for(v=[],n=g=0;0<=i?g<i:g>i;n=0<=i?++g:--g)v.push(r.readInt16());return v}(),this.widths=function(){var g,v,b,p;for(p=[],g=0,v=(b=this.metrics).length;g<v;g++)s=b[g],p.push(s.advance);return p}.call(this),o=this.widths[this.widths.length-1],h=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)h.push(this.widths.push(o));return h},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),lf=[].slice,Vd=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return pn(e,Kr),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,o,i,s,u,c,h,g,v,b;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,o=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+o,u=(c=new ai(n.read(i))).readShort(),g=c.readShort(),b=c.readShort(),h=c.readShort(),v=c.readShort(),this.cache[r]=u===-1?new Yd(c,g,b,h,v):new Gd(c,u,g,b,h,v),this.cache[r]))},e.prototype.encode=function(r,n,o){var i,s,u,c,h;for(u=[],s=[],c=0,h=n.length;c<h;c++)i=r[n[c]],s.push(u.length),i&&(u=u.concat(i.encode(o)));return s.push(u.length),{table:u,offsets:s}},e}(),Gd=function(){function t(e,r,n,o,i,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=o,this.xMax=i,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Yd=function(){function t(e,r,n,o,i){var s,u;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=o,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;u=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&u;)s.pos+=1&u?4:2,128&u?s.pos+=8:64&u?s.pos+=4:8&u&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new ai(lf.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),Jd=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return pn(e,Kr),e.prototype.tag="loca",e.prototype.parse=function(r){var n,o;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?function(){var i,s;for(s=[],o=0,i=this.length;o<i;o+=2)s.push(2*r.readUInt16());return s}.call(this):function(){var i,s;for(s=[],o=0,i=this.length;o<i;o+=4)s.push(r.readUInt32());return s}.call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var o=new Uint32Array(this.offsets.length),i=0,s=0,u=0;u<o.length;++u)if(o[u]=i,s<n.length&&n[s]==u){++s,o[u]=i;var c=this.offsets[u],h=this.offsets[u+1]-c;h>0&&(i+=h)}for(var g=new Array(4*o.length),v=0;v<o.length;++v)g[4*v+3]=255&o[v],g[4*v+2]=(65280&o[v])>>8,g[4*v+1]=(16711680&o[v])>>16,g[4*v]=(4278190080&o[v])>>24;return g},e}(),Kd=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,o,i;for(r in o=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=o[n];return e},t.prototype.glyphsFor=function(e){var r,n,o,i,s,u,c;for(o={},s=0,u=e.length;s<u;s++)o[i=e[s]]=this.font.glyf.glyphFor(i);for(i in r=[],o)(n=o[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],o[i]=n;return o},t.prototype.encode=function(e,r){var n,o,i,s,u,c,h,g,v,b,p,A,P,j,x;for(o in n=sf.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),p={0:0},x=n.charMap)p[(c=x[o]).old]=c.new;for(A in b=n.maxGlyphID,s)A in p||(p[A]=b++);return g=function(F){var R,G;for(R in G={},F)G[F[R]]=R;return G}(p),v=Object.keys(g).sort(function(F,R){return F-R}),P=function(){var F,R,G;for(G=[],F=0,R=v.length;F<R;F++)u=v[F],G.push(g[u]);return G}(),i=this.font.glyf.encode(s,P,p),h=this.font.loca.encode(i.offsets,P),j={cmap:this.font.cmap.raw(),glyf:i.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},t}();We.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,o,i,s;if(Array.isArray(r))return"["+function(){var u,c,h;for(h=[],u=0,c=r.length;u<c;u++)n=r[u],h.push(e.convert(n));return h}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(o in i=["<<"],r)s=r[o],i.push("/"+o+" "+e.convert(s));return i.push(">>"),i.join(`
`)}return""+r},e}();function uf(t,e,r,n,o){n=n||{};var i=1.15,s=o.internal.scaleFactor,u=o.internal.getFontSize()/s,c=o.getLineHeightFactor?o.getLineHeightFactor():i,h=u*c,g=/\r\n|\r|\n/g,v="",b=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(v=typeof t=="string"?t.split(g):t,b=v.length||1),r+=u*(2-i),n.valign==="middle"?r-=b/2*h:n.valign==="bottom"&&(r-=b*h),n.halign==="center"||n.halign==="right"){var p=u;if(n.halign==="center"&&(p*=.5),v&&b>=1){for(var A=0;A<v.length;A++)o.text(v[A],e-o.getStringUnitWidth(v[A])*p,r),r+=h;return o}e-=o.getStringUnitWidth(t)*p}return n.halign==="justify"?o.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):o.text(t,e,r),o}var mc={},ga=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:mc=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,o,i;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),u=s.fontStyle,c=s.fontName;if(e.font&&(c=e.font),e.fontStyle){u=e.fontStyle;var h=this.getFontList()[c];h&&h.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),u=h[0])}if(this.jsPDFDocument.setFont(c,u),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var g=t.unifyColor(e.fillColor);g&&(n=this.jsPDFDocument).setFillColor.apply(n,g),g=t.unifyColor(e.textColor),g&&(o=this.jsPDFDocument).setTextColor.apply(o,g),g=t.unifyColor(e.lineColor),g&&(i=this.jsPDFDocument).setDrawColor.apply(i,g),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,o,i){return this.jsPDFDocument.rect(e,r,n,o,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return mc||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),Zl=function(t,e){return Zl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Zl(t,e)};function cf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Zl(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ff=function(t){cf(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function Xd(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Zd(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function cs(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],o=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return o}function hf(t,e,r,n){var o=e.settings.tableLineWidth,i=e.settings.tableLineColor;t.applyStyles({lineWidth:o,lineColor:i});var s=df(o,!1);s&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,s)}function df(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function bs(t,e){var r,n,o,i;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(o=t.right)!==null&&o!==void 0?o:e,bottom:(i=t.bottom)!==null&&i!==void 0?i:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function pf(t,e){var r=bs(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function Qd(t,e,r,n,o){var i={},s=1.3333333333333333,u=kl(e,function(R){return o.getComputedStyle(R).backgroundColor});u!=null&&(i.fillColor=u);var c=kl(e,function(R){return o.getComputedStyle(R).color});c!=null&&(i.textColor=c);var h=t1(n,r);h&&(i.cellPadding=h);var g="borderTopColor",v=s*r,b=n.borderTopWidth;if(n.borderBottomWidth===b&&n.borderRightWidth===b&&n.borderLeftWidth===b){var p=(parseFloat(b)||0)/v;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/v,right:(parseFloat(n.borderRightWidth)||0)/v,bottom:(parseFloat(n.borderBottomWidth)||0)/v,left:(parseFloat(n.borderLeftWidth)||0)/v},i.lineWidth.top||(i.lineWidth.right?g="borderRightColor":i.lineWidth.bottom?g="borderBottomColor":i.lineWidth.left&&(g="borderLeftColor"));var A=kl(e,function(R){return o.getComputedStyle(R)[g]});A!=null&&(i.lineColor=A);var P=["left","right","center","justify"];P.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),P=["middle","bottom","top"],P.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var j=parseInt(n.fontSize||"");isNaN(j)||(i.fontSize=j/s);var x=e1(n);x&&(i.fontStyle=x);var F=(n.fontFamily||"").toLowerCase();return t.indexOf(F)!==-1&&(i.font=F),i}function e1(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function kl(t,e){var r=gf(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var o=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(o[0])||isNaN(o[1])||isNaN(o[2])?null:o}function gf(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:gf(t.parentElement,e):r}function t1(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),o=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,i=r.map(function(u){return parseInt(u||"0")/n}),s=bs(i,0);return o>s.top&&(s.top=o),o>s.bottom&&(s.bottom=o),s}function mf(t,e,r,n,o){var i,s;n===void 0&&(n=!1),o===void 0&&(o=!1);var u;typeof e=="string"?u=r.document.querySelector(e):u=e;var c=Object.keys(t.getFontList()),h=t.scaleFactor(),g=[],v=[],b=[];if(!u)return console.error("Html table could not be found with input: ",e),{head:g,body:v,foot:b};for(var p=0;p<u.rows.length;p++){var A=u.rows[p],P=(s=(i=A?.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),j=r1(c,h,r,A,n,o);j&&(P==="thead"?g.push(j):P==="tfoot"?b.push(j):v.push(j))}return{head:g,body:v,foot:b}}function r1(t,e,r,n,o,i){for(var s=new ff(n),u=0;u<n.cells.length;u++){var c=n.cells[u],h=r.getComputedStyle(c);if(o||h.display!=="none"){var g=void 0;i&&(g=Qd(t,c,e,h,r)),s.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:g,_element:c,content:n1(c)})}}var v=r.getComputedStyle(n);if(s.length>0&&(o||v.display!=="none"))return s}function n1(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function i1(t,e,r){for(var n=0,o=[t,e,r];n<o.length;n++){var i=o[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Fn(t,e,r,n,o){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),s=1;s<arguments.length;s++){var u=arguments[s];if(u!=null)for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(i[c]=u[c])}return i}function vf(t,e){var r=new ga(t),n=r.getDocumentOptions(),o=r.getGlobalOptions();i1(o,n,e);var i=Fn({},o,n,e),s;typeof window<"u"&&(s=window);var u=a1(o,n,e),c=o1(o,n,e),h=s1(r,i),g=u1(r,i,s);return{id:e.tableId,content:g,hooks:c,styles:u,settings:h}}function a1(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},o=function(c){if(c==="columnStyles"){var h=t[c],g=e[c],v=r[c];n.columnStyles=Fn({},h,g,v)}else{var b=[t,e,r],p=b.map(function(A){return A[c]||{}});n[c]=Fn({},p[0],p[1],p[2])}},i=0,s=Object.keys(n);i<s.length;i++){var u=s[i];o(u)}return n}function o1(t,e,r){for(var n=[t,e,r],o={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var u=s[i];u.didParseCell&&o.didParseCell.push(u.didParseCell),u.willDrawCell&&o.willDrawCell.push(u.willDrawCell),u.didDrawCell&&o.didDrawCell.push(u.didDrawCell),u.willDrawPage&&o.willDrawPage.push(u.willDrawPage),u.didDrawPage&&o.didDrawPage.push(u.didDrawPage)}return o}function s1(t,e){var r,n,o,i,s,u,c,h,g,v,b,p,A=bs(e.margin,40/t.scaleFactor()),P=(r=l1(t,e.startY))!==null&&r!==void 0?r:A.top,j;e.showFoot===!0?j="everyPage":e.showFoot===!1?j="never":j=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var x;e.showHead===!0?x="everyPage":e.showHead===!1?x="never":x=(o=e.showHead)!==null&&o!==void 0?o:"everyPage";var F=(i=e.useCss)!==null&&i!==void 0?i:!1,R=e.theme||(F?"plain":"striped"),G=!!e.horizontalPageBreak,te=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(u=e.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:F,theme:R,startY:P,margin:A,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(h=e.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(g=e.tableWidth)!==null&&g!==void 0?g:"auto",showHead:x,showFoot:j,tableLineWidth:(v=e.tableLineWidth)!==null&&v!==void 0?v:0,tableLineColor:(b=e.tableLineColor)!==null&&b!==void 0?b:200,horizontalPageBreak:G,horizontalPageBreakRepeat:te,horizontalPageBreakBehaviour:(p=e.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function l1(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),o=t.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===o}return typeof e=="number"?e:(e==null||e===!1)&&i&&r?.finalY!=null?r.finalY+20/n:null}function u1(t,e,r){var n=e.head||[],o=e.body||[],i=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(r){var u=mf(t,e.html,r,s,e.useCss)||{};n=u.head||n,o=u.body||n,i=u.foot||n}else console.error("Cannot parse html in non browser environment")}var c=e.columns||c1(n,o,i);return{columns:c,head:n,body:o,foot:i}}function c1(t,e,r){var n=t[0]||e[0]||r[0]||[],o=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,u;Array.isArray(n)?u=n[parseInt(i)]:u=n[i],typeof u=="object"&&!Array.isArray(u)&&(s=u?.colSpan||1);for(var c=0;c<s;c++){var h=void 0;Array.isArray(n)?h=o.length:h=i+(c>0?"_".concat(c):"");var g={dataKey:h};o.push(g)}}),o}var Ql=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),f1=function(t){cf(e,t);function e(r,n,o,i,s,u){var c=t.call(this,r,n,u)||this;return c.cell=o,c.row=i,c.column=s,c.section=i.section,c}return e}(Ql),h1=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,o,i,s){for(var u=0,c=r;u<c.length;u++){var h=c[u],g=new f1(e,this,n,o,i,s),v=h(g)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],v)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,o=this.hooks.didDrawPage;n<o.length;n++){var i=o[n];i(new Ql(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,o=this.hooks.willDrawPage;n<o.length;n++){var i=o[n];i(new Ql(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(o,i){return o+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),bf=function(){function t(e,r,n,o,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof ff&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=o,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,o){var i;return Math.max(n,((i=r.cells[o.index])===null||i===void 0?void 0:i.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var o=r.cells[n.index];return o?o.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(o,i){var s=n.cells[i.index];if(!s)return 0;var u=r.getLineHeight(s.styles.fontSize),c=s.padding("vertical"),h=c+u;return h>o?h:o},0)},t}(),yf=function(){function t(e,r,n){var o;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(o=e.content)!==null&&o!==void 0?o:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",u=/\r\n|\r|\n/g;this.text=s.split(u)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var o=this.width-this.padding("horizontal");n=this.x+o/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,o=this.styles.fontSize/e*r,i=n*o+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=bs(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),d1=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,o=e.allRows();n<o.length;n++){var i=o[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},t}();function p1(t,e){g1(t,e);var r=[],n=0;e.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(e);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var o=e.getWidth(t.pageSize().width)-n;o&&(o=eu(r,o,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),o&&(o=eu(r,o,function(i){return i.minWidth})),o=Math.abs(o),!e.settings.horizontalPageBreak&&o>.1/t.scaleFactor()&&(o=o<1?o:Math.round(o),console.warn("Of the table content, ".concat(o," units width could not fit page"))),v1(e),b1(e,t),m1(e)}function g1(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,o=pf(t,e);e.allRows().forEach(function(i){for(var s=0,u=e.columns;s<u.length;s++){var c=u[s],h=i.cells[c.index];if(h){var g=e.hooks.didParseCell;e.callCellHooks(t,g,h,i,c,null);var v=h.padding("horizontal");h.contentWidth=cs(h.text,h.styles,t)+v;var b=cs(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,t);if(h.minReadableWidth=b+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||n===!0)h.contentWidth>o?(h.minWidth=o,h.wrappedWidth=o):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var p=10/r;h.minWidth=h.styles.minCellWidth||p,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),e.allRows().forEach(function(i){for(var s=0,u=e.columns;s<u.length;s++){var c=u[s],h=i.cells[c.index];if(h&&h.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,h.wrappedWidth),c.minWidth=Math.max(c.minWidth,h.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,h.minReadableWidth);else{var g=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},v=g.cellWidth||g.minCellWidth;v&&typeof v=="number"&&(c.minWidth=v,c.wrappedWidth=v)}h&&(h.colSpan>1&&!c.minWidth&&(c.minWidth=h.minWidth),h.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=h.minWidth))}})}function eu(t,e,r){for(var n=e,o=t.reduce(function(p,A){return p+A.wrappedWidth},0),i=0;i<t.length;i++){var s=t[i],u=s.wrappedWidth/o,c=n*u,h=s.width+c,g=r(s),v=h<g?g:h;e-=v-s.width,s.width=v}if(e=Math.round(e*1e10)/1e10,e){var b=t.filter(function(p){return e<0?p.width>r(p):!0});b.length&&(e=eu(b,e,r))}return e}function m1(t){for(var e={},r=1,n=t.allRows(),o=0;o<n.length;o++)for(var i=n[o],s=0,u=t.columns;s<u.length;s++){var c=u[s],h=e[c.index];if(r>1)r--,delete i.cells[c.index];else if(h)h.cell.height+=i.height,r=h.cell.colSpan,delete i.cells[c.index],h.left--,h.left<=1&&delete e[c.index];else{var g=i.cells[c.index];if(!g)continue;if(g.height=i.height,g.rowSpan>1){var v=n.length-o,b=g.rowSpan>v?v:g.rowSpan;e[c.index]={cell:g,left:b,row:i}}}}}function v1(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],o=null,i=0,s=0,u=0;u<t.columns.length;u++){var c=t.columns[u];if(s-=1,s>1&&t.columns[u+1])i+=c.width,delete n.cells[c.index];else if(o){var h=o;delete n.cells[c.index],o=null,h.width=c.width+i}else{var h=n.cells[c.index];if(!h)continue;if(s=h.colSpan,i=0,h.colSpan>1){o=h,i+=c.width;continue}h.width=c.width+i}}}function b1(t,e){for(var r={count:0,height:0},n=0,o=t.allRows();n<o.length;n++){for(var i=o[n],s=0,u=t.columns;s<u.length;s++){var c=u[s],h=i.cells[c.index];if(h){e.applyStyles(h.styles,!0);var g=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=e.splitTextToSize(h.text,g+1/e.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=vc(h.text,g,h.styles,e,"...");else if(h.styles.overflow==="hidden")h.text=vc(h.text,g,h.styles,e,"");else if(typeof h.styles.overflow=="function"){var v=h.styles.overflow(h.text,g);typeof v=="string"?h.text=[v]:h.text=v}h.contentHeight=h.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var b=h.contentHeight/h.rowSpan;h.rowSpan>1&&r.count*r.height<b*h.rowSpan?r={height:b,count:h.rowSpan}:r&&r.count>0&&r.height>b&&(b=r.height),b>i.height&&(i.height=b)}}r.count--}}function vc(t,e,r,n,o){return t.map(function(i){return y1(i,e,r,n,o)})}function y1(t,e,r,n,o){var i=1e4*n.scaleFactor();if(e=Math.ceil(e*i)/i,e>=cs(t,r,n))return t;for(;e<cs(t+o,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+o}function wf(t,e){var r=new ga(t),n=w1(e,r.scaleFactor()),o=new h1(e,n);return p1(r,o),r.applyStyles(r.userStyles),o}function w1(t,e){var r=t.content,n=N1(r.columns);if(r.head.length===0){var o=bc(n,"head");o&&r.head.push(o)}if(r.foot.length===0){var o=bc(n,"foot");o&&r.foot.push(o)}var i=t.settings.theme,s=t.styles;return{columns:n,head:_l("head",r.head,n,s,i,e),body:_l("body",r.body,n,s,i,e),foot:_l("foot",r.foot,n,s,i,e)}}function _l(t,e,r,n,o,i){var s={},u=e.map(function(c,h){for(var g=0,v={},b=0,p=0,A=0,P=r;A<P.length;A++){var j=P[A];if(s[j.index]==null||s[j.index].left===0)if(p===0){var x=void 0;Array.isArray(c)?x=c[j.index-b-g]:x=c[j.dataKey];var F={};typeof x=="object"&&!Array.isArray(x)&&(F=x?.styles||{});var R=S1(t,j,h,o,n,i,F),G=new yf(x,R,t);v[j.dataKey]=G,v[j.index]=G,p=G.colSpan-1,s[j.index]={left:G.rowSpan-1,times:p}}else p--,b++;else s[j.index].left--,p=s[j.index].times,g++}return new bf(c,h,t,v)});return u}function bc(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var o=x1(e,n.raw);o!=null&&(r[n.dataKey]=o)}}),Object.keys(r).length>0?r:null}function x1(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function N1(t){return t.map(function(e,r){var n,o;return typeof e=="object"?o=(n=e.dataKey)!==null&&n!==void 0?n:r:o=r,new d1(o,e,r)})}function S1(t,e,r,n,o,i,s){var u=Zd(n),c;t==="head"?c=o.headStyles:t==="body"?c=o.bodyStyles:t==="foot"&&(c=o.footStyles);var h=Fn({},u.table,u[t],o.styles,c),g=o.columnStyles[e.dataKey]||o.columnStyles[e.index]||{},v=t==="body"?g:{},b=t==="body"&&r%2===0?Fn({},u.alternateRow,o.alternateRowStyles):{},p=Xd(i),A=Fn({},p,h,b,v);return Fn(A,s)}function A1(t,e,r){var n;r===void 0&&(r={});var o=pf(t,e),i=new Map,s=[],u=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(b){var p=e.columns.find(function(A){return A.dataKey===b||A.index===b});p&&!i.has(p.index)&&(i.set(p.index,!0),s.push(p.index),u.push(e.columns[p.index]),o-=p.wrappedWidth)});for(var h=!0,g=(n=r?.start)!==null&&n!==void 0?n:0;g<e.columns.length;){if(i.has(g)){g++;continue}var v=e.columns[g].wrappedWidth;if(h||o>=v)h=!1,s.push(g),u.push(e.columns[g]),o-=v;else break;g++}return{colIndexes:s,columns:u,lastIndex:g-1}}function L1(t,e){for(var r=[],n=0;n<e.columns.length;n++){var o=A1(t,e,{start:n});o.columns.length&&(r.push(o),n=o.lastIndex)}return r}function xf(t,e){var r=e.settings,n=r.startY,o=r.margin,i={x:o.left,y:n},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),u=n+o.bottom+s;if(r.pageBreak==="avoid"){var c=e.body,h=c.reduce(function(b,p){return b+p.height},0);u+=h}var g=new ga(t);(r.pageBreak==="always"||r.startY!=null&&u>g.pageSize().height)&&(Sf(g),i.y=o.top),e.callWillDrawPageHooks(g,i);var v=Fn({},i);e.startPageNumber=g.pageNumber(),r.horizontalPageBreak?P1(g,e,v,i):(g.applyStyles(g.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(b){return In(g,e,b,i,e.columns)}),g.applyStyles(g.userStyles),e.body.forEach(function(b,p){var A=p===e.body.length-1;fs(g,e,b,A,v,i,e.columns)}),g.applyStyles(g.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(b){return In(g,e,b,i,e.columns)})),hf(g,e,v,i),e.callEndPageHooks(g,i),e.finalY=i.y,t.lastAutoTable=e,g.applyStyles(g.userStyles)}function P1(t,e,r,n){var o=L1(t,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")o.forEach(function(h,g){t.applyStyles(t.userStyles),g>0?Qa(t,e,r,n,h.columns,!0):yc(t,e,n,h.columns),k1(t,e,r,n,h.columns),Cl(t,e,n,h.columns)});else for(var s=-1,u=o[0],c=function(){var h=s;if(u){t.applyStyles(t.userStyles);var g=u.columns;s>=0?Qa(t,e,r,n,g,!0):yc(t,e,n,g),h=wc(t,e,s+1,n,g),Cl(t,e,n,g)}var v=h-s;o.slice(1).forEach(function(b){t.applyStyles(t.userStyles),Qa(t,e,r,n,b.columns,!0),wc(t,e,s+1,n,b.columns,v),Cl(t,e,n,b.columns)}),s=h};s<e.body.length-1;)c()}function yc(t,e,r,n){var o=e.settings;t.applyStyles(t.userStyles),(o.showHead==="firstPage"||o.showHead==="everyPage")&&e.head.forEach(function(i){return In(t,e,i,r,n)})}function k1(t,e,r,n,o){t.applyStyles(t.userStyles),e.body.forEach(function(i,s){var u=s===e.body.length-1;fs(t,e,i,u,r,n,o)})}function wc(t,e,r,n,o,i){t.applyStyles(t.userStyles),i=i??e.body.length;var s=Math.min(r+i,e.body.length),u=-1;return e.body.slice(r,s).forEach(function(c,h){var g=r+h===e.body.length-1,v=Nf(t,e,g,n);c.canEntireRowFit(v,o)&&(In(t,e,c,n,o),u=r+h)}),u}function Cl(t,e,r,n){var o=e.settings;t.applyStyles(t.userStyles),(o.showFoot==="lastPage"||o.showFoot==="everyPage")&&e.foot.forEach(function(i){return In(t,e,i,r,n)})}function _1(t,e,r){var n=r.getLineHeight(t.styles.fontSize),o=t.padding("vertical"),i=Math.floor((e-o)/n);return Math.max(0,i)}function C1(t,e,r,n){var o={};t.spansMultiplePages=!0,t.height=0;for(var i=0,s=0,u=r.columns;s<u.length;s++){var c=u[s],h=t.cells[c.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var g=new yf(h.raw,h.styles,h.section);g=Fn(g,h),g.text=[];var v=_1(h,e,n);h.text.length>v&&(g.text=h.text.splice(v,h.text.length));var b=n.scaleFactor(),p=n.getLineHeightFactor();h.contentHeight=h.getContentHeight(b,p),h.contentHeight>=e&&(h.contentHeight=e,g.styles.minCellHeight-=e),h.contentHeight>t.height&&(t.height=h.contentHeight),g.contentHeight=g.getContentHeight(b,p),g.contentHeight>i&&(i=g.contentHeight),o[c.index]=g}}var A=new bf(t.raw,-1,t.section,o,!0);A.height=i;for(var P=0,j=r.columns;P<j.length;P++){var c=j[P],g=A.cells[c.index];g&&(g.height=A.height);var h=t.cells[c.index];h&&(h.height=t.height)}return A}function F1(t,e,r,n){var o=t.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,u=o-s;e.section==="body"&&(u-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=e.getMinimumRowHeight(n.columns,t),h=c<r;if(c>u)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var g=e.hasRowSpan(n.columns),v=e.getMaxCellHeight(n.columns)>u;return v?(g&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(g||n.settings.rowPageBreak==="avoid")}function fs(t,e,r,n,o,i,s){var u=Nf(t,e,n,i);if(r.canEntireRowFit(u,s))In(t,e,r,i,s);else if(F1(t,r,u,e)){var c=C1(r,u,e,t);In(t,e,r,i,s),Qa(t,e,o,i,s),fs(t,e,c,n,o,i,s)}else Qa(t,e,o,i,s),fs(t,e,r,n,o,i,s)}function In(t,e,r,n,o){n.x=e.settings.margin.left;for(var i=0,s=o;i<s.length;i++){var u=s[i],c=r.cells[u.index];if(!c){n.x+=u.width;continue}t.applyStyles(c.styles),c.x=n.x,c.y=n.y;var h=e.callCellHooks(t,e.hooks.willDrawCell,c,r,u,n);if(h===!1){n.x+=u.width;continue}j1(t,c,n);var g=c.getTextPos();uf(c.text,g.x,g.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,r,u,n),n.x+=u.width}n.y+=r.height}function j1(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var o=df(n.lineWidth,n.fillColor);o&&t.rect(e.x,r.y,e.width,e.height,o)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),E1(t,e,r,n.lineWidth))}function E1(t,e,r,n){var o,i,s,u;n.top&&(o=r.x,i=r.y,s=r.x+e.width,u=r.y,n.right&&(s+=.5*n.right),n.left&&(o-=.5*n.left),c(n.top,o,i,s,u)),n.bottom&&(o=r.x,i=r.y+e.height,s=r.x+e.width,u=r.y+e.height,n.right&&(s+=.5*n.right),n.left&&(o-=.5*n.left),c(n.bottom,o,i,s,u)),n.left&&(o=r.x,i=r.y,s=r.x,u=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(u+=.5*n.bottom),c(n.left,o,i,s,u)),n.right&&(o=r.x+e.width,i=r.y,s=r.x+e.width,u=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(u+=.5*n.bottom),c(n.right,o,i,s,u));function c(h,g,v,b,p){t.getDocument().setLineWidth(h),t.getDocument().line(g,v,b,p,"S")}}function Nf(t,e,r,n){var o=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(o+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-o}function Qa(t,e,r,n,o,i){o===void 0&&(o=[]),i===void 0&&(i=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(u){return In(t,e,u,n,o)}),e.callEndPageHooks(t,n);var s=e.settings.margin;hf(t,e,r,n),Sf(t),e.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(u){return In(t,e,u,n,o)}),t.applyStyles(t.userStyles))}function Sf(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function I1(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],o=vf(this,n),i=wf(this,o);return xf(this,i),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,o){uf(e,r,n,o,this)},t.API.autoTableSetDefaults=function(e){return ga.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){ga.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var o=new ga(this),i=mf(o,e,window,r,!1),s=i.head,u=i.body,c=((n=s[0])===null||n===void 0?void 0:n.map(function(h){return h.content}))||[];return{columns:c,rows:u,data:u}}}var Fl;function D1(t,e){var r=vf(t,e),n=wf(t,r);xf(t,n)}try{if(typeof window<"u"&&window){var xc=window,Nc=xc.jsPDF||((Fl=xc.jspdf)===null||Fl===void 0?void 0:Fl.jsPDF);Nc&&I1(Nc)}}catch(t){console.error("Could not apply autoTable plugin",t)}function T1({title:t,data:e,onClose:r}){const n=()=>{const o=new We;o.text(t,14,16),o.autoTable({head:[["Data","Descrizione","Categoria","Tasso di Cambio","Importo"]],body:e.map(i=>[new Date(i.date).toLocaleDateString("it-IT"),i.description,i.category.name,`${ql(i.conversionRate,4)} ${i.currency}/EUR`,new Intl.NumberFormat("it-IT",{style:"currency",currency:i.currency}).format(i.amount)]),startY:20}),o.save(`dettaglio-spese-${t.replace(/ /g,"_")}.pdf`)};return J.jsxs("div",{className:"p-4 sm:p-6",children:[J.jsxs("div",{className:"flex items-center justify-between",children:[J.jsx("h2",{className:"text-xl font-bold text-gray-800",children:t}),J.jsxs("div",{className:"flex items-center space-x-4",children:[J.jsx("button",{onClick:n,className:"rounded bg-blue-500 px-4 py-2 font-bold text-white hover:bg-blue-700",children:"Esporta PDF"}),J.jsx("button",{onClick:r,className:"rounded-full p-1 hover:bg-gray-200",children:J.jsx("span",{className:"h-6 w-6 text-gray-600",children:"X"})})]})]}),J.jsx("div",{className:"mt-4 rounded-md border",children:J.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[J.jsx("thead",{children:J.jsxs("tr",{children:[J.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Data"}),J.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Descrizione"}),J.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Categoria"}),J.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Tasso di Cambio"}),J.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"Importo"})]})}),J.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:e.map(o=>J.jsxs("tr",{children:[J.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:new Date(o.date).toLocaleDateString("it-IT")}),J.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:o.description}),J.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:o.category.name}),J.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:J.jsx(qc,{rate:o.conversionRate,fromCurrency:o.currency,toCurrency:"EUR"})}),J.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-right",children:new Intl.NumberFormat("it-IT",{style:"currency",currency:o.currency}).format(o.amount)})]},o.id))})]})})]})}var R1=Object.defineProperty,O1=(t,e,r)=>e in t?R1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,jl=(t,e,r)=>(O1(t,typeof e!="symbol"?e+"":e,r),r);let M1=class{constructor(){jl(this,"current",this.detect()),jl(this,"handoffState","pending"),jl(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ki=new M1;function ys(t){var e,r;return ki.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(r=(e=t.current)==null?void 0:e.ownerDocument)!=null?r:document:null:document}function ws(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Tn(){let t=[],e={addEventListener(r,n,o,i){return r.addEventListener(n,o,i),e.add(()=>r.removeEventListener(n,o,i))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return ws(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,o){let i=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:o}),this.add(()=>{Object.assign(r.style,{[n]:i})})},group(r){let n=Tn();return r(n),this.add(()=>n.dispose())},add(r){return t.includes(r)||t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let o of t.splice(n,1))o()}},dispose(){for(let r of t.splice(0))r()}};return e}function hu(){let[t]=se.useState(Tn);return se.useEffect(()=>()=>t.dispose(),[t]),t}let or=(t,e)=>{ki.isServer?se.useEffect(t,e):se.useLayoutEffect(t,e)};function Fi(t){let e=se.useRef(t);return or(()=>{e.current=t},[t]),e}let xt=function(t){let e=Fi(t);return tt.useCallback((...r)=>e.current(...r),[e])},B1=se.createContext(void 0);function q1(){return se.useContext(B1)}function tu(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Dn(t,e,...r){if(t in e){let o=e[t];return typeof o=="function"?o(...r):o}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Dn),n}var hs=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(hs||{}),ti=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(ti||{});function Ir(){let t=U1();return se.useCallback(e=>z1({mergeRefs:t,...e}),[t])}function z1({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:o,visible:i=!0,name:s,mergeRefs:u}){u=u??H1;let c=Af(e,t);if(i)return es(c,r,n,s,u);let h=o??0;if(h&2){let{static:g=!1,...v}=c;if(g)return es(v,r,n,s,u)}if(h&1){let{unmount:g=!0,...v}=c;return Dn(g?0:1,{0(){return null},1(){return es({...v,hidden:!0,style:{display:"none"}},r,n,s,u)}})}return es(c,r,n,s,u)}function es(t,e={},r,n,o){let{as:i=r,children:s,refName:u="ref",...c}=El(t,["unmount","static"]),h=t.ref!==void 0?{[u]:t.ref}:{},g=typeof s=="function"?s(e):s;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let v={};if(e){let b=!1,p=[];for(let[A,P]of Object.entries(e))typeof P=="boolean"&&(b=!0),P===!0&&p.push(A.replace(/([A-Z])/g,j=>`-${j.toLowerCase()}`));if(b){v["data-headlessui-state"]=p.join(" ");for(let A of p)v[`data-${A}`]=""}}if(i===se.Fragment&&(Object.keys(xi(c)).length>0||Object.keys(xi(v)).length>0))if(!se.isValidElement(g)||Array.isArray(g)&&g.length>1){if(Object.keys(xi(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(xi(c)).concat(Object.keys(xi(v))).map(b=>`  - ${b}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(b=>`  - ${b}`).join(`
`)].join(`
`))}else{let b=g.props,p=b?.className,A=typeof p=="function"?(...x)=>tu(p(...x),c.className):tu(p,c.className),P=A?{className:A}:{},j=Af(g.props,xi(El(c,["ref"])));for(let x in v)x in j&&delete v[x];return se.cloneElement(g,Object.assign({},j,v,h,{ref:o(W1(g),h.ref)},P))}return se.createElement(i,Object.assign({},El(c,["ref"]),i!==se.Fragment&&h,i!==se.Fragment&&v),g)}function U1(){let t=se.useRef([]),e=se.useCallback(r=>{for(let n of t.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return t.current=r,e}}function H1(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function Af(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let o in n)o.startsWith("on")&&typeof n[o]=="function"?(r[o]!=null||(r[o]=[]),r[o].push(n[o])):e[o]=n[o];if(e.disabled||e["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[o=>{var i;return(i=o?.preventDefault)==null?void 0:i.call(o)}]);for(let n in r)Object.assign(e,{[n](o,...i){let s=r[n];for(let u of s){if((o instanceof Event||o?.nativeEvent instanceof Event)&&o.defaultPrevented)return;u(o,...i)}}});return e}function vr(t){var e;return Object.assign(se.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function xi(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function El(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}function W1(t){return tt.version.split(".")[0]>="19"?t.props.ref:t.ref}let $1="span";var ds=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(ds||{});function V1(t,e){var r;let{features:n=1,...o}=t,i={ref:e,"aria-hidden":(n&2)===2?!0:(r=o["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Ir()({ourProps:i,theirProps:o,slot:{},defaultTag:$1,name:"Hidden"})}let ru=vr(V1);function Lf(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function ni(t){return Lf(t)&&"tagName"in t}function _i(t){return ni(t)&&"accessKey"in t}function ri(t){return ni(t)&&"tabIndex"in t}function G1(t){return ni(t)&&"style"in t}function Y1(t){return _i(t)&&t.nodeName==="IFRAME"}function J1(t){return _i(t)&&t.nodeName==="INPUT"}let Pf=Symbol();function K1(t,e=!0){return Object.assign(t,{[Pf]:e})}function gn(...t){let e=se.useRef(t);se.useEffect(()=>{e.current=t},[t]);let r=xt(n=>{for(let o of e.current)o!=null&&(typeof o=="function"?o(n):o.current=n)});return t.every(n=>n==null||n?.[Pf])?void 0:r}let du=se.createContext(null);du.displayName="DescriptionContext";function kf(){let t=se.useContext(du);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,kf),e}return t}function X1(){let[t,e]=se.useState([]);return[t.length>0?t.join(" "):void 0,se.useMemo(()=>function(r){let n=xt(i=>(e(s=>[...s,i]),()=>e(s=>{let u=s.slice(),c=u.indexOf(i);return c!==-1&&u.splice(c,1),u}))),o=se.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return tt.createElement(du.Provider,{value:o},r.children)},[e])]}let Z1="p";function Q1(t,e){let r=se.useId(),n=q1(),{id:o=`headlessui-description-${r}`,...i}=t,s=kf(),u=gn(e);or(()=>s.register(o),[o,s.register]);let c=n||!1,h=se.useMemo(()=>({...s.slot,disabled:c}),[s.slot,c]),g={ref:u,...s.props,id:o};return Ir()({ourProps:g,theirProps:i,slot:h,defaultTag:Z1,name:s.name||"Description"})}let e2=vr(Q1),t2=Object.assign(e2,{});var _f=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(_f||{});let r2=se.createContext(()=>{});function n2({value:t,children:e}){return tt.createElement(r2.Provider,{value:t},e)}let Cf=class extends Map{constructor(e){super(),this.factory=e}get(e){let r=super.get(e);return r===void 0&&(r=this.factory(e),this.set(e,r)),r}};var i2=Object.defineProperty,a2=(t,e,r)=>e in t?i2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,o2=(t,e,r)=>(a2(t,e+"",r),r),Ff=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Er=(t,e,r)=>(Ff(t,e,"read from private field"),r?r.call(t):e.get(t)),Il=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Sc=(t,e,r,n)=>(Ff(t,e,"write to private field"),e.set(t,r),r),un,Ja,Ka;let s2=class{constructor(e){Il(this,un,{}),Il(this,Ja,new Cf(()=>new Set)),Il(this,Ka,new Set),o2(this,"disposables",Tn()),Sc(this,un,e)}dispose(){this.disposables.dispose()}get state(){return Er(this,un)}subscribe(e,r){let n={selector:e,callback:r,current:e(Er(this,un))};return Er(this,Ka).add(n),this.disposables.add(()=>{Er(this,Ka).delete(n)})}on(e,r){return Er(this,Ja).get(e).add(r),this.disposables.add(()=>{Er(this,Ja).get(e).delete(r)})}send(e){let r=this.reduce(Er(this,un),e);if(r!==Er(this,un)){Sc(this,un,r);for(let n of Er(this,Ka)){let o=n.selector(Er(this,un));jf(n.current,o)||(n.current=o,n.callback(o))}for(let n of Er(this,Ja).get(e.type))n(Er(this,un),e)}}};un=new WeakMap,Ja=new WeakMap,Ka=new WeakMap;function jf(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:Dl(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:Dl(t.entries(),e.entries()):Ac(t)&&Ac(e)?Dl(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function Dl(t,e){do{let r=t.next(),n=e.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function Ac(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}var l2=Object.defineProperty,u2=(t,e,r)=>e in t?l2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Lc=(t,e,r)=>(u2(t,typeof e!="symbol"?e+"":e,r),r),c2=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(c2||{});let f2={0(t,e){let r=e.id,n=t.stack,o=t.stack.indexOf(r);if(o!==-1){let i=t.stack.slice();return i.splice(o,1),i.push(r),n=i,{...t,stack:n}}return{...t,stack:[...t.stack,r]}},1(t,e){let r=e.id,n=t.stack.indexOf(r);if(n===-1)return t;let o=t.stack.slice();return o.splice(n,1),{...t,stack:o}}},h2=class Ef extends s2{constructor(){super(...arguments),Lc(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),Lc(this,"selectors",{isTop:(e,r)=>e.stack[e.stack.length-1]===r,inStack:(e,r)=>e.stack.includes(r)})}static new(){return new Ef({stack:[]})}reduce(e,r){return Dn(r.type,f2,e,r)}};const If=new Cf(()=>h2.new());var Tl={exports:{}},Rl={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pc;function d2(){if(Pc)return Rl;Pc=1;var t=Uh();function e(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,o=t.useRef,i=t.useEffect,s=t.useMemo,u=t.useDebugValue;return Rl.useSyncExternalStoreWithSelector=function(c,h,g,v,b){var p=o(null);if(p.current===null){var A={hasValue:!1,value:null};p.current=A}else A=p.current;p=s(function(){function j(te){if(!x){if(x=!0,F=te,te=v(te),b!==void 0&&A.hasValue){var ue=A.value;if(b(ue,te))return R=ue}return R=te}if(ue=R,r(F,te))return ue;var Z=v(te);return b!==void 0&&b(ue,Z)?(F=te,ue):(F=te,R=Z)}var x=!1,F,R,G=g===void 0?null:g;return[function(){return j(h())},G===null?void 0:function(){return j(G())}]},[h,g,v,b]);var P=n(c,p[0],p[1]);return i(function(){A.hasValue=!0,A.value=P},[P]),u(P),P},Rl}var kc;function p2(){return kc||(kc=1,Tl.exports=d2()),Tl.exports}var g2=p2();function Df(t,e,r=jf){return g2.useSyncExternalStoreWithSelector(xt(n=>t.subscribe(m2,n)),xt(()=>t.state),xt(()=>t.state),xt(e),r)}function m2(t){return t}function no(t,e){let r=se.useId(),n=If.get(e),[o,i]=Df(n,se.useCallback(s=>[n.selectors.isTop(s,r),n.selectors.inStack(s,r)],[n,r]));return or(()=>{if(t)return n.actions.push(r),()=>n.actions.pop(r)},[n,t,r]),t?i?o:!0:!1}let nu=new Map,eo=new Map;function _c(t){var e;let r=(e=eo.get(t))!=null?e:0;return eo.set(t,r+1),r!==0?()=>Cc(t):(nu.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>Cc(t))}function Cc(t){var e;let r=(e=eo.get(t))!=null?e:1;if(r===1?eo.delete(t):eo.set(t,r-1),r!==1)return;let n=nu.get(t);n&&(n["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",n["aria-hidden"]),t.inert=n.inert,nu.delete(t))}function v2(t,{allowed:e,disallowed:r}={}){let n=no(t,"inert-others");or(()=>{var o,i;if(!n)return;let s=Tn();for(let c of(o=r?.())!=null?o:[])c&&s.add(_c(c));let u=(i=e?.())!=null?i:[];for(let c of u){if(!c)continue;let h=ys(c);if(!h)continue;let g=c.parentElement;for(;g&&g!==h.body;){for(let v of g.children)u.some(b=>v.contains(b))||s.add(_c(v));g=g.parentElement}}return s.dispose},[n,e,r])}function b2(t,e,r){let n=Fi(o=>{let i=o.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&r()});se.useEffect(()=>{if(!t)return;let o=e===null?null:_i(e)?e:e.current;if(!o)return;let i=Tn();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>n.current(o));s.observe(o),i.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>n.current(o));s.observe(o),i.add(()=>s.disconnect())}return()=>i.dispose()},[e,n,t])}let ps=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),y2=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Cn=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Cn||{}),iu=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(iu||{}),w2=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(w2||{});function x2(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(ps)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function N2(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(y2)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var Tf=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Tf||{});function S2(t,e=0){var r;return t===((r=ys(t))==null?void 0:r.body)?!1:Dn(e,{0(){return t.matches(ps)},1(){let n=t;for(;n!==null;){if(n.matches(ps))return!0;n=n.parentElement}return!1}})}var A2=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(A2||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function En(t){t?.focus({preventScroll:!0})}let L2=["textarea","input"].join(",");function P2(t){var e,r;return(r=(e=t?.matches)==null?void 0:e.call(t,L2))!=null?r:!1}function k2(t,e=r=>r){return t.slice().sort((r,n)=>{let o=e(r),i=e(n);if(o===null||i===null)return 0;let s=o.compareDocumentPosition(i);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function to(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:o=[]}={}){let i=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,s=Array.isArray(t)?r?k2(t):t:e&64?N2(t):x2(t);o.length>0&&s.length>1&&(s=s.filter(p=>!o.some(A=>A!=null&&"current"in A?A?.current===p:A===p))),n=n??i.activeElement;let u=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,s.indexOf(n))-1;if(e&4)return Math.max(0,s.indexOf(n))+1;if(e&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=e&32?{preventScroll:!0}:{},g=0,v=s.length,b;do{if(g>=v||g+v<=0)return 0;let p=c+g;if(e&16)p=(p+v)%v;else{if(p<0)return 3;if(p>=v)return 1}b=s[p],b?.focus(h),g+=u}while(b!==i.activeElement);return e&6&&P2(b)&&b.select(),2}function Rf(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function _2(){return/Android/gi.test(window.navigator.userAgent)}function Fc(){return Rf()||_2()}function ts(t,e,r,n){let o=Fi(r);se.useEffect(()=>{if(!t)return;function i(s){o.current(s)}return document.addEventListener(e,i,n),()=>document.removeEventListener(e,i,n)},[t,e,n])}function Of(t,e,r,n){let o=Fi(r);se.useEffect(()=>{if(!t)return;function i(s){o.current(s)}return window.addEventListener(e,i,n),()=>window.removeEventListener(e,i,n)},[t,e,n])}const jc=30;function C2(t,e,r){let n=Fi(r),o=se.useCallback(function(u,c){if(u.defaultPrevented)return;let h=c(u);if(h===null||!h.getRootNode().contains(h)||!h.isConnected)return;let g=function v(b){return typeof b=="function"?v(b()):Array.isArray(b)||b instanceof Set?b:[b]}(e);for(let v of g)if(v!==null&&(v.contains(h)||u.composed&&u.composedPath().includes(v)))return;return!S2(h,Tf.Loose)&&h.tabIndex!==-1&&u.preventDefault(),n.current(u,h)},[n,e]),i=se.useRef(null);ts(t,"pointerdown",u=>{var c,h;Fc()||(i.current=((h=(c=u.composedPath)==null?void 0:c.call(u))==null?void 0:h[0])||u.target)},!0),ts(t,"pointerup",u=>{if(Fc()||!i.current)return;let c=i.current;return i.current=null,o(u,()=>c)},!0);let s=se.useRef({x:0,y:0});ts(t,"touchstart",u=>{s.current.x=u.touches[0].clientX,s.current.y=u.touches[0].clientY},!0),ts(t,"touchend",u=>{let c={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY};if(!(Math.abs(c.x-s.current.x)>=jc||Math.abs(c.y-s.current.y)>=jc))return o(u,()=>ri(u.target)?u.target:null)},!0),Of(t,"blur",u=>o(u,()=>Y1(window.document.activeElement)?window.document.activeElement:null),!0)}function xs(...t){return se.useMemo(()=>ys(...t),[...t])}function Mf(t,e,r,n){let o=Fi(r);se.useEffect(()=>{t=t??window;function i(s){o.current(s)}return t.addEventListener(e,i,n),()=>t.removeEventListener(e,i,n)},[t,e,n])}function F2(t){return se.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function j2(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(o){return n.add(o),()=>n.delete(o)},dispatch(o,...i){let s=e[o].call(r,...i);s&&(r=s,n.forEach(u=>u()))}}}function E2(){let t;return{before({doc:e}){var r;let n=e.documentElement,o=(r=e.defaultView)!=null?r:window;t=Math.max(0,o.innerWidth-n.clientWidth)},after({doc:e,d:r}){let n=e.documentElement,o=Math.max(0,n.clientWidth-n.offsetWidth),i=Math.max(0,t-o);r.style(n,"paddingRight",`${i}px`)}}}function I2(){return Rf()?{before({doc:t,d:e,meta:r}){function n(o){return r.containers.flatMap(i=>i()).some(i=>i.contains(o))}e.microTask(()=>{var o;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let u=Tn();u.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>u.dispose()))}let i=(o=window.scrollY)!=null?o:window.pageYOffset,s=null;e.addEventListener(t,"click",u=>{if(ri(u.target))try{let c=u.target.closest("a");if(!c)return;let{hash:h}=new URL(c.href),g=t.querySelector(h);ri(g)&&!n(g)&&(s=g)}catch{}},!0),e.addEventListener(t,"touchstart",u=>{if(ri(u.target)&&G1(u.target))if(n(u.target)){let c=u.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(u.target,"touchAction","none")}),e.addEventListener(t,"touchmove",u=>{if(ri(u.target)){if(J1(u.target))return;if(n(u.target)){let c=u.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),e.add(()=>{var u;let c=(u=window.scrollY)!=null?u:window.pageYOffset;i!==c&&window.scrollTo(0,i),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function D2(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function T2(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let Ai=j2(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:Tn(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:T2(r)},o=[I2(),E2(),D2()];o.forEach(({before:i})=>i?.(n)),o.forEach(({after:i})=>i?.(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Ai.subscribe(()=>{let t=Ai.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",o=r.count!==0;(o&&!n||!o&&n)&&Ai.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Ai.dispatch("TEARDOWN",r)}});function R2(t,e,r=()=>({containers:[]})){let n=F2(Ai),o=e?n.get(e):void 0,i=o?o.count>0:!1;return or(()=>{if(!(!e||!t))return Ai.dispatch("PUSH",e,r),()=>Ai.dispatch("POP",e,r)},[t,e]),i}function O2(t,e,r=()=>[document.body]){let n=no(t,"scroll-lock");R2(n,e,o=>{var i;return{containers:[...(i=o.containers)!=null?i:[],r]}})}function M2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bf={exports:{}},Mt=Bf.exports={},cn,fn;function au(){throw new Error("setTimeout has not been defined")}function ou(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cn=setTimeout:cn=au}catch{cn=au}try{typeof clearTimeout=="function"?fn=clearTimeout:fn=ou}catch{fn=ou}})();function qf(t){if(cn===setTimeout)return setTimeout(t,0);if((cn===au||!cn)&&setTimeout)return cn=setTimeout,setTimeout(t,0);try{return cn(t,0)}catch{try{return cn.call(null,t,0)}catch{return cn.call(this,t,0)}}}function B2(t){if(fn===clearTimeout)return clearTimeout(t);if((fn===ou||!fn)&&clearTimeout)return fn=clearTimeout,clearTimeout(t);try{return fn(t)}catch{try{return fn.call(null,t)}catch{return fn.call(this,t)}}}var jn=[],ma=!1,Li,os=-1;function q2(){!ma||!Li||(ma=!1,Li.length?jn=Li.concat(jn):os=-1,jn.length&&zf())}function zf(){if(!ma){var t=qf(q2);ma=!0;for(var e=jn.length;e;){for(Li=jn,jn=[];++os<e;)Li&&Li[os].run();os=-1,e=jn.length}Li=null,ma=!1,B2(t)}}Mt.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];jn.push(new Uf(t,e)),jn.length===1&&!ma&&qf(zf)};function Uf(t,e){this.fun=t,this.array=e}Uf.prototype.run=function(){this.fun.apply(null,this.array)};Mt.title="browser";Mt.browser=!0;Mt.env={};Mt.argv=[];Mt.version="";Mt.versions={};function Rn(){}Mt.on=Rn;Mt.addListener=Rn;Mt.once=Rn;Mt.off=Rn;Mt.removeListener=Rn;Mt.removeAllListeners=Rn;Mt.emit=Rn;Mt.prependListener=Rn;Mt.prependOnceListener=Rn;Mt.listeners=function(t){return[]};Mt.binding=function(t){throw new Error("process.binding is not supported")};Mt.cwd=function(){return"/"};Mt.chdir=function(t){throw new Error("process.chdir is not supported")};Mt.umask=function(){return 0};var z2=Bf.exports;const Ec=M2(z2);function U2(t=0){let[e,r]=se.useState(t),n=se.useCallback(c=>r(c),[e]),o=se.useCallback(c=>r(h=>h|c),[e]),i=se.useCallback(c=>(e&c)===c,[e]),s=se.useCallback(c=>r(h=>h&~c),[r]),u=se.useCallback(c=>r(h=>h^c),[r]);return{flags:e,setFlag:n,addFlag:o,hasFlag:i,removeFlag:s,toggleFlag:u}}var H2={},Ic,Dc;typeof Ec<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Ic=Ec==null?void 0:H2)==null?void 0:Ic.NODE_ENV)==="test"&&typeof((Dc=Element?.prototype)==null?void 0:Dc.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var W2=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(W2||{});function $2(t){let e={};for(let r in t)t[r]===!0&&(e[`data-${r}`]="");return e}function V2(t,e,r,n){let[o,i]=se.useState(r),{hasFlag:s,addFlag:u,removeFlag:c}=U2(t&&o?3:0),h=se.useRef(!1),g=se.useRef(!1),v=hu();return or(()=>{var b;if(t){if(r&&i(!0),!e){r&&u(3);return}return(b=n?.start)==null||b.call(n,r),G2(e,{inFlight:h,prepare(){g.current?g.current=!1:g.current=h.current,h.current=!0,!g.current&&(r?(u(3),c(4)):(u(4),c(2)))},run(){g.current?r?(c(3),u(4)):(c(4),u(3)):r?c(1):u(1)},done(){var p;g.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(h.current=!1,c(7),r||i(!1),(p=n?.end)==null||p.call(n,r))}})}},[t,r,e,v]),t?[o,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function G2(t,{prepare:e,run:r,done:n,inFlight:o}){let i=Tn();return J2(t,{prepare:e,inFlight:o}),i.nextFrame(()=>{r(),i.requestAnimationFrame(()=>{i.add(Y2(t,n))})}),i.dispose}function Y2(t,e){var r,n;let o=Tn();if(!t)return o.dispose;let i=!1;o.add(()=>{i=!0});let s=(n=(r=t.getAnimations)==null?void 0:r.call(t).filter(u=>u instanceof CSSTransition))!=null?n:[];return s.length===0?(e(),o.dispose):(Promise.allSettled(s.map(u=>u.finished)).then(()=>{i||e()}),o.dispose)}function J2(t,{inFlight:e,prepare:r}){if(e!=null&&e.current){r();return}let n=t.style.transition;t.style.transition="none",r(),t.offsetHeight,t.style.transition=n}function pu(t,e){let r=se.useRef([]),n=xt(t);se.useEffect(()=>{let o=[...r.current];for(let[i,s]of e.entries())if(r.current[i]!==s){let u=n(e,o);return r.current=e,u}},[n,...e])}let Ns=se.createContext(null);Ns.displayName="OpenClosedContext";var Yr=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Yr||{});function Ss(){return se.useContext(Ns)}function K2({value:t,children:e}){return tt.createElement(Ns.Provider,{value:t},e)}function X2({children:t}){return tt.createElement(Ns.Provider,{value:null},t)}function Z2(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Qn=[];Z2(()=>{function t(e){if(!ri(e.target)||e.target===document.body||Qn[0]===e.target)return;let r=e.target;r=r.closest(ps),Qn.unshift(r??e.target),Qn=Qn.filter(n=>n!=null&&n.isConnected),Qn.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function Hf(t){let e=xt(t),r=se.useRef(!1);se.useEffect(()=>(r.current=!1,()=>{r.current=!0,ws(()=>{r.current&&e()})}),[e])}function Q2(){let t=typeof document>"u";return"useSyncExternalStore"in $u?(e=>e.useSyncExternalStore)($u)(()=>()=>{},()=>!1,()=>!t):!1}function io(){let t=Q2(),[e,r]=se.useState(ki.isHandoffComplete);return e&&ki.isHandoffComplete===!1&&r(!1),se.useEffect(()=>{e!==!0&&r(!0)},[e]),se.useEffect(()=>ki.handoff(),[]),t?!1:e}let Wf=se.createContext(!1);function e5(){return se.useContext(Wf)}function Tc(t){return tt.createElement(Wf.Provider,{value:t.force},t.children)}function t5(t){let e=e5(),r=se.useContext(Vf),[n,o]=se.useState(()=>{var i;if(!e&&r!==null)return(i=r.current)!=null?i:null;if(ki.isServer)return null;let s=t?.getElementById("headlessui-portal-root");if(s)return s;if(t===null)return null;let u=t.createElement("div");return u.setAttribute("id","headlessui-portal-root"),t.body.appendChild(u)});return se.useEffect(()=>{n!==null&&(t!=null&&t.body.contains(n)||t==null||t.body.appendChild(n))},[n,t]),se.useEffect(()=>{e||r!==null&&o(r.current)},[r,o,e]),n}let $f=se.Fragment,r5=vr(function(t,e){let{ownerDocument:r=null,...n}=t,o=se.useRef(null),i=gn(K1(p=>{o.current=p}),e),s=xs(o),u=r??s,c=t5(u),[h]=se.useState(()=>{var p;return ki.isServer?null:(p=u?.createElement("div"))!=null?p:null}),g=se.useContext(su),v=io();or(()=>{!c||!h||c.contains(h)||(h.setAttribute("data-headlessui-portal",""),c.appendChild(h))},[c,h]),or(()=>{if(h&&g)return g.register(h)},[g,h]),Hf(()=>{var p;!c||!h||(Lf(h)&&c.contains(h)&&c.removeChild(h),c.childNodes.length<=0&&((p=c.parentElement)==null||p.removeChild(c)))});let b=Ir();return v?!c||!h?null:Hh.createPortal(b({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:$f,name:"Portal"}),h):null});function n5(t,e){let r=gn(e),{enabled:n=!0,ownerDocument:o,...i}=t,s=Ir();return n?tt.createElement(r5,{...i,ownerDocument:o,ref:r}):s({ourProps:{ref:r},theirProps:i,slot:{},defaultTag:$f,name:"Portal"})}let i5=se.Fragment,Vf=se.createContext(null);function a5(t,e){let{target:r,...n}=t,o={ref:gn(e)},i=Ir();return tt.createElement(Vf.Provider,{value:r},i({ourProps:o,theirProps:n,defaultTag:i5,name:"Popover.Group"}))}let su=se.createContext(null);function o5(){let t=se.useContext(su),e=se.useRef([]),r=xt(i=>(e.current.push(i),t&&t.register(i),()=>n(i))),n=xt(i=>{let s=e.current.indexOf(i);s!==-1&&e.current.splice(s,1),t&&t.unregister(i)}),o=se.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,se.useMemo(()=>function({children:i}){return tt.createElement(su.Provider,{value:o},i)},[o])]}let s5=vr(n5),Gf=vr(a5),l5=Object.assign(s5,{Group:Gf});function u5(t,e=typeof document<"u"?document.defaultView:null,r){let n=no(t,"escape");Mf(e,"keydown",o=>{n&&(o.defaultPrevented||o.key===_f.Escape&&r(o))})}function c5(){var t;let[e]=se.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=se.useState((t=e?.matches)!=null?t:!1);return or(()=>{if(!e)return;function o(i){n(i.matches)}return e.addEventListener("change",o),()=>e.removeEventListener("change",o)},[e]),r}function f5({defaultContainers:t=[],portals:e,mainTreeNode:r}={}){let n=xs(r),o=xt(()=>{var i,s;let u=[];for(let c of t)c!==null&&(ni(c)?u.push(c):"current"in c&&ni(c.current)&&u.push(c.current));if(e!=null&&e.current)for(let c of e.current)u.push(c);for(let c of(i=n?.querySelectorAll("html > *, body > *"))!=null?i:[])c!==document.body&&c!==document.head&&ni(c)&&c.id!=="headlessui-portal-root"&&(r&&(c.contains(r)||c.contains((s=r?.getRootNode())==null?void 0:s.host))||u.some(h=>c.contains(h))||u.push(c));return u});return{resolveContainers:o,contains:xt(i=>o().some(s=>s.contains(i)))}}let Yf=se.createContext(null);function Rc({children:t,node:e}){let[r,n]=se.useState(null),o=Jf(e??r);return tt.createElement(Yf.Provider,{value:o},t,o===null&&tt.createElement(ru,{features:ds.Hidden,ref:i=>{var s,u;if(i){for(let c of(u=(s=ys(i))==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?u:[])if(c!==document.body&&c!==document.head&&ni(c)&&c!=null&&c.contains(i)){n(c);break}}}}))}function Jf(t=null){var e;return(e=se.useContext(Yf))!=null?e:t}function gu(){let t=se.useRef(!1);return or(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var Xa=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Xa||{});function h5(){let t=se.useRef(0);return Of(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function Kf(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)ni(r.current)&&e.add(r.current);return e}let d5="div";var Si=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Si||{});function p5(t,e){let r=se.useRef(null),n=gn(r,e),{initialFocus:o,initialFocusFallback:i,containers:s,features:u=15,...c}=t;io()||(u=0);let h=xs(r);b5(u,{ownerDocument:h});let g=y5(u,{ownerDocument:h,container:r,initialFocus:o,initialFocusFallback:i});w5(u,{ownerDocument:h,container:r,containers:s,previousActiveElement:g});let v=h5(),b=xt(F=>{if(!_i(r.current))return;let R=r.current;(G=>G())(()=>{Dn(v.current,{[Xa.Forwards]:()=>{to(R,Cn.First,{skipElements:[F.relatedTarget,i]})},[Xa.Backwards]:()=>{to(R,Cn.Last,{skipElements:[F.relatedTarget,i]})}})})}),p=no(!!(u&2),"focus-trap#tab-lock"),A=hu(),P=se.useRef(!1),j={ref:n,onKeyDown(F){F.key=="Tab"&&(P.current=!0,A.requestAnimationFrame(()=>{P.current=!1}))},onBlur(F){if(!(u&4))return;let R=Kf(s);_i(r.current)&&R.add(r.current);let G=F.relatedTarget;ri(G)&&G.dataset.headlessuiFocusGuard!=="true"&&(Xf(R,G)||(P.current?to(r.current,Dn(v.current,{[Xa.Forwards]:()=>Cn.Next,[Xa.Backwards]:()=>Cn.Previous})|Cn.WrapAround,{relativeTo:F.target}):ri(F.target)&&En(F.target)))}},x=Ir();return tt.createElement(tt.Fragment,null,p&&tt.createElement(ru,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:b,features:ds.Focusable}),x({ourProps:j,theirProps:c,defaultTag:d5,name:"FocusTrap"}),p&&tt.createElement(ru,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:b,features:ds.Focusable}))}let g5=vr(p5),m5=Object.assign(g5,{features:Si});function v5(t=!0){let e=se.useRef(Qn.slice());return pu(([r],[n])=>{n===!0&&r===!1&&ws(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=Qn.slice())},[t,Qn,e]),xt(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function b5(t,{ownerDocument:e}){let r=!!(t&8),n=v5(r);pu(()=>{r||e?.activeElement===e?.body&&En(n())},[r]),Hf(()=>{r&&En(n())})}function y5(t,{ownerDocument:e,container:r,initialFocus:n,initialFocusFallback:o}){let i=se.useRef(null),s=no(!!(t&1),"focus-trap#initial-focus"),u=gu();return pu(()=>{if(t===0)return;if(!s){o!=null&&o.current&&En(o.current);return}let c=r.current;c&&ws(()=>{if(!u.current)return;let h=e?.activeElement;if(n!=null&&n.current){if(n?.current===h){i.current=h;return}}else if(c.contains(h)){i.current=h;return}if(n!=null&&n.current)En(n.current);else{if(t&16){if(to(c,Cn.First|Cn.AutoFocus)!==iu.Error)return}else if(to(c,Cn.First)!==iu.Error)return;if(o!=null&&o.current&&(En(o.current),e?.activeElement===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=e?.activeElement})},[o,s,t]),i}function w5(t,{ownerDocument:e,container:r,containers:n,previousActiveElement:o}){let i=gu(),s=!!(t&4);Mf(e?.defaultView,"focus",u=>{if(!s||!i.current)return;let c=Kf(n);_i(r.current)&&c.add(r.current);let h=o.current;if(!h)return;let g=u.target;_i(g)?Xf(c,g)?(o.current=g,En(g)):(u.preventDefault(),u.stopPropagation(),En(h)):En(o.current)},!0)}function Xf(t,e){for(let r of t)if(r.contains(e))return!0;return!1}function Zf(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:eh)!==se.Fragment||tt.Children.count(t.children)===1}let As=se.createContext(null);As.displayName="TransitionContext";var x5=(t=>(t.Visible="visible",t.Hidden="hidden",t))(x5||{});function N5(){let t=se.useContext(As);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function S5(){let t=se.useContext(Ls);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Ls=se.createContext(null);Ls.displayName="NestingContext";function Ps(t){return"children"in t?Ps(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function Qf(t,e){let r=Fi(t),n=se.useRef([]),o=gu(),i=hu(),s=xt((p,A=ti.Hidden)=>{let P=n.current.findIndex(({el:j})=>j===p);P!==-1&&(Dn(A,{[ti.Unmount](){n.current.splice(P,1)},[ti.Hidden](){n.current[P].state="hidden"}}),i.microTask(()=>{var j;!Ps(n)&&o.current&&((j=r.current)==null||j.call(r))}))}),u=xt(p=>{let A=n.current.find(({el:P})=>P===p);return A?A.state!=="visible"&&(A.state="visible"):n.current.push({el:p,state:"visible"}),()=>s(p,ti.Unmount)}),c=se.useRef([]),h=se.useRef(Promise.resolve()),g=se.useRef({enter:[],leave:[]}),v=xt((p,A,P)=>{c.current.splice(0),e&&(e.chains.current[A]=e.chains.current[A].filter(([j])=>j!==p)),e?.chains.current[A].push([p,new Promise(j=>{c.current.push(j)})]),e?.chains.current[A].push([p,new Promise(j=>{Promise.all(g.current[A].map(([x,F])=>F)).then(()=>j())})]),A==="enter"?h.current=h.current.then(()=>e?.wait.current).then(()=>P(A)):P(A)}),b=xt((p,A,P)=>{Promise.all(g.current[A].splice(0).map(([j,x])=>x)).then(()=>{var j;(j=c.current.shift())==null||j()}).then(()=>P(A))});return se.useMemo(()=>({children:n,register:u,unregister:s,onStart:v,onStop:b,wait:h,chains:g}),[u,s,n,v,b,g,h])}let eh=se.Fragment,th=hs.RenderStrategy;function A5(t,e){var r,n;let{transition:o=!0,beforeEnter:i,afterEnter:s,beforeLeave:u,afterLeave:c,enter:h,enterFrom:g,enterTo:v,entered:b,leave:p,leaveFrom:A,leaveTo:P,...j}=t,[x,F]=se.useState(null),R=se.useRef(null),G=Zf(t),te=gn(...G?[R,e,F]:e===null?[]:[e]),ue=(r=j.unmount)==null||r?ti.Unmount:ti.Hidden,{show:Z,appear:z,initial:ae}=N5(),[pe,C]=se.useState(Z?"visible":"hidden"),E=S5(),{register:H,unregister:q}=E;or(()=>H(R),[H,R]),or(()=>{if(ue===ti.Hidden&&R.current){if(Z&&pe!=="visible"){C("visible");return}return Dn(pe,{hidden:()=>q(R),visible:()=>H(R)})}},[pe,R,H,q,Z,ue]);let ce=io();or(()=>{if(G&&ce&&pe==="visible"&&R.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[R,pe,ce,G]);let le=ae&&!z,fe=z&&Z&&ae,ee=se.useRef(!1),he=Qf(()=>{ee.current||(C("hidden"),q(R))},E),ve=xt(ie=>{ee.current=!0;let oe=ie?"enter":"leave";he.onStart(R,oe,O=>{O==="enter"?i?.():O==="leave"&&u?.()})}),Pe=xt(ie=>{let oe=ie?"enter":"leave";ee.current=!1,he.onStop(R,oe,O=>{O==="enter"?s?.():O==="leave"&&c?.()}),oe==="leave"&&!Ps(he)&&(C("hidden"),q(R))});se.useEffect(()=>{G&&o||(ve(Z),Pe(Z))},[Z,G,o]);let L=!(!o||!G||!ce||le),[,I]=V2(L,x,Z,{start:ve,end:Pe}),B=xi({ref:te,className:((n=tu(j.className,fe&&h,fe&&g,I.enter&&h,I.enter&&I.closed&&g,I.enter&&!I.closed&&v,I.leave&&p,I.leave&&!I.closed&&A,I.leave&&I.closed&&P,!I.transition&&Z&&b))==null?void 0:n.trim())||void 0,...$2(I)}),U=0;pe==="visible"&&(U|=Yr.Open),pe==="hidden"&&(U|=Yr.Closed),Z&&pe==="hidden"&&(U|=Yr.Opening),!Z&&pe==="visible"&&(U|=Yr.Closing);let K=Ir();return tt.createElement(Ls.Provider,{value:he},tt.createElement(K2,{value:U},K({ourProps:B,theirProps:j,defaultTag:eh,features:th,visible:pe==="visible",name:"Transition.Child"})))}function L5(t,e){let{show:r,appear:n=!1,unmount:o=!0,...i}=t,s=se.useRef(null),u=Zf(t),c=gn(...u?[s,e]:e===null?[]:[e]);io();let h=Ss();if(r===void 0&&h!==null&&(r=(h&Yr.Open)===Yr.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[g,v]=se.useState(r?"visible":"hidden"),b=Qf(()=>{r||v("hidden")}),[p,A]=se.useState(!0),P=se.useRef([r]);or(()=>{p!==!1&&P.current[P.current.length-1]!==r&&(P.current.push(r),A(!1))},[P,r]);let j=se.useMemo(()=>({show:r,appear:n,initial:p}),[r,n,p]);or(()=>{r?v("visible"):!Ps(b)&&s.current!==null&&v("hidden")},[r,b]);let x={unmount:o},F=xt(()=>{var te;p&&A(!1),(te=t.beforeEnter)==null||te.call(t)}),R=xt(()=>{var te;p&&A(!1),(te=t.beforeLeave)==null||te.call(t)}),G=Ir();return tt.createElement(Ls.Provider,{value:b},tt.createElement(As.Provider,{value:j},G({ourProps:{...x,as:se.Fragment,children:tt.createElement(rh,{ref:c,...x,...i,beforeEnter:F,beforeLeave:R})},theirProps:{},defaultTag:se.Fragment,features:th,visible:g==="visible",name:"Transition"})))}function P5(t,e){let r=se.useContext(As)!==null,n=Ss()!==null;return tt.createElement(tt.Fragment,null,!r&&n?tt.createElement(lu,{ref:e,...t}):tt.createElement(rh,{ref:e,...t}))}let lu=vr(L5),rh=vr(A5),mu=vr(P5),ss=Object.assign(lu,{Child:mu,Root:lu});var k5=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(k5||{}),_5=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(_5||{});let C5={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},vu=se.createContext(null);vu.displayName="DialogContext";function ks(t){let e=se.useContext(vu);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ks),r}return e}function F5(t,e){return Dn(e.type,C5,t,e)}let Oc=vr(function(t,e){let r=se.useId(),{id:n=`headlessui-dialog-${r}`,open:o,onClose:i,initialFocus:s,role:u="dialog",autoFocus:c=!0,__demoMode:h=!1,unmount:g=!1,...v}=t,b=se.useRef(!1);u=function(){return u==="dialog"||u==="alertdialog"?u:(b.current||(b.current=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=Ss();o===void 0&&p!==null&&(o=(p&Yr.Open)===Yr.Open);let A=se.useRef(null),P=gn(A,e),j=xs(A),x=o?0:1,[F,R]=se.useReducer(F5,{titleId:null,descriptionId:null,panelRef:se.createRef()}),G=xt(()=>i(!1)),te=xt(I=>R({type:0,id:I})),ue=io()?x===0:!1,[Z,z]=o5(),ae={get current(){var I;return(I=F.panelRef.current)!=null?I:A.current}},pe=Jf(),{resolveContainers:C}=f5({mainTreeNode:pe,portals:Z,defaultContainers:[ae]}),E=p!==null?(p&Yr.Closing)===Yr.Closing:!1;v2(h||E?!1:ue,{allowed:xt(()=>{var I,B;return[(B=(I=A.current)==null?void 0:I.closest("[data-headlessui-portal]"))!=null?B:null]}),disallowed:xt(()=>{var I;return[(I=pe?.closest("body > *:not(#headlessui-portal-root)"))!=null?I:null]})});let H=If.get(null);or(()=>{if(ue)return H.actions.push(n),()=>H.actions.pop(n)},[H,n,ue]);let q=Df(H,se.useCallback(I=>H.selectors.isTop(I,n),[H,n]));C2(q,C,I=>{I.preventDefault(),G()}),u5(q,j?.defaultView,I=>{I.preventDefault(),I.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),G()}),O2(h||E?!1:ue,j,C),b2(ue,A,G);let[ce,le]=X1(),fe=se.useMemo(()=>[{dialogState:x,close:G,setTitleId:te,unmount:g},F],[x,F,G,te,g]),ee=se.useMemo(()=>({open:x===0}),[x]),he={ref:P,id:n,role:u,tabIndex:-1,"aria-modal":h?void 0:x===0?!0:void 0,"aria-labelledby":F.titleId,"aria-describedby":ce,unmount:g},ve=!c5(),Pe=Si.None;ue&&!h&&(Pe|=Si.RestoreFocus,Pe|=Si.TabLock,c&&(Pe|=Si.AutoFocus),ve&&(Pe|=Si.InitialFocus));let L=Ir();return tt.createElement(X2,null,tt.createElement(Tc,{force:!0},tt.createElement(l5,null,tt.createElement(vu.Provider,{value:fe},tt.createElement(Gf,{target:A},tt.createElement(Tc,{force:!1},tt.createElement(le,{slot:ee},tt.createElement(z,null,tt.createElement(m5,{initialFocus:s,initialFocusFallback:A,containers:C,features:Pe},tt.createElement(n2,{value:G},L({ourProps:he,theirProps:v,slot:ee,defaultTag:j5,features:E5,visible:x===0,name:"Dialog"})))))))))))}),j5="div",E5=hs.RenderStrategy|hs.Static;function I5(t,e){let{transition:r=!1,open:n,...o}=t,i=Ss(),s=t.hasOwnProperty("open")||i!==null,u=t.hasOwnProperty("onClose");if(!s&&!u)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!s)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!u)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(n!==void 0||r)&&!o.static?tt.createElement(Rc,null,tt.createElement(ss,{show:n,transition:r,unmount:o.unmount},tt.createElement(Oc,{ref:e,...o}))):tt.createElement(Rc,null,tt.createElement(Oc,{ref:e,open:n,...o}))}let D5="div";function T5(t,e){let r=se.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:o=!1,...i}=t,[{dialogState:s,unmount:u},c]=ks("Dialog.Panel"),h=gn(e,c.panelRef),g=se.useMemo(()=>({open:s===0}),[s]),v=xt(j=>{j.stopPropagation()}),b={ref:h,id:n,onClick:v},p=o?mu:se.Fragment,A=o?{unmount:u}:{},P=Ir();return tt.createElement(p,{...A},P({ourProps:b,theirProps:i,slot:g,defaultTag:D5,name:"Dialog.Panel"}))}let R5="div";function O5(t,e){let{transition:r=!1,...n}=t,[{dialogState:o,unmount:i}]=ks("Dialog.Backdrop"),s=se.useMemo(()=>({open:o===0}),[o]),u={ref:e,"aria-hidden":!0},c=r?mu:se.Fragment,h=r?{unmount:i}:{},g=Ir();return tt.createElement(c,{...h},g({ourProps:u,theirProps:n,slot:s,defaultTag:R5,name:"Dialog.Backdrop"}))}let M5="h2";function B5(t,e){let r=se.useId(),{id:n=`headlessui-dialog-title-${r}`,...o}=t,[{dialogState:i,setTitleId:s}]=ks("Dialog.Title"),u=gn(e);se.useEffect(()=>(s(n),()=>s(null)),[n,s]);let c=se.useMemo(()=>({open:i===0}),[i]),h={ref:u,id:n};return Ir()({ourProps:h,theirProps:o,slot:c,defaultTag:M5,name:"Dialog.Title"})}let q5=vr(I5),z5=vr(T5);vr(O5);let U5=vr(B5),Ol=Object.assign(q5,{Panel:z5,Title:U5,Description:t2});function Mc({isOpen:t,onClose:e,title:r,children:n,size:o="md",className:i=""}){const s=()=>{switch(o){case"sm":return"sm:max-w-md";case"lg":return"sm:max-w-2xl";case"xl":return"sm:max-w-4xl";case"full":return"sm:max-w-full sm:m-4";default:return"sm:max-w-lg"}};return J.jsx(ss,{appear:!0,show:t,as:se.Fragment,children:J.jsxs(Ol,{as:"div",className:"relative z-50",onClose:e,children:[J.jsx(ss.Child,{as:se.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:J.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),J.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:J.jsx("div",{className:"flex min-h-full items-center justify-center p-0 sm:p-4 text-center",children:J.jsx(ss.Child,{as:se.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95 translate-y-4 sm:translate-y-0",enterTo:"opacity-100 scale-100 translate-y-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100 translate-y-0",leaveTo:"opacity-0 scale-95 translate-y-4 sm:translate-y-0",children:J.jsxs(Ol.Panel,{className:`
                w-full 
                max-h-screen 
                sm:max-h-[90vh]
                ${s()}
                transform 
                overflow-hidden 
                rounded-none sm:rounded-2xl 
                bg-white dark:bg-gray-800 
                text-left 
                align-middle 
                shadow-xl 
                transition-all
                ${i}
              `,children:[r&&J.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700",children:[J.jsx(Ol.Title,{as:"h3",className:"text-lg font-semibold text-gray-900 dark:text-white",children:r}),J.jsx("button",{type:"button",className:"p-2 -mr-2 text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",onClick:e,"aria-label":"Chiudi modale",children:J.jsx(Bc,{className:"h-5 w-5"})})]}),J.jsx("div",{className:"overflow-y-auto max-h-[calc(100vh-8rem)] sm:max-h-[calc(90vh-8rem)]",children:n})]})})})})]})})}const nh=t=>t?`expenseListFilters_${t}`:"expenseListFilters_anonymous",ih=()=>{const t=new Date,e=new Date(t.getFullYear(),t.getMonth(),1),r=new Date(t.getFullYear(),t.getMonth()+1,0),n=o=>{const i=o.getFullYear(),s=String(o.getMonth()+1).padStart(2,"0"),u=String(o.getDate()).padStart(2,"0");return`${i}-${s}-${u}`};return{start:n(e),end:n(r)}},Ml=()=>({searchTerm:"",selectedCategory:null,dateRange:ih()}),H5=(t,e)=>{try{const r=nh(e);localStorage.setItem(r,JSON.stringify(t))}catch(r){console.warn("Failed to save filters to localStorage:",r)}},W5=t=>{try{const e=nh(t);localStorage.removeItem(e)}catch(e){console.warn("Failed to clear filters from localStorage:",e)}},$5=t=>{const[e,r]=se.useState(()=>Ml()),[n,o]=se.useState(()=>{const c=Ml();return{searchTerm:c.searchTerm,selectedCategory:c.selectedCategory,dateRange:{start:c.dateRange.start?new Date(c.dateRange.start+"T00:00:00.000").toISOString():void 0,end:c.dateRange.end?new Date(c.dateRange.end+"T23:59:59.999").toISOString():void 0}}});se.useEffect(()=>{H5(e,t)},[e,t]);const i=se.useCallback(()=>{const c={searchTerm:e.searchTerm,selectedCategory:e.selectedCategory,dateRange:{start:e.dateRange.start?new Date(e.dateRange.start+"T00:00:00.000").toISOString():void 0,end:e.dateRange.end?new Date(e.dateRange.end+"T23:59:59.999").toISOString():void 0}};o(c)},[e]),s=se.useCallback(()=>{const c=Ml();r(c);const h={searchTerm:c.searchTerm,selectedCategory:c.selectedCategory,dateRange:{start:new Date(c.dateRange.start+"T00:00:00.000").toISOString(),end:new Date(c.dateRange.end+"T23:59:59.999").toISOString()}};o(h)},[]),u=se.useCallback(()=>{W5(t),s()},[s,t]);return{stagedFilters:e,activeFilters:n,setStagedFilters:r,setActiveFilters:o,applyFilters:i,resetFilters:s,clearPersistedFilters:u,getCurrentMonthRange:ih}},V5=[{code:"EUR",name:"Euro",symbol:"€"},{code:"USD",name:"US Dollar",symbol:"$"},{code:"GBP",name:"British Pound",symbol:"£"},{code:"ZAR",name:"South African Rand",symbol:"R"},{code:"JPY",name:"Japanese Yen",symbol:"¥"},{code:"AUD",name:"Australian Dollar",symbol:"A$"},{code:"CAD",name:"Canadian Dollar",symbol:"C$"},{code:"CHF",name:"Swiss Franc",symbol:"CHF"},{code:"CNY",name:"Chinese Yuan",symbol:"¥"},{code:"INR",name:"Indian Rupee",symbol:"₹"}],G5=function(){const e=Wh(),r=Vu(O=>O.user?.preferences?.defaultCurrency),[n,o]=se.useState([]),[i,s]=se.useState(!1),[u,c]=se.useState(""),h=Vu(O=>O.user?.id?.toString()),{stagedFilters:g,activeFilters:v,setStagedFilters:b,applyFilters:p,resetFilters:A,getCurrentMonthRange:P}=$5(h),[j,x]=se.useState(null),[F,R]=se.useState(!1),[G,te]=se.useState(null),[ue,Z]=se.useState(r||"EUR");se.useEffect(()=>{r&&Z(r)},[r]);const z=se.useCallback((O,ge)=>!O||!ge?null:new Date(O)>new Date(ge)?"La data di fine deve essere successiva alla data di inizio":null,[]),ae=se.useCallback(()=>{const O=z(g.dateRange.start,g.dateRange.end);if(O){x(O);return}x(null),p()},[g,z,p]),pe=se.useCallback(()=>{x(null),A()},[A]),C=se.useCallback(O=>{O.key==="Enter"&&(O.preventDefault(),ae())},[ae]),E=se.useCallback(O=>{const ge=O.getFullYear(),we=String(O.getMonth()+1).padStart(2,"0"),_e=String(O.getDate()).padStart(2,"0");return`${ge}-${we}-${_e}`},[]),H=se.useCallback((O,ge)=>{b(we=>{const _e={...we.dateRange,[O]:ge||""},Ce=_e.start&&_e.end?z(_e.start,_e.end):null;return x(Ce),{...we,dateRange:_e}})},[z,b]),{data:q,isLoading:ce,refetch:le}=ml.expenses.getExpenses.useQuery({categoryIds:v.selectedCategory?[v.selectedCategory]:void 0,startDate:v.dateRange.start,endDate:v.dateRange.end},{refetchOnWindowFocus:!1,refetchOnReconnect:!1}),{data:fe}=ml.categories.getAll.useQuery(),ee=ml.expenses.deleteExpense.useMutation({onSuccess:()=>{console.log("✅ Expense deleted successfully"),R(!1),te(null),le()},onError:O=>{console.error("❌ Error deleting expense:",O),alert("Errore durante la cancellazione della spesa: "+O.message)}}),he=q?.expenses||[],ve=(O,ge)=>O.some(we=>we.currency!==ge),Pe=he.filter(O=>!v.searchTerm||O.description?.toLowerCase().includes(v.searchTerm.toLowerCase())||O.category.name.toLowerCase().includes(v.searchTerm.toLowerCase())).sort((O,ge)=>{const we=O.category?.name||"",_e=ge.category?.name||"",Ce=we.localeCompare(_e,"it");if(Ce===0){const Be=new Date(O.date).getTime(),de=new Date(ge.date).getTime();return Be-de}return Ce}),L=se.useCallback(()=>{if(!Pe.length){alert("Nessuna spesa da esportare");return}const O=["ID","Data","Descrizione","Importo","Valuta","Categoria","Tasso di Cambio","Importo in EUR"],ge=Pe.map(qe=>{const Oe=qe.currency==="EUR"?qe.amount:qe.amount/(qe.conversionRate||1);return Oe>1e6&&console.warn(`⚠️ Valore EUR anomalo per spesa ${qe.id}: ${Oe}`),[qe.id,new Date(qe.date).toLocaleDateString("it-IT"),qe.description||"",yi([qe],ue),ue,qe.category?.name||"",qe.conversionRate||1,Oe]}),we=[O.join(";"),...ge.map(qe=>qe.map(Oe=>`"${Oe}"`).join(";"))].join(`
`),Ce=`spese_${new Date().toISOString().slice(0,10)}.csv`,Be=new Blob([we],{type:"text/csv;charset=utf-8;"}),de=document.createElement("a"),M=URL.createObjectURL(Be);de.setAttribute("href",M),de.setAttribute("download",Ce),de.style.visibility="hidden",document.body.appendChild(de),de.click(),document.body.removeChild(de)},[Pe]),I=se.useCallback(()=>{if(!Pe.length){alert("Nessuna spesa da esportare");return}try{const O=new We;O.setFontSize(18),O.text("Elenco Spese",14,22),O.setFontSize(10);let ge=35;if(v.searchTerm&&(O.text(`Ricerca: "${v.searchTerm}"`,14,ge),ge+=7),v.selectedCategory){const Se=fe?.find(Fe=>Fe.id===v.selectedCategory)?.name;O.text(`Categoria: ${Se}`,14,ge),ge+=7}if(v.dateRange.start||v.dateRange.end){const Se=`${v.dateRange.start?new Date(v.dateRange.start).toLocaleDateString("it-IT"):""} - ${v.dateRange.end?new Date(v.dateRange.end).toLocaleDateString("it-IT"):""}`;O.text(`Periodo: ${Se}`,14,ge),ge+=7}const we=yi(Pe,ue);O.text(`Totale: ${kn(we,ue)} (${Pe.length} spese)`,14,ge),ge+=15;const _e=new Map;Pe.forEach(Se=>{const Fe=Se.category?.name||"Senza categoria";_e.has(Fe)||_e.set(Fe,[]),_e.get(Fe).push(Se)});const Ce=[];let Be=ge;const de=O.internal.pageSize.height,M=12,qe=8*M;_e.forEach((Se,Fe)=>{const Ee=yi(Se,ue),Je=(1+Se.length+2)*M;Be+Je>de-50&&(Ce.push([{content:"",colSpan:5,styles:{fillColor:[255,255,255],textColor:0,fontSize:1}}]),Be=20),Ce.push([{content:`${Fe} (${Se.length} spese • ${kn(Ee,ue)})`,colSpan:5,styles:{fillColor:[59,130,246],textColor:255,fontStyle:"bold",fontSize:10}}]),Be+=M,Se.forEach(Ge=>{Ce.push([new Date(Ge.date).toLocaleDateString("it-IT"),Ge.description||"",`${kn(yi([Ge],ue),ue)}`,Ge.category?.name||"",Ge.conversionRate?`${Ge.conversionRate}`:"1"]),Be+=M}),Ce.push([{content:`Totale ${Fe}: ${kn(Ee,ue)}`,colSpan:5,styles:{fillColor:[34,197,94],textColor:255,fontStyle:"bold",fontSize:9}}]),Be+=M,Ce.push([{content:"",colSpan:5,styles:{fillColor:[255,255,255],textColor:0,fontSize:4}}]),Be+=M}),Ce.push([{content:`TOTALE GENERALE: ${kn(we,ue)}`,colSpan:5,styles:{fillColor:[239,68,68],textColor:255,fontStyle:"bold",fontSize:10}}]),D1(O,{head:[["Data","Descrizione","Importo","Categoria","Tasso"]],body:Ce,startY:ge,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[59,130,246],textColor:255},alternateRowStyles:{fillColor:[248,250,252]},didParseCell:function(Se){Se.cell.colSpan&&Se.cell.colSpan>1&&(Se.cell.styles.fillColor&&(Se.cell.styles.fillColor=Se.cell.styles.fillColor),Se.cell.styles.textColor&&(Se.cell.styles.textColor=Se.cell.styles.textColor),Se.cell.styles.fontStyle&&(Se.cell.styles.fontStyle=Se.cell.styles.fontStyle),Se.cell.styles.fontSize&&(Se.cell.styles.fontSize=Se.cell.styles.fontSize))},pageBreak:"auto",margin:{top:20,right:20,bottom:20,left:20},didDrawPage:function(Se){Se.cursor&&Se.cursor.y&&(Se.cursor.y=Math.max(Se.cursor.y,30))}});const ke=`spese_${new Date().toISOString().slice(0,10)}.pdf`;O.save(ke)}catch(O){console.error("Errore durante l'esportazione PDF:",O),alert("Errore durante l'esportazione PDF. Verifica che jsPDF sia installato correttamente.")}},[Pe,v,fe,ue]),B=(O,ge)=>{o(ge),c(`Spese - ${O}`),s(!0)},U=O=>{te(O),R(!0)},K=()=>{G&&ee.mutate({id:G.id})},ie=O=>{console.log("🔄 Edit expense:",O),e({to:`/expenses/edit/${O.id}`})},oe=[{key:"date",label:"Data",render:O=>new Date(O).toLocaleDateString("it-IT")},{key:"description",label:"Descrizione",render:O=>O||"N/A"},{key:"category",label:"Categoria",render:O=>O?.name||"N/A"},{key:"amount",label:"Importo",render:(O,ge)=>{const we=yi([ge],ue);return kn(we,ue)}},{key:"conversionRate",label:"Tasso di Cambio",render:(O,ge)=>J.jsx(qc,{source:"historical",rate:O,fromCurrency:ge.currency,toCurrency:"EUR"})},{key:"actions",label:"Azioni",render:(O,ge)=>J.jsxs("div",{className:"flex space-x-2",children:[J.jsx("button",{onClick:()=>B(ge.category.name,[ge]),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",title:"Visualizza dettagli",children:J.jsx(Jh,{className:"h-4 w-4"})}),J.jsx("button",{onClick:()=>ie(ge),className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300",title:"Modifica spesa",children:J.jsx(Kh,{className:"h-4 w-4"})}),J.jsx("button",{onClick:()=>U(ge),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:"Elimina spesa",children:J.jsx(Xh,{className:"h-4 w-4"})})]})}];return ce?J.jsx("div",{className:"flex items-center justify-center min-h-64",children:J.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):J.jsxs("div",{className:"space-y-6",children:[J.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[J.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Tutte le Spese"}),J.jsxs("div",{className:"flex items-center gap-2",children:[J.jsx(Gh,{className:"w-5 h-5 text-gray-400"}),J.jsx("span",{className:"text-sm text-gray-400",children:"Valuta"}),J.jsx("select",{value:ue,onChange:O=>Z(O.target.value),className:"bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:V5.map(O=>J.jsxs("option",{value:O.code,children:[O.symbol," ",O.code]},O.code))})]})]}),J.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[J.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:[J.jsx(Gu,{className:"h-5 w-5 inline mr-2"}),"Filtri"]}),J.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[J.jsxs("div",{children:[J.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[J.jsx(vl,{className:"h-4 w-4 inline mr-1"}),"Cerca"]}),J.jsx("input",{type:"text",value:g.searchTerm,onChange:O=>b(ge=>({...ge,searchTerm:O.target.value})),onKeyDown:C,placeholder:"Descrizione o categoria...",className:"w-full bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),J.jsxs("div",{children:[J.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Categoria"}),J.jsxs("select",{value:g.selectedCategory||"",onChange:O=>b(ge=>({...ge,selectedCategory:O.target.value?parseInt(O.target.value):null})),className:"w-full bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[J.jsx("option",{value:"",children:"Tutte le categorie"}),fe?.map(O=>J.jsx("option",{value:O.id,children:O.name},O.id))]})]}),J.jsxs("div",{children:[J.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[J.jsx(Yu,{className:"h-4 w-4 inline mr-1"}),"Periodo"]}),J.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[J.jsx("button",{type:"button",onClick:()=>{const O=P();b(ge=>({...ge,dateRange:O})),x(null)},className:"text-xs px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",children:"Mese corrente"}),J.jsx("button",{type:"button",onClick:()=>{const O=new Date,ge=new Date(O.getFullYear(),O.getMonth()-1,1),we=new Date(O.getFullYear(),O.getMonth(),0);b(_e=>({..._e,dateRange:{start:E(ge),end:E(we)}})),x(null)},className:"text-xs px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 rounded-full hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors",children:"Mese scorso"}),J.jsx("button",{type:"button",onClick:()=>{const O=new Date,ge=new Date(O.getFullYear(),0,1);b(we=>({...we,dateRange:{start:E(ge),end:E(O)}})),x(null)},className:"text-xs px-3 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300 rounded-full hover:bg-purple-200 dark:hover:bg-purple-900/50 transition-colors",children:"Anno corrente"})]}),J.jsxs("div",{className:"flex space-x-2",children:[J.jsx("input",{type:"date",value:g.dateRange.start||"",onChange:O=>H("start",O.target.value),onKeyDown:C,className:"flex-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Data inizio"}),J.jsx("input",{type:"date",value:g.dateRange.end||"",onChange:O=>H("end",O.target.value),onKeyDown:C,className:"flex-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Data fine"})]}),j&&J.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2",children:j})]}),J.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[J.jsxs("button",{onClick:ae,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",disabled:ce,children:[J.jsx(vl,{className:"h-4 w-4"}),ce?"Ricerca...":"Applica Filtri"]}),J.jsxs("button",{onClick:pe,className:"flex items-center gap-2 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[J.jsx(Bc,{className:"h-4 w-4"}),"Reset"]})]}),Pe.length>0&&J.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[J.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 self-center",children:"Esporta:"}),J.jsxs("button",{onClick:L,className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",title:"Esporta in formato CSV",children:[J.jsx(Zh,{className:"h-4 w-4"}),"CSV"]}),J.jsxs("button",{onClick:I,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",title:"Esporta in formato PDF",children:[J.jsx(Yh,{className:"h-4 w-4"}),"PDF"]})]})]}),(v.searchTerm||v.selectedCategory||v.dateRange.start||v.dateRange.end)&&J.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[J.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Filtri attivi:"}),v.searchTerm&&J.jsxs("span",{className:"inline-flex items-center gap-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 text-xs px-2 py-1 rounded-full",children:[J.jsx(vl,{className:"h-3 w-3"}),'"',v.searchTerm,'"']}),v.selectedCategory&&J.jsxs("span",{className:"inline-flex items-center gap-1 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 text-xs px-2 py-1 rounded-full",children:[J.jsx(Gu,{className:"h-3 w-3"}),fe?.find(O=>O.id===v.selectedCategory)?.name]}),(v.dateRange.start||v.dateRange.end)&&J.jsxs("span",{className:"inline-flex items-center gap-1 bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300 text-xs px-2 py-1 rounded-full",children:[J.jsx(Yu,{className:"h-3 w-3"}),v.dateRange.start&&new Date(v.dateRange.start).toLocaleDateString("it-IT"),v.dateRange.start&&v.dateRange.end&&" - ",v.dateRange.end&&new Date(v.dateRange.end).toLocaleDateString("it-IT")]})]})]}),J.jsx(Qh,{columns:oe,data:Pe,keyField:"id",emptyMessage:"Nessuna spesa trovata",groupBy:O=>O.category?.name||"Senza categoria",groupHeader:(O,ge,we,_e)=>J.jsxs("div",{className:"flex items-center justify-between",children:[J.jsxs("div",{className:"text-sm font-semibold text-blue-800 dark:text-blue-200",children:["📂 ",O]}),J.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-300",children:[_e," spese",we!==void 0&&J.jsxs("span",{className:"ml-2 text-green-700 dark:text-green-300",children:["• ",kn(we,ue)]})]})]}),calculateGroupTotal:(O,ge)=>yi(ge,ue),formatCurrency:kn,selectedCurrency:ue}),J.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[J.jsx("div",{className:"flex justify-between items-center mb-4",children:J.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Riepilogo"})}),J.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[J.jsxs("div",{children:[J.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Totale Spese"}),J.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:Pe.length})]}),J.jsxs("div",{children:[J.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Importo Totale (",ue,")"]}),J.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:kn(yi(Pe,ue),ue)}),ve(Pe,ue)&&J.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"⚠️ Conversioni approssimate - basate sui tassi storici"})]}),J.jsxs("div",{children:[J.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Categorie Coinvolte"}),J.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:new Set(Pe.map(O=>O.category.id)).size})]})]})]}),J.jsx(Mc,{isOpen:i,onClose:()=>s(!1),title:u,children:J.jsx(T1,{title:u,data:n,onClose:()=>s(!1)})}),J.jsx(Mc,{isOpen:F,onClose:()=>R(!1),title:"Conferma Cancellazione",children:J.jsxs("div",{className:"space-y-4",children:[J.jsx("p",{className:"text-gray-900 dark:text-white",children:"Sei sicuro di voler eliminare questa spesa?"}),G&&J.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:J.jsxs("div",{className:"text-sm space-y-1",children:[J.jsxs("p",{children:[J.jsx("span",{className:"font-medium",children:"Descrizione:"})," ",G.description||"N/A"]}),J.jsxs("p",{children:[J.jsx("span",{className:"font-medium",children:"Importo:"})," ",G.amount," ",G.currency]}),J.jsxs("p",{children:[J.jsx("span",{className:"font-medium",children:"Data:"})," ",new Date(G.date).toLocaleDateString("it-IT")]}),J.jsxs("p",{children:[J.jsx("span",{className:"font-medium",children:"Categoria:"})," ",G.category?.name]})]})}),J.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:"⚠️ Questa azione non può essere annullata."}),J.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[J.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"Annulla"}),J.jsx("button",{onClick:K,disabled:ee.isPending,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:ee.isPending?"Eliminando...":"Elimina"})]})]})})]})},o0=Object.freeze(Object.defineProperty({__proto__:null,component:G5},Symbol.toStringTag,{value:"Module"}));export{gt as _,o0 as i,Ec as p};
