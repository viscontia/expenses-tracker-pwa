import{j as e,r as u}from"./index-DRQOx_Xf.js";import{X as b}from"./x-DeAad_EH.js";import{C as f,a as h}from"./info-DJPN9HXl.js";import{C as p,T as k}from"./trending-up-BLktqF8c.js";function m(){const[t,s]=u.useState([]),n=a=>{const l=Date.now().toString(),c={id:l,duration:5e3,...a};return s(x=>[...x,c]),c.duration&&c.duration>0&&setTimeout(()=>{d(l)},c.duration),l},d=a=>{s(l=>l.filter(c=>c.id!==a))};return{notifications:t,addNotification:n,removeNotification:d,notifyExchangeRateUpdate:a=>n({type:"success",title:"Tassi di cambio aggiornati",message:`${a} tassi di cambio sono stati aggiornati con successo.`,duration:4e3}),notifyExchangeRateSkipped:()=>n({type:"info",title:"Tassi già aggiornati",message:"I tassi di cambio sono già aggiornati per oggi.",duration:3e3}),notifyExchangeRateError:a=>n({type:"error",title:"Errore aggiornamento valute",message:`Non è stato possibile aggiornare i tassi: ${a}`,duration:6e3}),notifyExchangeRateStale:a=>n({type:"warning",title:"Tassi di cambio obsoleti",message:`I tassi non vengono aggiornati da ${a} giorni. Le conversioni potrebbero non essere precise.`,duration:8e3,action:{label:"Aggiorna ora",onClick:()=>{console.log("Manual exchange rate update triggered")}}})}}function C({className:t=""}){const{notifications:s,removeNotification:n}=m(),d=r=>{switch(r){case"success":return{bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-800",icon:h,iconColor:"text-green-500",titleColor:"text-green-800 dark:text-green-200",messageColor:"text-green-600 dark:text-green-300"};case"info":return{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-800",icon:k,iconColor:"text-blue-500",titleColor:"text-blue-800 dark:text-blue-200",messageColor:"text-blue-600 dark:text-blue-300"};case"warning":return{bg:"bg-amber-50 dark:bg-amber-900/20",border:"border-amber-200 dark:border-amber-800",icon:p,iconColor:"text-amber-500",titleColor:"text-amber-800 dark:text-amber-200",messageColor:"text-amber-600 dark:text-amber-300"};case"error":return{bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-800",icon:f,iconColor:"text-red-500",titleColor:"text-red-800 dark:text-red-200",messageColor:"text-red-600 dark:text-red-300"}}};return s.length===0?null:e.jsx("div",{className:`fixed top-4 right-4 z-50 space-y-2 ${t}`,children:s.map(r=>{const i=d(r.type),g=i.icon;return e.jsx("div",{className:`max-w-sm w-full ${i.bg} ${i.border} border rounded-lg shadow-lg p-4 transform transition-all duration-300 ease-in-out`,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(g,{className:`h-5 w-5 ${i.iconColor}`})}),e.jsxs("div",{className:"ml-3 w-0 flex-1",children:[e.jsx("p",{className:`text-sm font-medium ${i.titleColor}`,children:r.title}),e.jsx("p",{className:`mt-1 text-sm ${i.messageColor}`,children:r.message}),r.action&&e.jsx("div",{className:"mt-3",children:e.jsx("button",{onClick:r.action.onClick,className:`text-sm font-medium ${i.iconColor} hover:underline`,children:r.action.label})})]}),e.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:e.jsx("button",{onClick:()=>n(r.id),className:"rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","aria-label":"Chiudi notifica",children:e.jsx(b,{className:"h-4 w-4"})})})]})},r.id)})})}let o=null;function v({children:t}){return o=m(),e.jsxs(e.Fragment,{children:[t,e.jsx(C,{})]})}const w={success:t=>{o&&o.notifyExchangeRateUpdate(t)},skipped:()=>{o&&o.notifyExchangeRateSkipped()},error:t=>{o&&o.notifyExchangeRateError(t)},stale:t=>{o&&o.notifyExchangeRateStale(t)},custom:t=>{o&&o.addNotification(t)}};export{v as E,w as e};
